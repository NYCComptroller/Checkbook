{
  "datasets": {
    "nycha_all_agreements": {
      "datasourceName": "main",
      "source": "SELECT * FROM all_agreement_transactions WHERE transaction_status_name IN ('APPROVED','CLOSED','FINALLY CLOSED')"
    }
  },
  "cubes": {
    "nycha_all_agreements": {
      "sourceDatasetName": "nycha_all_agreements",
      "dimensions": [
        {
          "name":"purchase_order_number",
          "levels": [
            {
              "name":"purchase_order_number",
              "sourceColumnName":"purchase_order_number"
            }]
        },
        {
          "name": "agency_id",
          "levels": [
            {
              "name": "agency_id",
              "sourceColumnName": "agency_id"
            }
          ]
        },
        {
          "name": "agency_name",
          "levels": [
            {
              "name": "agency_name",
              "sourceColumnName": "agency_name"
            }
          ]
        },
        {
          "name": "agreement_type_name",
          "levels": [
            {
              "name": "agreement_type_name",
              "sourceColumnName": "agreement_type_name"
            }
          ]
        },
        {
          "name": "agreement_type_code",
          "levels": [
            {
              "name": "agreement_type_code",
              "sourceColumnName": "agreement_type_code"
            }
          ]
        }
      ],
      "measures": {
        "txcount": {
          "function":"COUNT(*)"
        }
      }
    }
  }
}
