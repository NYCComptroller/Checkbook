{
  "widgetType":"data_tables",
  "widgetSubType":"dataTableList",
  "cleanURLParameters":["year", "vendor"],
  "urlParamMap":{

  },
 // "paramTypeConfig": {},
  "header":"
        $header = NULL;
        $header .= widget_data_tables_export_link($node);
        return $header;
  ",
  "useList":true,
  "getTotalDataCount":true,
  "limit":"35",
  "noDataInitialLoad":true,
  "html_class":"initiative-table",
  "no_results_content":"No Results Found",
  "dataset":"checkbook_nycha:nycha_all_agreements",
  "columns": [ "purchase_order_number"],
  "caption":"",
  //"derivedColumns": {

  //},
  "skipCustomPadding":true,
  "table_columns": [
    {"label":"<div></div>","colLabel":"","column":"child_contrats_link"},
    {"labelAlias":"contract_id","column":"purchase_order_number"},
    {"label":"","column":""}
    ],
  "adjustDataTableOptions":"
      $adjustDataTableOptions = $node->widgetConfig->dataTableOptions;
      if(!$node->is_master_agreement) {
      $adjustDataTableOptions->fnInitComplete = '##function () { new FixedColumns( oTable, {\"iLeftColumns\": 2,\"iLeftWidth\": 180} );}##';
    }",
  "dataTableOptions":{
    "bRetrieve":true,
    "bServerSide":true,
    "bProcessing":true,
    "bFilter":false,
    "bPaginate":true,
    "iDisplayLength":35,
    "sPaginationType":"full_numbers",
    "sDom":"<pr><t><ip>",
    "oLanguage": {
    "sInfo":"Displaying transactions _START_ - _END_ of _TOTAL_",
    "sProcessing":"<img src='/sites/all/themes/checkbook/images/loading_large.gif' title='Processing...'/>"
    },
    "bInfo":true,
    "aoColumns": [
      {"sClass":"expander","sWidth":"30px","bSortable":false},
      {"sClass":"text", "sWidth":"130px","asSorting":["asc","desc"]},
      {"bSortable":false,"sWidth":"5px"}
    ],
    "aaSorting":[[1,"desc"]],
    "sScrollX":"100%",
    "bScrollCollapse": true
  },
  "customJS":"
    jQuery('#dtl_expand').live( 'click',function () {
    var nTr = this.parentNode.parentNode.parentNode;
    if ( jQuery(this).attr('class').match('loader') ){return;}
    if ( jQuery(this).attr('class').match('expanded') ){
    jQuery(this).removeClass('expanded').addClass('collapsed');
    oTable.fnClose( nTr );
    }
    else{
    jQuery(this).removeClass('collapsed').addClass('loader');
    fnLoadChildRecords(nTr, jQuery(this));
    }

    } );
  ",
    "customExternalJS":"

    function prepareTableListFilterUrl() {
          var oVendorNms = getNamedFilterCriteria('fvendorNm');

          var cUrl = oTable.fnSettings().sAjaxSource;
          var cUrlArray = cUrl.split('/');

          cUrl = adjustUrlParameter(cUrl,'vendornm_exact',oVendorNms);
          return cUrl;
    }"
}
