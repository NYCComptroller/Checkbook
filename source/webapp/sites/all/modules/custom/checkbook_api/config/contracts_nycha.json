{
  "contracts_nycha_all_years":{
    "searchCriteriaMap":{
      "purchase_order_type":"agreement_type_code",
      "contract_id":"contract_id",
      "vendor":"vendor_name",
      "responsibility_center":"responsibility_center_code",
      "contract_type":"contract_type_code",
      "award_method":"award_method_code",
      "industry":"industry_type_code",
      "current_amount":"release_line_total_amount",
      "other_government_entities_code":"agency_code",
      "purpose":"purpose",
      "pin":"po_header_id",
      "start_date":"agreement_start_date",
      "end_date":"agreement_end_date",
      "approved_date":"release_approved_date"
    },
    "dataset":{
      "name":"checkbook_nycha:nycha_all_agreements",
      "data_source":"checkbook_nycha",
      "sortColumn":["-contract_id", "release_number","shipment_number"],
      "columnTypes":{
        "contract_id":"like",
        "vendor":"like",
        "purpose":"contains"
      },
      "displayConfiguration":{
        "xml":{
          "rootElement":"contract_transactions",
          "rowParentElement":"transaction",
          "elementsColumn":{
              "contract_id":"contract_id",
              "purchase_order_type":"agreement_type_name",
              "release_number":"release_number",
              "item_category":"item_category",
              "item_description":"item_description",
              "quantity_ordered": "item_qty_ordered",
              "shipment_number":"shipment_number",
              "responsibility_center":"responsibility_center_descr",
              "start_date":"agreement_start_date",
              "end_date":"agreement_end_date",
              "approved_date":"release_approved_date",
              "line_current_amount":"release_line_total_amount",
              "line_original_amount":"release_line_original_amount",
              "line_spent_to_date":"release_line_spend_to_date",
              "contract_current_amount":"agreement_total_amount",
              "contract_original_amount":"agreement_original_amount",
              "contract_spent_to_date":"agreement_spend_to_date",
              "purpose":"purpose",
              "vendor":"vendor_name",
              "location":"location_descr",
              "contract_type":"contract_type_descr",
              "award_method":"award_method_name",
              "grant_name":"grant_name",
              "expenditure_type":"expenditure_type_descr",
              "industry":"display_industry_type_name",
              "funding_source":"funding_source_descr",
              "pin":"po_header_id",
              "program":"program_phase_descr",
              "project":"gl_project_descr"
          },
          "overrideColumns":{
            "contract_id":"contract_id",
            "purchase_order_type":"purchase_order_type",
            "release_number":"release_number",
            "item_category":"item_category",
            "item_description":"item_description",
            "quantity_ordered": "quantity_ordered",
            "shipment_number":"shipment_number",
            "responsibility_center":"responsibility_center",
            "start_date":"start_date",
            "end_date":"end_date",
            "approved_date":"approved_date",
            "line_current_amount":"line_current_amount",
            "line_original_amount":"line_original_amount",
            "line_spent_to_date":"line_spent_to_date",
            "contract_current_amount":"contract_current_amount",
            "contract_original_amount":"contract_original_amount",
            "contract_spent_to_date":"contract_spent_to_date",
            "purpose":"purpose",
            "vendor":"vendor",
            "location":"location",
            "contract_type":"contract_type",
            "award_method":"award_method",
            "grant_name":"grant_name",
            "expenditure_type":"expenditure_type",
            "industry":"industry",
            "funding_source":"funding_source",
            "pin":"pin",
            "program":"program",
            "project":"project"
          },
          "rowElements":["contract_id", "purchase_order_type", "quantity_ordered", "release_number", "item_description","item_category", "shipment_number",
             "start_date", "end_date", "approved_date", "line_current_amount", "line_original_amount",
            "line_spent_to_date", "contract_current_amount", "contract_original_amount", "contract_spent_to_date",
            "purpose", "vendor", "location", "contract_type", "award_method", "grant_name",
            "expenditure_type", "industry", "funding_source", "responsibility_center", "pin", "program", "project"]
        },
        "csv":{
          "elementsColumn":{
            "Contract ID":"contract_id",
            "Purchase Order Type":"agreement_type_name",
            "Release Number":"release_number",
            "Item Category":"item_category",
            "Item Description":"item_description",
            "Quantity Ordered": "item_qty_ordered",
            "Shipment Number":"shipment_number",
            "Responsibility Center":"responsibility_center_descr",
            "Start Date":"agreement_start_date",
            "End Date":"agreement_end_date",
            "Approved Date":"release_approved_date",
            "Line Current Amount":"release_line_total_amount",
            "Line Original amount":"release_line_original_amount",
            "Line Spent to Date":"release_line_spend_to_date",
            "Contract Current Amount":"agreement_total_amount",
            "Contract Original Amount":"agreement_original_amount",
            "Contract Spent to Date":"agreement_spend_to_date",
            "Purpose":"purpose",
            "Vendor":"vendor_name",
            "Location":"location_descr",
            "Contract Type":"contract_type_descr",
            "Award Method":"award_method_name",
            "Grant Name":"grant_name",
            "Expenditure Type":"expenditure_type_descr",
            "Industry":"display_industry_type_name",
            "Funding Source":"funding_source_descr",
            "PIN":"po_header_id",
            "Program":"program_phase_descr",
            "Project":"gl_project_descr"
          },
          "overrideColumns":{
            "Contract ID":"Contract ID",
            "Purchase Order Type":"Purchase Order Type",
            "Release Number":"Release Number",
            "Item Category":"Item Category",
            "Item Description":"Item Description",
            "Quantity Ordered": "Quantity Ordered",
            "Shipment Number":"Shipment Number",
            "Responsibility Center":"Responsibility Center",
            "Start Date":"Start Date",
            "End Date":"End Date",
            "Approved Date":"Approved Date",
            "Line Current Amount":"Line Current Amount",
            "Line Original amount":"Line Original amount",
            "Line Spent to Date":"Line Spent to Date",
            "Contract Current Amount":"Contract Current Amount",
            "Contract Original Amount":"Contract Original Amount",
            "Contract Spent to Date":"Contract Spent to Date",
            "Purpose":"Purpose",
            "Vendor":"Vendor",
            "Location":"Location",
            "Borough":"Borough",
            "Contract Type":"Contract Type",
            "Award Method":"Award Method",
            "Grant Name":"Grant Name",
            "Expenditure Type":"Expenditure Type",
            "Industry":"Industry",
            "Funding Source":"Funding Source",
            "PIN":"PIN",
            "Program":"Program",
            "Project":"Project"
          }
        }
      },
      "adjustParameters":"if(function_exists('checkbook_api_adjustNYCHAContractsParams')){checkbook_api_adjustNYCHAContractsParams($data_set,$parameters,$criteria);}",
      "adjustSql":"if(function_exists('checkbook_api_adjustNYCHAContractSql')){checkbook_api_adjustNYCHAContractSql($sql_query);}"
    },
    "requestParameters":{
      "fiscal_year":{"valueType":"value","dataType":"year","maxLength":"4"},
      "purchase_order_type":{"valueType":"value","dataType":"text","maxLength":"4"},
      "contract_id":{"valueType":"value","dataType":"text","maxLength":"32"},
      "vendor":{"valueType":"value","dataType":"text","maxLength":"100"},
      "responsibility_center":{"valueType":"value","dataType":"text","maxLength":"10"},
      "contract_type":{"valueType":"value","dataType":"text","maxLength":"10"},
      "award_method":{"valueType":"value","dataType":"text","maxLength":"10"},
      "industry":{"valueType":"value","dataType":"text","maxLength":"10"},
      "current_amount":{"valueType":"range","dataType":"amount","maxLength":"18"},
      "other_government_entities_code":{"valueType":"value","dataType":"text","maxLength":"4"},
      "purpose":{"valueType":"value","dataType":"text","maxLength":"100"},
      "pin":{"valueType":"value","dataType":"text", "maxLength":"100"},
      "start_date":{"valueType":"range","dataType":"date","format":"YYYY-MM-DD"},
      "end_date":{"valueType":"range","dataType":"date","format":"YYYY-MM-DD"},
      "approved_date":{"valueType":"range","dataType":"date","format":"YYYY-MM-DD"}
    }
  },
  "contracts_nycha":{
    "searchCriteriaMap":{
      "purchase_order_type":"agreement_type_code",
      "contract_id":"contract_id",
      "vendor":"vendor_name",
      "responsibility_center":"responsibility_center_code",
      "contract_type":"contract_type_code",
      "award_method":"award_method_code",
      "industry":"industry_type_code",
      "current_amount":"release_line_total_amount",
      "other_government_entities_code":"agency_code",
      "purpose":"purpose",
      "pin":"po_header_id",
      "start_date":"agreement_start_date",
      "end_date":"agreement_end_date",
      "approved_date":"release_approved_date",
      "fiscal_year":"release_approved_year"
    },
    "dataset":{
      "name":"checkbook_nycha:nycha_all_agreements",
      "data_source":"checkbook_nycha",
      "sortColumn":["-contract_id", "release_number", "shipment_number"],
      "columnTypes":{
        "contract_id":"like",
        "vendor":"like",
        "purpose":"contains"
      },
      "displayConfiguration":{
        "xml":{
          "rootElement":"contract_transactions",
          "rowParentElement":"transaction",
          "elementsColumn":{
            "year":"release_approved_year",
            "contract_id":"contract_id",
            "purchase_order_type":"agreement_type_name",
            "release_number":"release_number",
            "item_category":"item_category",
            "item_description":"item_description",
            "quantity_ordered": "item_qty_ordered",
            "shipment_number":"shipment_number",
            "responsibility_center":"responsibility_center_descr",
            "start_date":"agreement_start_date",
            "end_date":"agreement_end_date",
            "approved_date":"release_approved_date",
            "line_current_amount":"release_line_total_amount",
            "line_original_amount":"release_line_original_amount",
            "line_spent_to_date":"release_line_spend_to_date",
            "contract_current_amount":"agreement_total_amount",
            "contract_original_amount":"agreement_original_amount",
            "contract_spent_to_date":"agreement_spend_to_date",
            "purpose":"purpose",
            "vendor":"vendor_name",
            "location":"location_descr",
            "contract_type":"contract_type_descr",
            "award_method":"award_method_name",
            "grant_name":"grant_name",
            "expenditure_type":"expenditure_type_descr",
            "industry":"display_industry_type_name",
            "funding_source":"funding_source_descr",
            "pin":"po_header_id",
            "program":"program_phase_descr",
            "project":"gl_project_descr"
          },
          "overrideColumns":{
            "year":"year",
            "contract_id":"contract_id",
            "purchase_order_type":"purchase_order_type",
            "release_number":"release_number",
            "item_category":"item_category",
            "item_description":"item_description",
            "quantity_ordered": "quantity_ordered",
            "shipment_number":"shipment_number",
            "responsibility_center":"responsibility_center",
            "start_date":"start_date",
            "end_date":"end_date",
            "approved_date":"approved_date",
            "line_current_amount":"line_current_amount",
            "line_original_amount":"line_original_amount",
            "line_spent_to_date":"line_spent_to_date",
            "contract_current_amount":"contract_current_amount",
            "contract_original_amount":"contract_original_amount",
            "contract_spent_to_date":"contract_spent_to_date",
            "purpose":"purpose",
            "vendor":"vendor",
            "location":"location",
            "contract_type":"contract_type",
            "award_method":"award_method",
            "grant_name":"grant_name",
            "expenditure_type":"expenditure_type",
            "industry":"industry",
            "funding_source":"funding_source",
            "pin":"pin",
            "program":"program",
            "project":"project"
          },
          "rowElements":["year", "contract_id","quantity_ordered", "purchase_order_type", "release_number", "item_description", "item_category","shipment_number",
                          "start_date", "end_date", "approved_date", "line_current_amount", "line_original_amount",
                         "line_spent_to_date", "contract_current_amount", "contract_original_amount", "contract_spent_to_date",
                         "purpose", "vendor", "location", "contract_type", "award_method", "grant_name",
                         "expenditure_type", "industry", "funding_source", "responsibility_center", "pin", "program", "project"]
        },
        "csv":{
          "elementsColumn":{
            "Year": "release_approved_year",
            "Contract ID":"contract_id",
            "Purchase Order Type":"agreement_type_name",
            "Release Number":"release_number",
            "Item Category":"item_category",
            "Item Description":"item_description",
            "Quantity Ordered": "item_qty_ordered",
            "Shipment Number":"shipment_number",
            "Responsibility Center":"responsibility_center_descr",
            "Start Date":"agreement_start_date",
            "End Date":"agreement_end_date",
            "Approved Date":"release_approved_date",
            "Line Current Amount":"release_line_total_amount",
            "Line Original amount":"release_line_original_amount",
            "Line Spent to Date":"release_line_spend_to_date",
            "Contract Current Amount":"agreement_total_amount",
            "Contract Original Amount":"agreement_original_amount",
            "Contract Spent to Date":"agreement_spend_to_date",
            "Purpose":"purpose",
            "Vendor":"vendor_name",
            "Location":"location_descr",
            "Contract Type":"contract_type_descr",
            "Award Method":"award_method_name",
            "Grant Name":"grant_name",
            "Expenditure Type":"expenditure_type_descr",
            "Industry":"display_industry_type_name",
            "Funding Source":"funding_source_descr",
            "PIN":"po_header_id",
            "Program":"program_phase_descr",
            "Project":"gl_project_descr"
          },
          "overrideColumns":{
            "Year": "Year",
            "Contract ID":"Contract ID",
            "Purchase Order Type":"Purchase Order Type",
            "Release Number":"Release Number",
            "Item Category":"Item Category",
            "Item Description":"Item Description",
            "Quantity Ordered": "Quantity Ordered",
            "Shipment Number":"Shipment Number",
            "Responsibility Center":"Responsibility Center",
            "Start Date":"Start Date",
            "End Date":"End Date",
            "Approved Date":"Approved Date",
            "Line Current Amount":"Line Current Amount",
            "Line Original amount":"Line Original amount",
            "Line Spent to Date":"Line Spent to Date",
            "Contract Current Amount":"Contract Current Amount",
            "Contract Original Amount":"Contract Original Amount",
            "Contract Spent to Date":"Contract Spent to Date",
            "Purpose":"Purpose",
            "Vendor":"Vendor",
            "Location":"Location",
            "Borough":"Borough",
            "Contract Type":"Contract Type",
            "Award Method":"Award Method",
            "Grant Name":"Grant Name",
            "Expenditure Type":"Expenditure Type",
            "Industry":"Industry",
            "Funding Source":"Funding Source",
            "PIN":"PIN",
            "Program":"Program",
            "Project":"Project"
          }
        }
      },
      "adjustParameters":"if(function_exists('checkbook_api_adjustNYCHAContractsParams')){checkbook_api_adjustNYCHAContractsParams($data_set,$parameters,$criteria);}",
      "adjustSql":"if(function_exists('checkbook_api_adjustNYCHAContractSql')){checkbook_api_adjustNYCHAContractSql($sql_query);}"
    },
    "requestParameters":{
      "fiscal_year":{"valueType":"value","dataType":"year","maxLength":"4"},
      "purchase_order_type":{"valueType":"value","dataType":"text","maxLength":"4"},
      "contract_id":{"valueType":"value","dataType":"text","maxLength":"32"},
      "vendor":{"valueType":"value","dataType":"text","maxLength":"100"},
      "responsibility_center":{"valueType":"value","dataType":"text","maxLength":"10"},
      "contract_type":{"valueType":"value","dataType":"text","maxLength":"10"},
      "award_method":{"valueType":"value","dataType":"text","maxLength":"10"},
      "industry":{"valueType":"value","dataType":"text","maxLength":"10"},
      "current_amount":{"valueType":"range","dataType":"amount","maxLength":"18"},
      "other_government_entities_code":{"valueType":"value","dataType":"text","maxLength":"4"},
      "purpose":{"valueType":"value","dataType":"text","maxLength":"100"},
      "pin":{"valueType":"value","dataType":"text", "maxLength":"100"},
      "start_date":{"valueType":"range","dataType":"date","format":"YYYY-MM-DD"},
      "end_date":{"valueType":"range","dataType":"date","format":"YYYY-MM-DD"},
      "approved_date":{"valueType":"range","dataType":"date","format":"YYYY-MM-DD"}
    }
  },
  "validators":[
    {
      "name":"optionalSingleFilter",
      "configKey":["contracts_nycha", "contracts_nycha_all_years"],
      "config":{
        "criteriaLevel":"value",
        "validatorType":"filterName",
        "validatorTypeConfig":{
          "required":false,
          "filterNames":["fiscal_year"]
        }
      }
    }
  ]
}
