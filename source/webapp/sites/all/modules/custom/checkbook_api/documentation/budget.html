<ul class="api-jump-links">
    <li><a href="#global-parameters">Global Parameters</a></li>
    <li><a href="#budget-parameters">Budget Parameters</a></li>
    <li><a href="#possible-response">Possible Response Columns</a></li>
    <li><a href="#sample-xml">Sample XML Requests and Responses</a></li>
    <li><a href="#sample-request-expense-budget">Sample Request: Budget
        Transactions</a></li>
    <li><a href="#sample-response-expense-budget">Sample Response: Budget
        Transactions</a></li>
    <li><a href="#status-codes-messages">Status Codes and Messages</a></li>
</ul>
<a name="global-parameters"></a>
<h2>Global Parameters</h2>
<table class="api-table">
    <thead>
    <tr>
        <th>Name</th>
        <th>Required (Y/N)</th>
        <th>Format/Value</th>
        <th>Description</th>
        <th>Example</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="bold">type_of_data</td>
        <td>Y</td>
        <td>String – Must be one of the following:<br/>Contracts, Budget,
            Payroll, or Spending.
        </td>
        <td>Allows user to select different types of data: Value must be one of
            the following Contracts, Budget, Payroll, or Spending.
        </td>
        <td>Budget</td>
    </tr>
    <tr>
        <td class="bold">max_records</td>
        <td>N</td>
        <td>String – Max 4 Characters</td>
        <td>Allows you to set the maximum number of records retrieved to fewer
            than 1000
        </td>
        <td>500</td>
    </tr>
    <tr>
        <td class="bold">record_from</td>
        <td>N</td>
        <td>String – Max 15 Characters</td>
        <td>Allows you to set the starting position of the records to be
            retrieved
        </td>
        <td>12500</td>
    </tr>
    </tbody>
</table>
<a href="#top" class="float-right">Back to the top</a>
<a name="budget-parameters"></a>
<h2>type_of_data: Budget</h2>
<p><strong>Budget Parameters</strong> – All the parameters are optional, meaning
    that you can send only 1 or all of them. If you choose to not send any, you
    will receive random transactions in return as these parameters are the
    filter.</p>
<table class="api-table">
    <thead>
    <tr>
        <th>Name</th>
        <th>Required (Y/N)</th>
        <th>Type of Criteria<br>(Value/Range)</th>
        <th>Format/Value</th>
        <th>Description</th>
        <th>Example</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>year</td>
        <td>N</td>
        <td>Value</td>
        <td>String - YYYY</td>
        <td>Fiscal Year. Must be exactly 4 characters. If no fiscal year is
            selected, all years are displayed
        </td>
        <td>2005</td>
    </tr>
    <tr>
        <td class="bold">budget_code</td>
        <td>N</td>
        <td>Value</td>
        <td>String - 4 characters</td>
        <td>Budget code identifier. Must be exactly 4 characters. See here for
            <a href="/ref_code_list/budget">Budget codes list</a></td>
        <td>0702</td>
    </tr>
    <tr>
        <td class="bold">agency_code</td>
        <td>N</td>
        <td>Value</td>
        <td>String - 3 characters</td>
        <td>See here for <a href="/ref_code_list/agency">agency codes list</a>
        </td>
        <td>127</td>
    </tr>
    <tr>
        <td class="bold">department_code</td>
        <td>N</td>
        <td>Value</td>
        <td>String – 3 characters</td>
        <td>See here for <a href="/ref_code_list/department">department codes
            list</a></td>
        <td>561</td>
    </tr>
    <tr>
        <td class="bold">expense_category</td>
        <td>N</td>
        <td>Value</td>
        <td>String - 3 characters</td>
        <td>See here for <a href="/ref_code_list/budget_expense_category">expense
            category codes list</a></td>
        <td>662</td>
    </tr>
    <tr>
        <td class="bold">adopted</td>
        <td>N</td>
        <td>Range</td>
        <td>String - Maximum 18 Characters</td>
        <td>A dollar amount for the total amount of a budget that was officially
            approved by the legislative body for a specified time period.
        </td>
        <td>250000.00</td>
    </tr>
    <tr>
        <td class="bold">modified</td>
        <td>N</td>
        <td>Range</td>
        <td>String – Maximum 18 Characters</td>
        <td>A dollar amount for the current, to-date, budget amount.</td>
        <td>250000.00</td>
    </tr>
    <tr>
        <td class="bold">pre_encumbered</td>
        <td>N</td>
        <td>Range</td>
        <td>String – Maximum 18 Characters</td>
        <td>A dollar amount (including both negative and positive) for the
            amount of money that has entered the pre-encumbered state for a
            budget or allotment line.
        </td>
        <td>250000.00</td>
    </tr>
    <tr>
        <td class="bold">encumbered</td>
        <td>N</td>
        <td>Range</td>
        <td>String – Maximum 18 Characters</td>
        <td>A dollar amount (including both negative and positive) for the total
            dollar amount of funds that have entered an encumbered state.
        </td>
        <td>250000.00</td>
    </tr>
    <tr>
        <td class="bold">accrued_expense</td>
        <td>N</td>
        <td>Range</td>
        <td>String – Maximum 18 Characters</td>
        <td>A dollar amount (including both negative and positive) for the
            amount of expenditures against a budget that have not been paid.
        </td>
        <td>250000.00</td>
    </tr>
    <tr>
        <td class="bold">cash_expense</td>
        <td>N</td>
        <td>Range</td>
        <td>String – Maximum 18 Characters</td>
        <td>A dollar amount (including both negative and positive) for the
            amount of expenditures against a budget that have been paid, thereby
            reducing cash.
        </td>
        <td>250000.00</td>
    </tr>
    <tr>
        <td class="bold">post_ adjustment</td>
        <td>N</td>
        <td>Range</td>
        <td>String – Maximum 18 Characters</td>
        <td>A dollar amount (including both negative and positive) for the
            amount represents the changes to Accrued Expenditures in fiscal
            years after the budget year.
        </td>
        <td>250000.00</td>
    </tr>
    </tbody>
</table>
<a href="#top" class="float-right">Back to the top</a>
<a name="possible-response"></a>
<h2>Possible response:</h2>
<p>The user would be able to select which columns he would like to view in his
    output. Below mentioned are the possible column names for budget domain. The
    user should include the required column names in the request xml in an
    element called <code>&lt;response_columns&gt;</code>.</p>
<table class="api-table">
    <thead>
    <tr>
        <th class="bold" colspan="2">Response Column Names</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>agency</td>
        <td>year</td>
    </tr>
    <tr>
        <td>department</td>
        <td>post_adjustment</td>
    </tr>
    <tr>
        <td>expense_category</td>
        <td>modified</td>
    </tr>
    <tr>
        <td>budget_code</td>
        <td>adopted</td>
    </tr>
    <tr>
        <td>budget_name</td>
        <td>encumbered</td>
    </tr>
    <tr>
        <td>pre_encumbered</td>
        <td>cash_expense</td>
    </tr>
    <tr>
        <td>accrued_expense</td>
        <td>&nbsp;</td>
    </tbody>
</table>
<a href="#top" class="float-right">Back to the top</a>
<a name="sample-xml"></a>
<h2>Sample XML Requests and Responses</h2>
<p>The following xml file will specify API method calls and the details for each
    call. If no value is supplied, then the default XML will be used (citywide
    information). In the responses, the actual search parameters that were sent
    will be returned in an element called <code>&lt;search_criteria&gt;</code>.
</p>
<a href="#top" class="float-right">Back to the top</a>
<a name="sample-request-expense-budget"></a>
<h3>Sample Request: Budget Details</h3>
<pre class="prettyprint" id="xml">
&lt;request&gt;
    &lt;type_of_data&gt;Budget&lt;/type_of_data&gt;
    &lt;records_from&gt;1&lt;/records_from&gt;
    &lt;max_records&gt;1&lt;/max_records&gt;
    &lt;search_criteria&gt;
        &lt;criteria&gt;
            &lt;name&gt;year&lt;/name&gt;
            &lt;type&gt;value&lt;/type&gt;
            &lt;value&gt;2011&lt;/value&gt;
        &lt;/criteria&gt;
        &lt;criteria&gt;
            &lt;name&gt;budget_code&lt;/name&gt;
            &lt;type&gt;value&lt;/type&gt;
            &lt;value&gt;0702&lt;/value&gt;
        &lt;/criteria&gt;
        &lt;criteria&gt;
            &lt;name&gt;agency_code&lt;/name&gt;
            &lt;type&gt;value&lt;/type&gt;
            &lt;value&gt;201&lt;/value&gt;
        &lt;/criteria&gt;
        &lt;criteria&gt;
            &lt;name&gt;department_code&lt;/name&gt;
            &lt;type&gt;value&lt;/type&gt;
            &lt;value&gt;017&lt;/value&gt;
        &lt;/criteria&gt;
        &lt;criteria&gt;
            &lt;name&gt;expense_category&lt;/name&gt;
            &lt;type&gt;value&lt;/type&gt;
            &lt;value&gt;112&lt;/value&gt;
        &lt;/criteria&gt;
        &lt;criteria&gt;
            &lt;name&gt;adopted&lt;/name&gt;
            &lt;type&gt;range&lt;/type&gt;
            &lt;start&gt;200.00&lt;/start&gt;
            &lt;end&gt;1500.00&lt;/end&gt;
        &lt;/criteria&gt;
        &lt;criteria&gt;
            &lt;name&gt;modified&lt;/name&gt;
            &lt;type&gt;range&lt;/type&gt;
            &lt;start&gt;600.00&lt;/start&gt;
            &lt;end&gt;2500.00&lt;/end&gt;
        &lt;/criteria&gt;
        &lt;criteria&gt;
            &lt;name&gt;pre_encumbered&lt;/name&gt;
            &lt;type&gt;range&lt;/type&gt;
            &lt;start&gt;100.00&lt;/start&gt;
            &lt;end&gt;2000.00&lt;/end&gt;
        &lt;/criteria&gt;
        &lt;criteria&gt;
            &lt;name&gt;encumbered&lt;/name&gt;
            &lt;type&gt;range&lt;/type&gt;
            &lt;start&gt;500.00&lt;/start&gt;
            &lt;end&gt;1000.00&lt;/end&gt;
        &lt;/criteria&gt;
        &lt;criteria&gt;
            &lt;name&gt;cash_expense&lt;/name&gt;
            &lt;type&gt;range&lt;/type&gt;
            &lt;start&gt;1000.00&lt;/start&gt;
            &lt;end&gt;2500.00&lt;/end&gt;
        &lt;/criteria&gt;
        &lt;criteria&gt;
            &lt;name&gt;post_adjustment&lt;/name&gt;
            &lt;type&gt;range&lt;/type&gt;
            &lt;start&gt;700.00&lt;/start&gt;
            &lt;end&gt;2500.00&lt;/end&gt;
        &lt;/criteria&gt;
        &lt;criteria&gt;
            &lt;name&gt;accrued_expense&lt;/name&gt;
            &lt;type&gt;range&lt;/type&gt;
            &lt;start&gt;1200.00&lt;/start&gt;
            &lt;end&gt;5500.00&lt;/end&gt;
        &lt;/criteria&gt;
    &lt;/search_criteria&gt;
    &lt;response_columns&gt;
        &lt;column&gt;agency&lt;/column&gt;
        &lt;column&gt;year&lt;/column&gt;
        &lt;column&gt;department&lt;/column&gt;
        &lt;column&gt;expense_category&lt;/column&gt;
        &lt;column&gt;budget_code&lt;/column&gt;
        &lt;column&gt;budget_name&lt;/column&gt;
        &lt;column&gt;modified&lt;/column&gt;
        &lt;column&gt;adopted&lt;/column&gt;
        &lt;column&gt;pre_encumbered&lt;/column&gt;
        &lt;column&gt;encumbered&lt;/column&gt;
        &lt;column&gt;cash_expense&lt;/column&gt;
        &lt;column&gt;post_adjustment&lt;/column&gt;
        &lt;column&gt;accrued_expense&lt;/column&gt;
    &lt;/response_columns&gt;
&lt;/request&gt;
</pre>
<a href="#top" class="float-right">Back to the top</a>
<a name="sample-response-expense-budget"></a>
<h3>Sample Response: Budget Details</h3>
<pre class="prettyprint" id="xml">
&lt;response&gt;
    &lt;status&gt;
        &lt;result&gt;success&lt;/result&gt;
        &lt;messages&gt;
            &lt;message&gt;
                &lt;code&gt;1&lt;/code&gt;
                &lt;description&gt;The request is a success but there are no results found for given search criteria.&lt;/description&gt;
            &lt;/message&gt;
        &lt;/messages&gt;
    &lt;/status&gt;
    &lt;request_criteria&gt;
        &lt;request&gt;
            &lt;type_of_data&gt;Budget&lt;/type_of_data&gt;
            &lt;records_from&gt;1&lt;/records_from&gt;
            &lt;max_records&gt;1&lt;/max_records&gt;
            &lt;search_criteria&gt;
                &lt;criteria&gt;
                    &lt;name&gt;year&lt;/name&gt;
                    &lt;type&gt;value&lt;/type&gt;
                    &lt;value&gt;2011&lt;/value&gt;
                &lt;/criteria&gt;
                &lt;criteria&gt;
                    &lt;name&gt;budget_code&lt;/name&gt;
                    &lt;type&gt;value&lt;/type&gt;
                    &lt;value&gt;0702&lt;/value&gt;
                &lt;/criteria&gt;
                &lt;criteria&gt;
                    &lt;name&gt;agency_code&lt;/name&gt;
                    &lt;type&gt;value&lt;/type&gt;
                    &lt;value&gt;201&lt;/value&gt;
                &lt;/criteria&gt;
                &lt;criteria&gt;
                    &lt;name&gt;department_code&lt;/name&gt;
                    &lt;type&gt;value&lt;/type&gt;
                    &lt;value&gt;017&lt;/value&gt;
                &lt;/criteria&gt;
                &lt;criteria&gt;
                    &lt;name&gt;expense_category&lt;/name&gt;
                    &lt;type&gt;value&lt;/type&gt;
                    &lt;value&gt;112&lt;/value&gt;
                &lt;/criteria&gt;
                &lt;criteria&gt;
                    &lt;name&gt;adopted&lt;/name&gt;
                    &lt;type&gt;range&lt;/type&gt;
                    &lt;start&gt;200.00&lt;/start&gt;
                    &lt;end&gt;1500.00&lt;/end&gt;
                &lt;/criteria&gt;
                &lt;criteria&gt;
                    &lt;name&gt;modified&lt;/name&gt;
                    &lt;type&gt;range&lt;/type&gt;
                    &lt;start&gt;600.00&lt;/start&gt;
                    &lt;end&gt;2500.00&lt;/end&gt;
                &lt;/criteria&gt;
                &lt;criteria&gt;
                    &lt;name&gt;pre_encumbered&lt;/name&gt;
                    &lt;type&gt;range&lt;/type&gt;
                    &lt;start&gt;100.00&lt;/start&gt;
                    &lt;end&gt;2000.00&lt;/end&gt;
                &lt;/criteria&gt;
                &lt;criteria&gt;
                    &lt;name&gt;encumbered&lt;/name&gt;
                    &lt;type&gt;range&lt;/type&gt;
                    &lt;start&gt;500.00&lt;/start&gt;
                    &lt;end&gt;1000.00&lt;/end&gt;
                &lt;/criteria&gt;
                &lt;criteria&gt;
                    &lt;name&gt;cash_expense&lt;/name&gt;
                    &lt;type&gt;range&lt;/type&gt;
                    &lt;start&gt;1000.00&lt;/start&gt;
                    &lt;end&gt;2500.00&lt;/end&gt;
                &lt;/criteria&gt;
                &lt;criteria&gt;
                    &lt;name&gt;post_adjustment&lt;/name&gt;
                    &lt;type&gt;range&lt;/type&gt;
                    &lt;start&gt;700.00&lt;/start&gt;
                    &lt;end&gt;2500.00&lt;/end&gt;
                &lt;/criteria&gt;
                &lt;criteria&gt;
                    &lt;name&gt;accrued_expense&lt;/name&gt;
                    &lt;type&gt;range&lt;/type&gt;
                    &lt;start&gt;1200.00&lt;/start&gt;
                    &lt;end&gt;5500.00&lt;/end&gt;
                &lt;/criteria&gt;
            &lt;/search_criteria&gt;
            &lt;response_columns&gt;
                &lt;column&gt;agency&lt;/column&gt;
                &lt;column&gt;year&lt;/column&gt;
                &lt;column&gt;department&lt;/column&gt;
                &lt;column&gt;expense_category&lt;/column&gt;
                &lt;column&gt;budget_code&lt;/column&gt;
                &lt;column&gt;budget_name&lt;/column&gt;
                &lt;column&gt;modified&lt;/column&gt;
                &lt;column&gt;adopted&lt;/column&gt;
                &lt;column&gt;pre_encumbered&lt;/column&gt;
                &lt;column&gt;encumbered&lt;/column&gt;
                &lt;column&gt;cash_expense&lt;/column&gt;
                &lt;column&gt;post_adjustment&lt;/column&gt;
                &lt;column&gt;accrued_expense&lt;/column&gt;
            &lt;/response_columns&gt;
        &lt;/request&gt;
    &lt;/request_criteria&gt;
    &lt;result_records&gt;
        &lt;record_count&gt;0&lt;/record_count&gt;
    &lt;/result_records&gt;
&lt;/response&gt;
</pre>
<a href="#top" class="float-right">Back to the top</a>
<a name="status-codes-messages"></a>
<h2>Status Codes and Messages</h2>
<p>Status messages are categorized and displayed as status codes with short
    description for the user to understand the cause of the error. In case of an
    error no result records will be displayed and the error message will be
    displayed inside the <code><message></code> XML element as shown below.
    See here for <a href="#"class="status-codes">list of Status codes and Messages</a>.
</p>
<h3>Example:</h3>
<ul>
    <li>Result is Success:<br>
<pre>
    &lt;status&gt;
    &lt;result&gt;success&lt;/result&gt;
    &lt;messages&gt;
        &lt;message&gt;
            &lt;code&gt;1&lt;/code&gt;
            &lt;description&gt; The request is a success but there are no results found for given search criteria&lt;/description&gt;
        &lt;/message&gt;
    &lt;/messages&gt;
&lt;/status&gt;
</pre>
    </li>
    <li>Result is Failure:<br/>
    <pre>
&lt;status&gt;
    &lt;result&gt;failure&lt;/result&gt;
    &lt;messages&gt;
        &lt;message&gt;
            &lt;code&gt;1000&lt;/code&gt;
            &lt;description&gt;Required parameter 'type_of_data' is missing&lt;/description&gt;
        &lt;/message&gt;
    &lt;/messages&gt;
&lt;/status&gt;
    </pre>
    </li>
</ul>
<a href="#top" class="float-right">Back to the top</a>
<div class="status-codes">
    <table class="api-table">
        <thead>
        <tr>
            <th>Status Code</th>
            <th>Description</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>1</td>
            <td>The request is a success but there are no results found for
                given search criteria.
            </td>
        </tr>
        <tr>
            <td>1000</td>
            <td>Required parameter 'type_of_data' is missing.</td>
        </tr>
        <tr>
            <td>1001</td>
            <td>Invalid value 'BudgetRequest' is provided for 'type_of_data'.
                Valid values are Budget, Contracts, Spending, Payroll.
            </td>
        </tr>
        <tr>
            <td>1002</td>
            <td>Provided value '2.1' for 'records_from' is not an integer. Valid
                value is a number value without decimal places
            </td>
        </tr>
        <tr>
            <td>1003</td>
            <td>Total number of requested records '1001' exceeds allowed limit
                of '1000' records
            </td>
        </tr>
        <tr>
            <td>1101</td>
            <td>Provided request parameter 'date' is not valid for 'Budget'
                domain. Valid values are 'year, agency_code,
                department_code, budget_code, expense_category, adopted,
                modified, pre_encumbered, encumbered,
                cash_expense, post_adjustment, accrued_expense
            </td>
        </tr>
        <tr>
            <td>1102</td>
            <td>No value is provided for request parameter 'year'.</td>
        </tr>
        <tr>
            <td>1103</td>
            <td>Provided value '20000' for request parameter 'year' is
                not valid year.
            </td>
        </tr>
        <tr>
            <td>1104</td>
            <td>Provided 'start' value '200s' for request parameter
                'adopted' is not valid amount.
            </td>
        </tr>
        <tr>
            <td>1105</td>
            <td>Provided start value '1000' is greater than end value '500' for
                request parameter 'adopted'.
            </td>
        </tr>
        <tr>
            <td>1106</td>
            <td>Provided response column 'agencyname' value is not allowed for
                'Budget' domain. Valid values are 'agency, department,
                expense_category, budget_code, budget_name,
                modified, adopted, pre_encumbered,
                encumbered, cash_expense, post_adjustment, accrued_expense'.
            </td>
        </tr>
        <tr>
            <td>1107</td>
            <td>Provided value for criteria (1) type element 'valeu' is invalid.
                Valid values are 'value, range'</td>
        </tr>
        <tr>
            <td>1108</td>
            <td>Provided value 'abcd' for request parameter 'agency_code'
                exceeds maximum allowed '3' characters.
            </td>
        </tr>
        <tr>
            <td>1109</td>
            <td>Provided 'start' value '12345678901234567890' for request parameter
                'adopted' exceeds maximum allowed '18' characters.
            </td>
        </tr>
        <tr>
            <td>1110</td>
            <td>Request parameter 'agency_code' does not support range values.
            </td>
        </tr>
        </tbody>
    </table>
</div>