<statements>
    <statement name="GetCityWideChecks" datasource="checkbook">
        <param name="year" required ="true"/>
        <param name="yeartype" required ="true"/>
        <sql>
            <select>
                SELECT
                check_eft_issued_date as issue_date,
                vendor_name,
                agency_name,
                check_amount,
                expenditure_object_name as expense_category,
                agency_id,
                vendor_id,
                expenditure_object_id,
                department_name
                FROM disbursement_line_item_details
            </select>
            <where>
                <exp op="AND">
                    <exp op="=" dbField="check_eft_issued_nyc_year_id" paramName="year" />
                    <exp op="IF" condition="=" paramName="yeartype" compareValue="B">
                        <exp op="=" dbField="check_eft_issued_nyc_year_id" paramName="year" />
                    </exp>
                    <exp op="IF" condition="=" paramName="yeartype" compareValue="C">
                        <exp op="=" dbField="calendar_fiscal_year_id" paramName="year" />
                    </exp>
                </exp>
            </where>
        </sql>
    </statement>
    <statement name="GetCountCityWideChecks" datasource="checkbook">
        <param name="year" required ="true"/>
        <param name="yeartype" required ="true"/>
        <sql>
            <select>
                SELECT DISTINCT count(check_eft_issued_date) as record_count FROM disbursement_line_item_details
            </select>
            <where>
                <exp op="AND">
                    <exp op="=" dbField="check_eft_issued_nyc_year_id" paramName="year" />
                    <exp op="IF" condition="=" paramName="yeartype" compareValue="B">
                        <exp op="=" dbField="check_eft_issued_nyc_year_id" paramName="year" />
                    </exp>
                    <exp op="IF" condition="=" paramName="yeartype" compareValue="C">
                        <exp op="=" dbField="calendar_fiscal_year_id" paramName="year" />
                    </exp>
                </exp>
            </where>
        </sql>
    </statement>
    <statement name="GetMwbeChecks" datasource="checkbook">
        <param name="fiscal_year_id" required ="true"/>
        <param name="calendar_year_id" />
        <sql>
            <select>
                SELECT
                check_eft_issued_date,
                vendor_name,
                agency_name,
                check_amount,
                expenditure_object_name,
                agency_id,
                vendor_id,
                expenditure_object_id,
                department_name
                FROM disbursement_line_item_details
            </select>
            <where>
                <exp op="AND">
                    <exp op="=" dbField="check_eft_issued_nyc_year_id" paramName="fiscal_year_id" />
                    <exp op="=" dbField="check_eft_issued_nyc_year_id" paramName="calendar_year_id" />
                    <exp op="IS NOT" dbField="check_eft_issued_nyc_year_id">0</exp>
                    <exp op="OR">
                        <exp op="=" dbField="blah" paramName="fiscal_year_id" />
                        <exp op="IS NOT" dbField="check_eft_issued_nyc_year_id">0</exp>
                        <exp op="=" dbField="blah2" paramName="calendar_year_id" />
                    </exp>
                </exp>
            </where>
        </sql>
    </statement>
</statements>