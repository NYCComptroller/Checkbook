<!--
**********************************************************
** WARNING: This file is generated from CHANGES.txt by the 
**          Perl script 'changes2html.pl'.
**          Do *not* edit this file!
**********************************************************
          
****************************************************************************
* Licensed to the Apache Software Foundation (ASF) under one or more
* contributor license agreements.  See the NOTICE file distributed with
* this work for additional information regarding copyright ownership.
* The ASF licenses this file to You under the Apache License, Version 2.0
* (the "License"); you may not use this file except in compliance with
* the License.  You may obtain a copy of the License at
*
*     http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
****************************************************************************
-->
<html>
<head>
  <title>Apache Solr Release Notes</title>
  <link rel="stylesheet" href="ChangesFancyStyle.css" title="Fancy">
  <link rel="alternate stylesheet" href="ChangesSimpleStyle.css" title="Simple">
  <link rel="alternate stylesheet" href="ChangesFixedWidthStyle.css" title="Fixed Width">
  <META http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <SCRIPT>
    function toggleList(id) {
      listStyle = document.getElementById(id + '.list').style;
      anchor = document.getElementById(id);
      if (listStyle.display == 'none') {
        listStyle.display = 'block';
        anchor.title = 'Click to collapse';
        location.href = '#' + id;
      } else {
        listStyle.display = 'none';
        anchor.title = 'Click to expand';
      }
      var expandButton = document.getElementById('expand.button');
      expandButton.disabled = false;
      var collapseButton = document.getElementById('collapse.button');
      collapseButton.disabled = false;
    }

    function collapseAll() {
      var unorderedLists = document.getElementsByTagName("ul");
      for (var i = 0; i < unorderedLists.length; i++) {
        if (unorderedLists[i].className != 'bulleted-list')
          unorderedLists[i].style.display = "none";
        else
          unorderedLists[i].style.display = "block";
      }
      var orderedLists = document.getElementsByTagName("ol");
      for (var i = 0; i < orderedLists.length; i++)
        orderedLists[i].style.display = "none"; 
      var anchors = document.getElementsByTagName("a");
      for (var i = 0 ; i < anchors.length; i++) {
        if (anchors[i].id != '')
          anchors[i].title = 'Click to expand';
      }
      var collapseButton = document.getElementById('collapse.button');
      collapseButton.disabled = true;
      var expandButton = document.getElementById('expand.button');
      expandButton.disabled = false;
    }

    function expandAll() {
      var unorderedLists = document.getElementsByTagName("ul");
      for (var i = 0; i < unorderedLists.length; i++)
        unorderedLists[i].style.display = "block";
      var orderedLists = document.getElementsByTagName("ol");
      for (var i = 0; i < orderedLists.length; i++)
        orderedLists[i].style.display = "block"; 
      var anchors = document.getElementsByTagName("a");
      for (var i = 0 ; i < anchors.length; i++) {
        if (anchors[i].id != '')
          anchors[i].title = 'Click to collapse';
      }
      var expandButton = document.getElementById('expand.button');
      expandButton.disabled = true;
      var collapseButton = document.getElementById('collapse.button');
      collapseButton.disabled = false;

    }

    var newerRegex = new RegExp("^(?:4\\\\.1\\\\.0|4\\\\.0\\\\.0)");
    function isOlder(listId) {
      return ! newerRegex.test(listId);
    }

    function escapeMeta(s) {
      return s.replace(/(?=[.*+?^${}()|[\]\/\\])/g, '\\');
    }

    function shouldExpand(currentList, currentAnchor, listId) {
      var listName = listId.substring(0, listId.length - 5);
      var parentRegex = new RegExp("^" + escapeMeta(listName) + "\\.");
      return currentList == listId
             || (isOlder(currentAnchor) && listId == 'older.list')
             || parentRegex.test(currentAnchor);
    }

    function collapse() {
      /* Collapse all but the first and second releases. */
      var unorderedLists = document.getElementsByTagName("ul");
      var currentAnchor = location.hash.substring(1);
      var currentList = currentAnchor + ".list";

      for (var i = 0; i < unorderedLists.length; i++) {
        var list = unorderedLists[i];
        /* Collapse the current item, unless either the current item is one of
         * the first two releases, or the current URL has a fragment and the
         * fragment refers to the current item or one of its ancestors.
         */
        if (list.id != '4.1.0.list' 
            && list.id != '4.0.0.list'
            && list.className != 'bulleted-list'
            && (currentAnchor == ''
                || ! shouldExpand(currentList, currentAnchor, list.id))) {
          list.style.display = "none";
        }
      }
      var orderedLists = document.getElementsByTagName("ol");
      for (var i = 0; i < orderedLists.length; i++) {
        var list = orderedLists[i];
        /* Collapse the current item, unless the current URL has a fragment
         * and the fragment refers to the current item or one of its ancestors.
         */
        if (currentAnchor == ''
            || ! shouldExpand(currentList, currentAnchor, list.id)) {
          list.style.display = "none";
        }
      }
      /* Add "Click to collapse/expand" tooltips to the release/section headings */
      var anchors = document.getElementsByTagName("a");
      for (var i = 0 ; i < anchors.length; i++) {
        var anchor = anchors[i];
        if (anchor.id != '') {
          if (anchor.id == '4.1.0' || anchor.id == '4.0.0') {
            anchor.title = 'Click to collapse';
          } else {
            anchor.title = 'Click to expand';
          }
        }
      }

      /* Insert "Expand All" and "Collapse All" buttons */
      var buttonsParent = document.getElementById('buttons.parent');
      var expandButton = document.createElement('button');
      expandButton.appendChild(document.createTextNode('Expand All'));
      expandButton.onclick = function() { expandAll(); }
      expandButton.id = 'expand.button';
      buttonsParent.appendChild(expandButton);
      var collapseButton = document.createElement('button');
      collapseButton.appendChild(document.createTextNode('Collapse All'));
      collapseButton.onclick = function() { collapseAll(); }
      collapseButton.id = 'collapse.button';
      buttonsParent.appendChild(collapseButton);
    }

    window.onload = collapse;
  </SCRIPT>
</head>
<body>

<h1>Apache Solr Release Notes</h1>

<div id="buttons.parent"></div>

<h2>Introduction</h2>
      <p>Apache Solr is an open source enterprise search server based on the Apache Lucene Java
search library, with XML/HTTP and JSON APIs, hit highlighting, faceted search,
caching, replication, and a web administration interface. It runs in a Java
servlet container such as Tomcat.
</p>
      <p>See <a href="http://lucene.apache.org/solr">http://lucene.apache.org/solr</a> for more information.
</p>
<h2>Getting Started</h2>
      <p>You need a Java 1.6 VM or later installed.
In this release, there is an example Solr server including a bundled
servlet container in the directory named "example".
See the tutorial at <a href="http://lucene.apache.org/solr/tutorial.html">http://lucene.apache.org/solr/tutorial.html</a>
</p>
<h2><a id="4.1.0" href="javascript:toggleList('4.1.0')">Release 4.1.0 </a></h2>
<ul id="4.1.0.list">
  <li><a id="4.1.0.versions_of_major_components" href="javascript:toggleList('4.1.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="4.1.0.versions_of_major_components.list">
      <li>Apache Tika 1.2
</li>
      <li>Carrot2 3.6.2
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.5
</li>
    </ol>
  </li>
  <li><a id="4.1.0.upgrading_from_solr_4.0.0" href="javascript:toggleList('4.1.0.upgrading_from_solr_4.0.0')">Upgrading from Solr 4.0.0</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="4.1.0.upgrading_from_solr_4.0.0.list">
      <li>Custom java parsing plugins need to migrate from throwing the internal
ParseException to throwing SyntaxError.
</li>
      <li>BaseDistributedSearchTestCase now randomizes the servlet context it uses when
creating Jetty instances.  Subclasses that assume a hard coded context of
"/solr" should either be fixed to use the "String context" variable, or should
take advantage of the new BaseDistributedSearchTestCase(String) constructor
to explicitly specify a fixed servlet context path.  See <a href="http://issues.apache.org/jira/browse/SOLR-4136">SOLR-4136</a> for details.
</li>
    </ol>
  </li>
  <h3>Detailed Change List</h3>
  <li><a id="4.1.0.new_features" href="javascript:toggleList('4.1.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(35)
    <ol id="4.1.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2255">SOLR-2255</a>: Enhanced pivot faceting to use local-params in the same way that
regular field value faceting can. This means support for excluding a filter
query, using a different output key, and specifying 'threads' to do
facet.method=fcs concurrently. PivotFacetHelper now extends SimpleFacet and
the getFacetImplementation() extension hook was removed.
<br /><span class="attrib">(dsmiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3897">SOLR-3897</a>: A highlighter parameter "hl.preserveMulti" to return all of the
values of a multiValued field in their original order when highlighting.
<br /><span class="attrib">(Joel Bernstein via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3929">SOLR-3929</a>: Support configuring IndexWriter max thread count in solrconfig.
<br /><span class="attrib">(phunt via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3906">SOLR-3906</a>: Add support for AnalyzingSuggester (<a href="http://issues.apache.org/jira/browse/LUCENE-3842">LUCENE-3842</a>), where the
underlying analyzed form used for suggestions is separate from the returned
text.
<br /><span class="attrib">(Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3985">SOLR-3985</a>: ExternalFileField caches can be reloaded on firstSearcher/
newSearcher events using the ExternalFileFieldReloader
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3911">SOLR-3911</a>: Make Directory and DirectoryFactory first class so that the majority
of Solr's features work with any custom implementations.
<br /><span class="attrib">(Mark Miller)</span><br />
<p/>
Additional Work:<br />
<ul class="bulleted-list">
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-4032">SOLR-4032</a>: Files larger than an internal buffer size fail to replicate.
<br /><span class="attrib">(Mark Miller, Markus Jelsma)</span></li>
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-4033">SOLR-4033</a>: Consistently use the solrconfig.xml lockType everywhere.
<br /><span class="attrib">(Mark Miller, Markus Jelsma)</span></li>
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-4144">SOLR-4144</a>: Replication using too much RAM.
<br /><span class="attrib">(yonik, Markus Jelsma)</span></li>
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-4187">SOLR-4187</a>: NPE on Directory release
<br /><span class="attrib">(Mark Miller, Markus Jelsma)</span></li>
</ul>
<p/>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4051">SOLR-4051</a>: Add &lt;propertyWriter /&gt; element to DIH's data-config.xml file,
allowing the user to specify the location, filename and Locale for
the "data-config.properties" file.  Alternatively, users can specify their
own property writer implementation for greater control. This new configuration
element is optional, and defaults mimic prior behavior.  The one exception is
that the "root" locale is default. Previously it was the machine's default locale.
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4084">SOLR-4084</a>: Add FuzzyLookupFactory, which is like AnalyzingSuggester except that
it can tolerate typos in the input.
<br /><span class="attrib">(Areek Zillur via Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4088">SOLR-4088</a>: New and improved auto host detection strategy for SolrCloud.
<br /><span class="attrib">(Raintung Li via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3970">SOLR-3970</a>: SystemInfoHandler now exposes more details about the
JRE/VM/Java version in use.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4101">SOLR-4101</a>: Add support for storing term offsets in the index via a
'storeOffsetsWithPositions' flag on field definitions in the schema.
<br /><span class="attrib">(Tom Winch, Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4093">SOLR-4093</a>: Solr QParsers may now be directly invoked in the lucene
query syntax without the _query_ magic field hack.
Example:  foo AND {!term f=myfield v=$qq}
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4087">SOLR-4087</a>: Add MAX_DOC_FREQ option to MoreLikeThis.
<br /><span class="attrib">(Andrew Janowczyk via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4114">SOLR-4114</a>: Allow creating more than one shard per instance with the
Collection API.
<br /><span class="attrib">(Per Steffensen, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3531">SOLR-3531</a>: Allowing configuring maxMergeSizeMB and maxCachedMB when
using NRTCachingDirectoryFactory.
<br /><span class="attrib">(Andy Laird via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4118">SOLR-4118</a>: Fix replicationFactor to align with industry usage.
replicationFactor now means the total number of copies
of a document stored in the collection (or the total number of
physical indexes for a single logical slice of the collection).
For example if replicationFactor=3 then for a given shard there
will be a total of 3 replicas (one of which will normally be
designated as the leader.)
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4124">SOLR-4124</a>: You should be able to set the update log directory with the
CoreAdmin API the same way as the data directory.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4028">SOLR-4028</a>: When using ZK chroot, it would be nice if Solr would create the
initial path when it doesn't exist.
<br /><span class="attrib">(Tomás Fernández Löbbe via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3948">SOLR-3948</a>: Calculate/display deleted documents in admin interface.
<br /><span class="attrib">(Shawn Heisey via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4030">SOLR-4030</a>: Allow rate limiting Directory IO based on the IO context.
<br /><span class="attrib">(Mark Miller, Radim Kolar)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4166">SOLR-4166</a>: LBHttpSolrServer ignores ResponseParser passed in constructor.
<br /><span class="attrib">(Steve Molloy via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4140">SOLR-4140</a>: Allow access to the collections API through CloudSolrServer
without referencing an existing collection.
<br /><span class="attrib">(Per Steffensen via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-788">SOLR-788</a>: Distributed search support for MLT.
<br /><span class="attrib">(Matthew Woytowitz, Mike Anderson, Jamie Johnson, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4120">SOLR-4120</a>: Collection API: Support for specifying a list of Solr addresses to
spread a new collection across.
<br /><span class="attrib">(Per Steffensen via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4110">SOLR-4110</a>: Configurable Content-Type headers for PHPResponseWriters and
PHPSerializedResponseWriter.
<br /><span class="attrib">(Dominik Siebel via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1028">SOLR-1028</a>: The ability to specify "transient" and "loadOnStartup" as a new properties of
&lt;core&gt; tags in solr.xml. Can specify "transientCacheSize" in the &lt;cores&gt; tag. Together
these allow cores to be loaded only when needed and only transientCacheSize transient
cores will be loaded at a time, the rest aged out on an LRU basis.
<p/>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4246">SOLR-4246</a>: When update.distrib is set to skip update processors before
the distributed update processor, always include the log update processor
so forwarded updates will still be logged.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4230">SOLR-4230</a>: The new Solr 4 spatial fields now work with the {!geofilt} and
{!bbox} query parsers. The score local-param works too.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1972">SOLR-1972</a>: Add extra statistics to RequestHandlers - 5 &amp; 15-minute reqs/sec
rolling averages; median, 75th, 95th, 99th, 99.9th percentile request times
<br /><span class="attrib">(Alan Woodward, Shawn Heisey, Adrien Grand, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4271">SOLR-4271</a>: Add support for PostingsHighlighter.
<br /><span class="attrib">(Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4255">SOLR-4255</a>: The new Solr 4 spatial fields now have a 'filter' boolean local-param
that can be set to false to not filter. Its useful when there is already a spatial
filter query but you also need to sort or boost by distance.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4265">SOLR-4265</a>, <a href="http://issues.apache.org/jira/browse/SOLR-4283">SOLR-4283</a>: Solr now parses request parameters (in URL or sent with POST
using content-type application/x-www-form-urlencoded) in its dispatcher code. It no
longer relies on special configuration settings in Tomcat or other web containers
to enable UTF-8 encoding, which is mandatory for correct Solr behaviour. Query
strings passed in via the URL need to be properly-%-escaped, UTF-8 encoded
bytes, otherwise Solr refuses to handle the request. The maximum length of
x-www-form-urlencoded POST parameters can now be configured through the
requestDispatcher/requestParsers/@formdataUploadLimitInKB setting in
solrconfig.xml (defaults to 2 MiB). Solr now works out of the box with
e.g. Tomcat, JBoss,...
<br /><span class="attrib">(Uwe Schindler, Dawid Weiss, Alex Rocher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2201">SOLR-2201</a>: DIH's "formatDate" function now supports a timezone as an optional
fourth parameter
<br /><span class="attrib">(James Dyer, Mark Waddle)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4302">SOLR-4302</a>: New parameter 'indexInfo' (defaults to true) in CoreAdmin STATUS
command can be used to omit index specific information
<br /><span class="attrib">(Shahar Davidson via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2592">SOLR-2592</a>: Collection specific document routing.  The "compositeId"
router is the default for collections with hash based routing (i.e. when
numShards=N is specified on collection creation).  Documents with ids sharing
the same domain (prefix) will be routed to the same shard, allowing for
efficient querying.
<p/>
Example:
  The following two documents will be indexed to the same shard
  since they share the same domain "customerB!".
  <code><pre>
     {"id" : "customerB!doc1" [...] }
     {"id" : "customerB!doc2" [...] }</pre></code>
  At query time, one can specify a "shard.keys" parameter that lists what
  shards the query should cover.
     <a href="http://.../query?q=my_query&amp;shard.keys=customerB!">http://.../query?q=my_query&amp;shard.keys=customerB!</a>
<p/>
Collections that do not specify numShards at collection creation time
use custom sharding and default to the "implicit" router.  Document updates
received by a shard will be indexed to that shard, unless a "_shard_" parameter
or document field names a different shard.
<br /><span class="attrib">(Michael Garski, Dan Rosher, yonik)</span></li>
    </ol>
  </li>
  <li><a id="4.1.0.optimizations" href="javascript:toggleList('4.1.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(15)
    <ol id="4.1.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3788">SOLR-3788</a>: Admin Cores UI should redirect to newly created core details
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3895">SOLR-3895</a>: XML and XSLT UpdateRequestHandler should not try to resolve
external entities. This improves speed of loading e.g. XSL-transformed
XHTML documents.
<br /><span class="attrib">(Martin Herfurt, uschindler, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3614">SOLR-3614</a>: Fix XML parsing in XPathEntityProcessor to correctly expand
named entities, but ignore external entities.
<br /><span class="attrib">(uschindler, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3734">SOLR-3734</a>: Improve Schema-Browser Handling for CopyField using
dynamicField's
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3941">SOLR-3941</a>: The "commitOnLeader" part of distributed recovery can use
openSearcher=false.
<br /><span class="attrib">(Tomás Fernández Löbbe via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4063">SOLR-4063</a>: Allow CoreContainer to load multiple SolrCores in parallel rather
than just serially.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4199">SOLR-4199</a>: When doing zk retries due to connection loss, rather than just
retrying for 2 minutes, retry in proportion to the session timeout.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4262">SOLR-4262</a>: Replication Icon on Dashboard does not reflect Master-/Slave-
State
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4264">SOLR-4264</a>: Missing Error-Screen on UI's Cloud-Page
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4261">SOLR-4261</a>: Percentage Infos on Dashboard have a fixed width
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3851">SOLR-3851</a>: create a new core/delete an existing core should also update
the main/left list of cores on the admin UI
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3840">SOLR-3840</a>: XML query response display is unreadable in Solr Admin Query UI
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3982">SOLR-3982</a>: Admin UI: Various Dataimport Improvements
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4296">SOLR-4296</a>: Admin UI: Improve Dataimport Auto-Refresh
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3458">SOLR-3458</a>: Allow multiple Items to stay open on Plugins-Page
<br /><span class="attrib">(steffkes)</span></li>
    </ol>
  </li>
  <li><a id="4.1.0.bug_fixes" href="javascript:toggleList('4.1.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(81)
    <ol id="4.1.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4288">SOLR-4288</a>: Improve logging for FileDataSource (basePath, relative
resources).
<br /><span class="attrib">(Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4007">SOLR-4007</a>: Morfologik dictionaries not available in Solr field type
due to class loader lookup problems.
<br /><span class="attrib">(Lance Norskog, Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3560">SOLR-3560</a>: Handle different types of Exception Messages for Logging UI
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3637">SOLR-3637</a>: Commit Status at Core-Admin UI is always false
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3917">SOLR-3917</a>: Partial State on Schema-Browser UI is not defined for Dynamic
Fields &amp; Types
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3939">SOLR-3939</a>: Consider a sync attempt from leader to replica that fails due
to 404 a success.
<br /><span class="attrib">(Mark Miller, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3940">SOLR-3940</a>: Rejoining the leader election incorrectly triggers the code path
for a fresh cluster start rather than fail over.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3961">SOLR-3961</a>: Fixed error using LimitTokenCountFilterFactory
<br /><span class="attrib">(Jack Krupansky, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3933">SOLR-3933</a>: Distributed commits are not guaranteed to be ordered within a
request.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3939">SOLR-3939</a>: An empty or just replicated index cannot become the leader of a
shard after a leader goes down.
<br /><span class="attrib">(Joel Bernstein, yonik, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3971">SOLR-3971</a>: A collection that is created with numShards=1 turns into a
numShards=2 collection after starting up a second core and not specifying
numShards.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3988">SOLR-3988</a>: Fixed SolrTestCaseJ4.adoc(SolrInputDocument) to respect
field and document boosts
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3981">SOLR-3981</a>: Fixed bug that resulted in document boosts being compounded in
&lt;copyField/&gt; destination fields.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3920">SOLR-3920</a>: Fix server list caching in CloudSolrServer when using more than one
collection list with the same instance.
<br /><span class="attrib">(Grzegorz Sobczyk, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3938">SOLR-3938</a>: prepareCommit command omits commitData causing a failure to trigger
replication to slaves.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3992">SOLR-3992</a>: QuerySenderListener doesn't populate document cache.
<br /><span class="attrib">(Shotaro Kamio, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3995">SOLR-3995</a>: Recovery may never finish on SolrCore shutdown if the last reference to
a SolrCore is closed by the recovery process.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3998">SOLR-3998</a>: Atomic update on uniqueKey field itself causes duplicate document.
<br /><span class="attrib">(Eric Spencer, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4001">SOLR-4001</a>: In CachingDirectoryFactory#close, if there are still refs for a
Directory outstanding, we need to wait for them to be released before closing.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4005">SOLR-4005</a>: If CoreContainer fails to register a created core, it should close it.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4009">SOLR-4009</a>: OverseerCollectionProcessor is not resilient to many error conditions
and can stop running on errors.
<br /><span class="attrib">(Raintung Li, milesli, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4019">SOLR-4019</a>: Log stack traces for 503/Service Unavailable SolrException if not
thrown by PingRequestHandler. Do not log exceptions if a user tries to view a
hidden file using ShowFileRequestHandler.
<br /><span class="attrib">(Tomás Fernández Löbbe via James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3589">SOLR-3589</a>: Edismax parser does not honor mm parameter if analyzer splits a token.
<br /><span class="attrib">(Tom Burton-West, Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4031">SOLR-4031</a>: Upgrade to Jetty 8.1.7 to fix a bug where in very rare occasions
the content of two concurrent requests get mixed up.
<br /><span class="attrib">(Per Steffensen, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4060">SOLR-4060</a>: ReplicationHandler can try and do a snappull and open a new IndexWriter
after shutdown has already occurred, leaving an IndexWriter that is not closed.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4055">SOLR-4055</a>: Fix a thread safety issue with the Collections API that could
cause actions to be targeted at the wrong SolrCores.
<br /><span class="attrib">(Raintung Li, Per Steffensen via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3993">SOLR-3993</a>: If multiple SolrCore's for a shard coexist on a node, on cluster
restart, leader election would stall until timeout, waiting to see all of
the replicas come up.
<br /><span class="attrib">(Mark Miller, Alexey Kudinov)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2045">SOLR-2045</a>: Databases that require a commit to be issued before closing the
connection on a non-read-only database leak connections.  Also expanded the
SqlEntityProcessor test to sometimes use Derby as well as HSQLDB (Derby is
one db affected by this bug).
<br /><span class="attrib">(Fenlor Sebastia, James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4064">SOLR-4064</a>: When there is an unexpected exception while trying to run the new
leader process, the SolrCore will not correctly rejoin the election.
<br /><span class="attrib">(Po Rui via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3989">SOLR-3989</a>: SolrZkClient constructor dropped exception cause when throwing
a new RuntimeException.
<br /><span class="attrib">(Colin Bartolome, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4036">SOLR-4036</a>: field aliases in fl should not cause properties of target field
to be used.
<br /><span class="attrib">(Martin Koch, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4003">SOLR-4003</a>: The SolrZKClient clean method should not try and clear zk paths
that start with /zookeeper, as this can fail and stop the removal of
further nodes.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4076">SOLR-4076</a>: SolrQueryParser should run fuzzy terms through
MultiTermAwareComponents to ensure that (for example) a fuzzy query of
foobar~2 is equivalent to FooBar~2 on a field that includes lowercasing.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4081">SOLR-4081</a>: QueryParsing.toString, used during debugQuery=true, did not
correctly handle ExtendedQueries such as WrappedQuery
(used when cache=false), spatial queries, and frange queries.
<br /><span class="attrib">(Eirik Lygre, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3959">SOLR-3959</a>: Ensure the internal comma separator of poly fields is escaped
for CSVResponseWriter.
<br /><span class="attrib">(Areek Zillur via Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4075">SOLR-4075</a>: A logical shard that has had all of it's SolrCores unloaded should
be removed from the cluster state.
<br /><span class="attrib">(Mark Miller, Gilles Comeau)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4034">SOLR-4034</a>: Check if a collection already exists before trying to create a
new one.
<br /><span class="attrib">(Po Rui, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4097">SOLR-4097</a>: Race can cause NPE in logging line on first cluster state update.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4099">SOLR-4099</a>: Allow the collection api work queue to make forward progress even
when it's watcher is not fired for some reason.
<br /><span class="attrib">(Raintung Li via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3960">SOLR-3960</a>: Fixed a bug where Distributed Grouping ignored PostFilters
<br /><span class="attrib">(Nathan Visagan, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3842">SOLR-3842</a>: DIH would not populate multivalued fields if the column name
derives from a resolved variable
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4117">SOLR-4117</a>: Retrieving the size of the index may use the wrong index dir if
you are replicating.
<br /><span class="attrib">(Mark Miller, Markus Jelsma)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2890">SOLR-2890</a>: Fixed a bug that prevented omitNorms and omitTermFreqAndPositions
options from being respected in some &lt;fieldType/&gt; declarations
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4159">SOLR-4159</a>: When we are starting a shard from rest, a potential leader should
not consider it's last published state when deciding if it can be the new
leader.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4158">SOLR-4158</a>: When a core is registering in ZooKeeper it may not wait long
enough to find the leader due to how long the potential leader waits to see
replicas.
<br /><span class="attrib">(Mark Miller, Alain Rogister)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4162">SOLR-4162</a>: ZkCli usage examples are not correct because the zkhost parameter
is not present and it is mandatory for all commands.
<br /><span class="attrib">(Tomás Fernández Löbbe via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4071">SOLR-4071</a>: Validate that name is pass to Collections API create, and behave the
same way as on startup when collection.configName is not explicitly passed.
<br /><span class="attrib">(Po Rui, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4127">SOLR-4127</a>: Added explicit error message if users attempt Atomic document
updates with either updateLog or DistribUpdateProcessor.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4136">SOLR-4136</a>: Fix SolrCloud behavior when using "hostContext" containing "_"
or"/" characters.  This fix also makes SolrCloud more accepting of
hostContext values with leading/trailing slashes.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4168">SOLR-4168</a>: Ensure we are using the absolute latest index dir when getting
list of files for replication.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4102">SOLR-4102</a>: Fix UI javascript error if canonical hostname can not be resolved
<br /><span class="attrib">(steffkes via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4178">SOLR-4178</a>: ReplicationHandler should abort any current pulls and wait for
it's executor to stop during core close.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3918">SOLR-3918</a>: Fixed the 'dist-war-excl-slf4j' ant target to exclude all
slf4j jars, so that the resulting war is usable as is provided the servlet
container includes the correct slf4j api and impl jars.
<br /><span class="attrib">(Shawn Heisey, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4198">SOLR-4198</a>: OverseerCollectionProcessor should implement ClosableThread.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4213">SOLR-4213</a>: Directories that are not shutdown until DirectoryFactory#close
do not have close listeners called on them.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4134">SOLR-4134</a>: Standard (XML) request writer cannot "set" multiple values into
multivalued field with partial updates.
<br /><span class="attrib">(Luis Cappa Banda, Will Butler, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3972">SOLR-3972</a>: Fix ShowFileRequestHandler to not log a warning in the
(expected) situation of a file not found.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4133">SOLR-4133</a>: Cannot "set" field to null with partial updates when using the
standard RequestWriter.
<br /><span class="attrib">(Will Butler, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4223">SOLR-4223</a>: "maxFormContentSize" in jetty.xml is not picked up by jetty 8
so set it via solr webapp context file.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4175">SOLR-4175</a>:SearchComponent chain can't contain two components of the
same class and use debugQuery.
<br /><span class="attrib">(Tomás Fernández Löbbe via ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4244">SOLR-4244</a>: When coming back from session expiration we should not wait for
the leader to see us in the down state if we are the node that must become
the leader.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4245">SOLR-4245</a>: When a core is registering with ZooKeeper, the timeout to find the
leader in the cluster state is 30 seconds rather than leaderVoteWait + extra
time.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4238">SOLR-4238</a>: Fix jetty example requestLog config
<br /><span class="attrib">(jm via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4251">SOLR-4251</a>: Fix SynonymFilterFactory when an optional tokenizerFactory is supplied.
<br /><span class="attrib">(Chris Bleakley via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4253">SOLR-4253</a>: Misleading resource loading warning from Carrot2 clustering
component fixed
<br /><span class="attrib">(Stanisław Osiński)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4257">SOLR-4257</a>: PeerSync updates and Log Replay updates should not wait for
a ZooKeeper connection in order to proceed.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4045">SOLR-4045</a>: SOLR admin page returns HTTP 404 on core names containing
a '.' (dot)
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4176">SOLR-4176</a>: analysis ui: javascript not properly handling URL decoding
of input
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4079">SOLR-4079</a>: Long core names break web gui appearance and functionality
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4263">SOLR-4263</a>: Incorrect Link from Schema-Browser to Query From for Top-Terms
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3829">SOLR-3829</a>: Admin UI Logging events broken if schema.xml defines a catch-all
dynamicField with type ignored
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4275">SOLR-4275</a>: Fix TrieTokenizer to no longer throw StringIndexOutOfBoundsException
in admin UI / AnalysisRequestHandler when you enter no number to tokenize.
<br /><span class="attrib">(Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4279">SOLR-4279</a>: Wrong exception message if _version_ field is multivalued
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4170">SOLR-4170</a>: The 'backup' ReplicationHandler command can sometimes use a stale
index directory rather than the current one.
<br /><span class="attrib">(Mark Miller, Marcin Rzewucki)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3876">SOLR-3876</a>: Solr Admin UI is completely dysfunctional on IE 9
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4112">SOLR-4112</a>: Fixed DataImportHandler ZKAwarePropertiesWriter implementation so
import works fine with SolrCloud clusters
<br /><span class="attrib">(Deniz Durmus, James Dyer,
Erick Erickson, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4291">SOLR-4291</a>: Harden the Overseer work queue thread loop.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3820">SOLR-3820</a>: Solr Admin Query form is missing some edismax request parameters
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4217">SOLR-4217</a>: post.jar no longer ignores -Dparams when -Durl is used.
<br /><span class="attrib">(Alexandre Rafalovitch, ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4303">SOLR-4303</a>: On replication, if the generation of the master is lower than the
slave we need to force a full copy of the index.
<br /><span class="attrib">(Mark Miller, Gregg Donovan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4266">SOLR-4266</a>: HttpSolrServer does not release connection properly on exception
when no response parser is used.
<br /><span class="attrib">(Steve Molloy via Mark Miller)</span></li>
    </ol>
  </li>
  <li><a id="4.1.0.other_changes" href="javascript:toggleList('4.1.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(29)
    <ol id="4.1.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4106">SOLR-4106</a>: Javac/ ivy path warnings with morfologik fixed by
upgrading to Morfologik 1.5.5
<br /><span class="attrib">(Robert Muir, Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3899">SOLR-3899</a>: SolrCore should not log at warning level when the index directory
changes - it's an info event.
<br /><span class="attrib">(Tobias Bergman, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3861">SOLR-3861</a>: Refactor SolrCoreState so that it's managed by SolrCore.
<br /><span class="attrib">(Mark Miller, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3966">SOLR-3966</a>: Eliminate superfluous warning from LanguageIdentifierUpdateProcessor
<br /><span class="attrib">(Markus Jelsma via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3932">SOLR-3932</a>: SolrCmdDistributorTest either takes 3 seconds or 3 minutes.
<br /><span class="attrib">(yonik, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3856">SOLR-3856</a>: New tests for SqlEntityProcessor/CachedSqlEntityProcessor
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4067">SOLR-4067</a>: ZkStateReader#getLeaderProps should not return props for a leader
that it does not think is live.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4086">SOLR-4086</a>: DIH refactor of VariableResolver and Evaluator.  VariableResolver
and each built-in Evaluator are separate concrete classes.  DateFormatEvaluator
now defaults with the ROOT Locale. However, users may specify a different
Locale using an optional new third parameter.
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3602">SOLR-3602</a>: Update ZooKeeper to 3.4.5
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4095">SOLR-4095</a>: DIH NumberFormatTransformer &amp; DateFormatTransformer default to the
ROOT Locale if none is specified.  These previously used the machine's default.
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4096">SOLR-4096</a>: DIH FileDataSource &amp; FieldReaderDataSource default to UTF-8 encoding
if none is specified.  These previously used the machine's default.
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1916">SOLR-1916</a>: DIH to not use Lucene-forbidden Java APIs
(default encoding, locale, etc.)
<br /><span class="attrib">(James Dyer, Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4111">SOLR-4111</a>: SpellCheckCollatorTest#testContextSensitiveCollate to test against
both DirectSolrSpellChecker &amp; IndexBasedSpellChecker
<br /><span class="attrib">(Tomás Fernández Löbbe via James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2141">SOLR-2141</a>: Better test coverage for Evaluators
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4119">SOLR-4119</a>: Update Guava to 13.0.1
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4074">SOLR-4074</a>: Raise default ramBufferSizeMB to 100 from 32.
<br /><span class="attrib">(yonik, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4062">SOLR-4062</a>: The update log location in solrconfig.xml should default to
${solr.ulog.dir} rather than ${solr.data.dir:}
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4155">SOLR-4155</a>: Upgrade Jetty to 8.1.8.
<br /><span class="attrib">(Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2986">SOLR-2986</a>: Add MoreLikeThis to warning about features that require uniqueKey.
Also, change the warning to warn log level.
<br /><span class="attrib">(Shawn Heisey via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4163">SOLR-4163</a>: README improvements
<br /><span class="attrib">(Shawn Heisey via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4248">SOLR-4248</a>: "ant eclipse" should declare .svn directories as derived.
<br /><span class="attrib">(Shawn Heisey via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3279">SOLR-3279</a>: Upgrade Carrot2 to 3.6.2
<br /><span class="attrib">(Stanisław Osiński)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4254">SOLR-4254</a>: Harden the 'leader requests replica to recover' code path.
<br /><span class="attrib">(Mark Miller, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4226">SOLR-4226</a>: Extract fl parsing code out of ReturnFields constructor.
<br /><span class="attrib">(Ryan Ernst via Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4208">SOLR-4208</a>: ExtendedDismaxQParserPlugin has been refactored to make
subclassing easier.
<br /><span class="attrib">(Tomás Fernández Löbbe, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3735">SOLR-3735</a>: Relocate the example mime-to-extension mapping, and
upgrade Velocity Engine to 1.7
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4287">SOLR-4287</a>: Removed "apache-" prefix from Solr distribution and artifact
filenames.
<br /><span class="attrib">(Ryan Ernst, Robert Muir, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4016">SOLR-4016</a>: Deduplication does not work with atomic/partial updates so
disallow atomic update requests which change signature generating fields.
<br /><span class="attrib">(Joel Nothman, yonik, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4308">SOLR-4308</a>: Remove the problematic and now unnecessary log4j-over-slf4j.
<br /><span class="attrib">(Mark Miller)</span></li>
    </ol>
  </li>
</ul>
<h2><a id="4.0.0" href="javascript:toggleList('4.0.0')">Release 4.0.0  [2012-10-12]</a></h2>
<ul id="4.0.0.list">
  <li><a id="4.0.0.versions_of_major_components" href="javascript:toggleList('4.0.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="4.0.0.versions_of_major_components.list">
      <li>Apache Tika 1.2
</li>
      <li>Carrot2 3.5.0
</li>
      <li>Velocity 1.6.4 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.3.6
</li>
    </ol>
  </li>
  <li><a id="4.0.0.upgrading_from_solr_4.0.0-beta" href="javascript:toggleList('4.0.0.upgrading_from_solr_4.0.0-beta')">Upgrading from Solr 4.0.0-BETA</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="4.0.0.upgrading_from_solr_4.0.0-beta.list">
      <li>In order to better support distributed search mode, the TermVectorComponent's
response format has been changed so that if the schema defines a
uniqueKeyField, then that field value is used as the "key" for each document in
it's response section, instead of the internal lucene doc id.  Users w/o a
uniqueKeyField will continue to see the same response format.  See <a href="http://issues.apache.org/jira/browse/SOLR-3229">SOLR-3229</a>
for more details.
</li>
      <li>If you are using SolrCloud's distributed update request capabilities and a non
string type id field, you must re-index.
</li>
    </ol>
  </li>
  <li><a id="4.0.0.upgrading_from_solr_4.0.0-alpha" href="javascript:toggleList('4.0.0.upgrading_from_solr_4.0.0-alpha')">Upgrading from Solr 4.0.0-ALPHA</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="4.0.0.upgrading_from_solr_4.0.0-alpha.list">
      <li>Solr is now much more strict about requiring that the uniqueKeyField feature
(if used) must refer to a field which is not multiValued.  If you upgrade from
an earlier version of Solr and see an error that your uniqueKeyField "can not
be configured to be multivalued" please add 'multiValued="false"' to the
&lt;field /&gt; declaration for your uniqueKeyField.  See <a href="http://issues.apache.org/jira/browse/SOLR-3682">SOLR-3682</a> for more details.
</li>
      <li>In addition, please review the notes above about upgrading from 4.0.0-BETA
</li>
    </ol>
  </li>
  <li><a id="4.0.0.upgrading_from_solr_3.6" href="javascript:toggleList('4.0.0.upgrading_from_solr_3.6')">Upgrading from Solr 3.6</a>&nbsp;&nbsp;&nbsp;(10)
    <ol id="4.0.0.upgrading_from_solr_3.6.list">
      <li>The Lucene index format has changed and as a result, once you upgrade,
previous versions of Solr will no longer be able to read your indices.
In a master/slave configuration, all searchers/slaves should be upgraded
before the master.  If the master were to be updated first, the older
searchers would not be able to read the new index format.
<p/>
</li>
      <li>Setting abortOnConfigurationError=false is no longer supported
(since it has never worked properly).  Solr will now warn you if
you attempt to set this configuration option at all. (see <a href="http://issues.apache.org/jira/browse/SOLR-1846">SOLR-1846</a>)
<p/>
</li>
      <li>The default logic for the 'mm' param of the 'dismax' QParser has
been changed.  If no 'mm' param is specified (either in the query,
or as a default in solrconfig.xml) then the effective value of the
'q.op' param (either in the query or as a default in solrconfig.xml
or from the 'defaultOperator' option in schema.xml) is used to
influence the behavior.  If q.op is effectively "AND" then mm=100%.
If q.op is effectively "OR" then mm=0%.  Users who wish to force the
legacy behavior should set a default value for the 'mm' param in
their solrconfig.xml file.
<p/>
</li>
      <li>The VelocityResponseWriter is no longer built into the core.  Its JAR and
dependencies now need to be added (via &lt;lib&gt; or solr/home lib inclusion),
and it needs to be registered in solrconfig.xml like this:
  &lt;queryResponseWriter name="velocity" class="solr.VelocityResponseWriter"/&gt;
<p/>
</li>
      <li>The update request parameter to choose Update Request Processor Chain is
renamed from "update.processor" to "update.chain". The old parameter was
deprecated but still working since Solr3.2, but is now removed
entirely.
<p/>
</li>
      <li>The &lt;indexDefaults&gt; and &lt;mainIndex&gt; sections of solrconfig.xml are discontinued
and replaced with the &lt;indexConfig&gt; section. There are also better defaults.
When migrating, if you don't know what your old settings mean, simply delete
both &lt;indexDefaults&gt; and &lt;mainIndex&gt; sections. If you have customizations,
put them in &lt;indexConfig&gt; section - with same syntax as before.
<p/>
</li>
      <li>Two of the SolrServer subclasses in SolrJ were renamed/replaced.
CommonsHttpSolrServer is now HttpSolrServer, and
StreamingUpdateSolrServer is now ConcurrentUpdateSolrServer.
<p/>
</li>
      <li>The PingRequestHandler no longer looks for a &lt;healthcheck/&gt; option in the
(legacy) &lt;admin&gt; section of solrconfig.xml.  Users who wish to take
advantage of this feature should configure a "healthcheckFile" init param
directly on the  PingRequestHandler.  As part of this change, relative file
paths have been fixed to be resolved against the data dir.  See the example
solrconfig.xml and <a href="http://issues.apache.org/jira/browse/SOLR-1258">SOLR-1258</a> for more details.
<p/>
</li>
      <li>Due to low level changes to support SolrCloud, the uniqueKey field can no
longer be populated via &lt;copyField/&gt; or &lt;field default=...&gt; in the
schema.xml.  Users wishing to have Solr automatically generate a uniqueKey
value when adding documents should instead use an instance of
solr.UUIDUpdateProcessorFactory in their update processor chain.  See
<a href="http://issues.apache.org/jira/browse/SOLR-2796">SOLR-2796</a> for more details.
<p/>
</li>
      <li>In addition, please review the notes above about upgrading from 4.0.0-BETA, and 4.0.0-ALPHA
<p/>
</li>
    </ol>
  </li>
  <h3>Detailed Change List</h3>
  <li><a id="4.0.0.new_features" href="javascript:toggleList('4.0.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(8)
    <ol id="4.0.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3670">SOLR-3670</a>: New CountFieldValuesUpdateProcessorFactory makes it easy to index
the number of values in another field for later use at query time.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2768">SOLR-2768</a>: new "mod(x,y)" function for computing the modulus of two value
sources.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3238">SOLR-3238</a>: Numerous small improvements to the Admin UI
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3597">SOLR-3597</a>: seems like a lot of wasted whitespace at the top of the admin screens
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3304">SOLR-3304</a>: Added Solr adapters for Lucene 4's new spatial module.  With
SpatialRecursivePrefixTreeFieldType ("location_rpt" in example schema), it is
possible to index a variable number of points per document (and sort on them),
index not just points but any Spatial4j supported shape such as polygons, and
to query on these shapes too.  Polygons requires adding JTS to the classpath.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3825">SOLR-3825</a>: Added optional capability to log what ids are in a response
<br /><span class="attrib">(Scott Stults via gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3821">SOLR-3821</a>: Added 'df' to the UI Query form
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3822">SOLR-3822</a>: Added hover titles to the edismax params on the UI Query form
<br /><span class="attrib">(steffkes)</span></li>
    </ol>
  </li>
  <li><a id="4.0.0.optimizations" href="javascript:toggleList('4.0.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(4)
    <ol id="4.0.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3715">SOLR-3715</a>: improve concurrency of the transaction log by removing
synchronization around log record serialization.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3807">SOLR-3807</a>: Currently during recovery we pause for a number of seconds after
waiting for the leader to see a recovering state so that any previous updates
will have finished before our commit on the leader - we don't need this wait
for peersync.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3837">SOLR-3837</a>: When a leader is elected and asks replicas to sync back to him and
that fails, we should ask those nodes to recovery asynchronously rather than
synchronously.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3709">SOLR-3709</a>: Cache the url list created from the ClusterState in CloudSolrServer
on each request.
<br /><span class="attrib">(Mark Miller)</span></li>
    </ol>
  </li>
  <li><a id="4.0.0.bug_fixes" href="javascript:toggleList('4.0.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(58)
    <ol id="4.0.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3685">SOLR-3685</a>: Solr Cloud sometimes skipped peersync attempt and replicated instead due
to tlog flags not being cleared when no updates were buffered during a previous
replication.
<br /><span class="attrib">(Markus Jelsma, Mark Miller, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3229">SOLR-3229</a>: Fixed TermVectorComponent to work with distributed search
<br /><span class="attrib">(Hang Xie, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3725">SOLR-3725</a>: Fixed package-local-src-tgz target to not bring in unnecessary jars
and binary contents.
<br /><span class="attrib">(Michael Dodsworth via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3649">SOLR-3649</a>: Fixed bug in JavabinLoader that caused deleteById(List&lt;String&gt; ids)
to not work in SolrJ
<br /><span class="attrib">(siren)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3730">SOLR-3730</a>: Rollback is not implemented quite right and can cause corner case fails in
SolrCloud tests.
<br /><span class="attrib">(rmuir, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2981">SOLR-2981</a>: Fixed StatsComponent to no longer return duplicated information
when requesting multiple stats.facet fields.
<br /><span class="attrib">(Roman Kliewer via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3743">SOLR-3743</a>: Fixed issues with atomic updates and optimistic concurrency in
conjunction with stored copyField targets by making real-time get never
return copyField targets.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3746">SOLR-3746</a>: Proper error reporting if updateLog is configured w/o necessary
"_version_" field in schema.xml
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3745">SOLR-3745</a>: Proper error reporting if SolrCloud mode is used w/o
necessary "_version_" field in schema.xml
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3770">SOLR-3770</a>: Overseer may lose updates to cluster state
<br /><span class="attrib">(siren)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3721">SOLR-3721</a>: Fix bug that could theoretically allow multiple recoveries to run
briefly at the same time if the recovery thread join call was interrupted.
<br /><span class="attrib">(Per Steffensen, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3782">SOLR-3782</a>: A leader going down while updates are coming in can cause shard
inconsistency.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3611">SOLR-3611</a>: We do not show ZooKeeper data in the UI for a node that has children.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3789">SOLR-3789</a>: Fix bug in SnapPuller that caused "internal" compression to fail.
<br /><span class="attrib">(siren)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3790">SOLR-3790</a>: ConcurrentModificationException could be thrown when using hl.fl=*.
Fixed in r1231606.
<br /><span class="attrib">(yonik, koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3668">SOLR-3668</a>: DataImport : Specifying Custom Parameters
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3793">SOLR-3793</a>: UnInvertedField faceting cached big terms in the filter
cache that ignored deletions, leading to duplicate documents in search
later when a filter of the same term was specified.
<br /><span class="attrib">(Günter Hipler, hossman, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3679">SOLR-3679</a>: Core Admin UI gives no feedback if "Add Core" fails
<br /><span class="attrib">(steffkes, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3795">SOLR-3795</a>: Fixed LukeRequestHandler response to correctly return field name
strings in copyDests and copySources arrays
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3699">SOLR-3699</a>: Fixed some Directory leaks when there were errors during SolrCore
or SolrIndexWriter initialization.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3518">SOLR-3518</a>: Include final 'hits' in log information when aggregating a
distibuted request
<br /><span class="attrib">(Markus Jelsma via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3628">SOLR-3628</a>: SolrInputField and SolrInputDocument are now consistently backed
by Collections passed in to setValue/setField, and defensively copy values
from Collections passed to addValue/addField
<br /><span class="attrib">(Tom Switzer via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3595">SOLR-3595</a>: CurrencyField now generates an appropriate error on schema init
if it is configured as multiValued - this has never been properly supported,
but previously failed silently in odd ways.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3823">SOLR-3823</a>: Fix 'bq' parsing in edismax.  Please note that this required
reverting the negative boost support added by <a href="http://issues.apache.org/jira/browse/SOLR-3278">SOLR-3278</a>
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3827">SOLR-3827</a>: Fix shareSchema=true in solr.xml
<br /><span class="attrib">(Tomás Fernández Löbbe via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3809">SOLR-3809</a>: Fixed config file replication when subdirectories are used
<br /><span class="attrib">(Emmanuel Espina via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3828">SOLR-3828</a>: Fixed QueryElevationComponent so that using 'markExcludes' does
not modify the result set or ranking of 'excluded' documents relative to
not using elevation at all.
<br /><span class="attrib">(Alexey Serba via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3569">SOLR-3569</a>: Fixed debug output on distributed requests when there are no
results found.
<br /><span class="attrib">(David Bowen via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3811">SOLR-3811</a>: Query Form using wrong values for dismax, edismax
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3779">SOLR-3779</a>: DataImportHandler's LineEntityProcessor when used in conjunction
with FileListEntityProcessor would only process the first file.
<br /><span class="attrib">(Ahmet Arslan via James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3791">SOLR-3791</a>: CachedSqlEntityProcessor would throw a NullPointerException when
a query returns a row with a NULL key.
<br /><span class="attrib">(Steffen Moelter via James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3833">SOLR-3833</a>: When a election is started because a leader went down, the new
leader candidate should decline if the last state they published was not
active.
<br /><span class="attrib">(yonik, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3836">SOLR-3836</a>: When doing peer sync, we should only count sync attempts that
cannot reach the given host as success when the candidate leader is
syncing with the replicas - not when replicas are syncing to the leader.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3835">SOLR-3835</a>: In our leader election algorithm, if on connection loss we found
we did not create our election node, we should retry, not throw an exception.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3834">SOLR-3834</a>: A new leader on cluster startup should also run the leader sync
process in case there was a bad cluster shutdown.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3772">SOLR-3772</a>: On cluster startup, we should wait until we see all registered
replicas before running the leader process - or if they all do not come up,
N amount of time.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3756">SOLR-3756</a>: If we are elected the leader of a shard, but we fail to publish
this for any reason, we should clean up and re trigger a leader election.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3812">SOLR-3812</a>: ConnectionLoss during recovery can cause lost updates, leading to
shard inconsistency.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3813">SOLR-3813</a>: When a new leader syncs, we need to ask all shards to sync back,
not just those that are active.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3641">SOLR-3641</a>: CoreContainer is not persisting roles core attribute.
<br /><span class="attrib">(hossman, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3527">SOLR-3527</a>: SolrCmdDistributor drops some of the important commit attributes
(maxOptimizeSegments, softCommit, expungeDeletes) when sending a commit to
replicas.
<br /><span class="attrib">(Andy Laird, Tomás Fernández Löbbe, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3844">SOLR-3844</a>: SolrCore reload can fail because it tries to remove the index
write lock while already holding it.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3831">SOLR-3831</a>: Atomic updates do not distribute correctly to other nodes.
<br /><span class="attrib">(Jim Musil, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3465">SOLR-3465</a>: Replication causes two searcher warmups.
<br /><span class="attrib">(Michael Garski, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3645">SOLR-3645</a>: /terms should default to distrib=false.
<br /><span class="attrib">(Nick Cotton, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3759">SOLR-3759</a>: Various fixes to the example-DIH configs
<br /><span class="attrib">(Ahmet Arslan, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3777">SOLR-3777</a>: Dataimport-UI does not send unchecked checkboxes
<br /><span class="attrib">(Glenn MacStravic
via steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3850">SOLR-3850</a>: DataImportHandler "cacheKey" parameter was incorrectly renamed "cachePk"
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3087">SOLR-3087</a>: Fixed DOMUtil so that code doing attribute validation will
automaticly ignore nodes in the resserved "xml" prefix - in particular this
fixes some bugs related to xinclude and fieldTypes.
<br /><span class="attrib">(Amit Nithian, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3783">SOLR-3783</a>: Fixed Pivot Faceting to work with facet.missing=true
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3869">SOLR-3869</a>: A PeerSync attempt to it's replicas by a candidate leader should
not fail on o.a.http.conn.ConnectTimeoutException.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3875">SOLR-3875</a>: Fixed index boosts on multi-valued fields when docBoost is used
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3878">SOLR-3878</a>: Exception when using open-ended range query with CurrencyField
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3891">SOLR-3891</a>: CacheValue in CachingDirectoryFactory cannot be used outside of
solr.core package.
<br /><span class="attrib">(phunt via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3892">SOLR-3892</a>: Inconsistent locking when accessing cache in CachingDirectoryFactory
from RAMDirectoryFactory and MockDirectoryFactory.
<br /><span class="attrib">(phunt via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3883">SOLR-3883</a>: Distributed indexing forwards non-applicable request params.
<br /><span class="attrib">(Dan Sutton, Per Steffensen, yonik, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3903">SOLR-3903</a>: Fixed MissingFormatArgumentException in ConcurrentUpdateSolrServer
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3916">SOLR-3916</a>: Fixed whitespace bug in parsing the fl param
<br /><span class="attrib">(hossman)</span></li>
    </ol>
  </li>
  <li><a id="4.0.0.other_changes" href="javascript:toggleList('4.0.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(18)
    <ol id="4.0.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3690">SOLR-3690</a>: Fixed binary release packages to include dependencie needed for
the solr-test-framework
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2857">SOLR-2857</a>: The /update/json and /update/csv URLs were restored to aid
in the migration of existing clients.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3691">SOLR-3691</a>: SimplePostTool: Mode for crawling/posting web pages
See <a href="http://wiki.apache.org/solr/ExtractingRequestHandler">http://wiki.apache.org/solr/ExtractingRequestHandler</a> for examples
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3707">SOLR-3707</a>: Upgrade Solr to Tika 1.2
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2747">SOLR-2747</a>: Updated changes2html.pl to handle Solr's CHANGES.txt; added
target 'changes-to-html' to solr/build.xml.
<br /><span class="attrib">(Steve Rowe, Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3752">SOLR-3752</a>: When a leader goes down, have the Overseer clear the leader state
in cluster.json
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3751">SOLR-3751</a>: Add defensive checks for SolrCloud updates and requests that ensure
the local state matches what we can tell the request expected.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3773">SOLR-3773</a>: Hash based on the external String id rather than the indexed
representation for distributed updates.
<br /><span class="attrib">(Michael Garski, yonik, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3780">SOLR-3780</a>: Maven build: Make solrj tests run separately from solr-core.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3772">SOLR-3772</a>: Optionally, on cluster startup, we can wait until we see all registered
replicas before running the leader process - or if they all do not come up,
N amount of time.
<br /><span class="attrib">(Jan Høydahl, Per Steffensen, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3750">SOLR-3750</a>: Optionaly, on session expiration, we can explicitly wait some time before
running the leader sync process so that we are sure every node participates.
<br /><span class="attrib">(Per Steffensen, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3824">SOLR-3824</a>: Velocity: Error messages from search not displayed
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3826">SOLR-3826</a>: Test framework improvements for specifying coreName on initCore
<br /><span class="attrib">(Amit Nithian, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3749">SOLR-3749</a>: Allow default UpdateLog syncLevel to be configured by
solrconfig.xml
<br /><span class="attrib">(Raintung Li, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3845">SOLR-3845</a>: Rename numReplicas to replicationFactor in Collections API.
<br /><span class="attrib">(yonik, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3815">SOLR-3815</a>: SolrCloud - Add properties such as "range" to shards, which changes
the clusterstate.json and puts the shard replicas under "replicas".
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3871">SOLR-3871</a>: SyncStrategy should use an executor for the threads it creates to
request recoveries.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3870">SOLR-3870</a>: SyncStrategy should have a close so it can abort earlier on
shutdown.
<br /><span class="attrib">(Mark Miller)</span></li>
    </ol>
  </li>
</ul>
<h2><a id="older" href="javascript:toggleList('older')">Older Releases</a></h2>
<ul id="older.list">
<h3><a id="4.0.0-beta" href="javascript:toggleList('4.0.0-beta')">Release 4.0.0-BETA  [2012-08-13]</a></h3>
<ul id="4.0.0-beta.list">
  <li><a id="4.0.0-beta.versions_of_major_components" href="javascript:toggleList('4.0.0-beta.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="4.0.0-beta.versions_of_major_components.list">
      <li>Apache Tika 1.1
</li>
      <li>Carrot2 3.5.0
</li>
      <li>Velocity 1.6.4 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.3.6
</li>
    </ol>
  </li>
  <li><a id="4.0.0-beta.upgrading_from_solr_4.0.0-alpha" href="javascript:toggleList('4.0.0-beta.upgrading_from_solr_4.0.0-alpha')">Upgrading from Solr 4.0.0-ALPHA</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="4.0.0-beta.upgrading_from_solr_4.0.0-alpha.list">
      <li>Solr is now much more strict about requiring that the uniqueKeyField feature
(if used) must refer to a field which is not multiValued.  If you upgrade from
an earlier version of Solr and see an error that your uniqueKeyField "can not
be configured to be multivalued" please add 'multiValued="false"' to the
&lt;field /&gt; declaration for your uniqueKeyField.  See <a href="http://issues.apache.org/jira/browse/SOLR-3682">SOLR-3682</a> for more details.
</li>
    </ol>
  </li>
  <h4>Detailed Change List</h4>
  <li><a id="4.0.0-beta.new_features" href="javascript:toggleList('4.0.0-beta.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(15)
    <ol id="4.0.0-beta.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-4201">LUCENE-4201</a>: Added JapaneseIterationMarkCharFilterFactory to normalize Japanese
iteration marks.
<br /><span class="attrib">(Robert Muir, Christian Moen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1856">SOLR-1856</a>: In Solr Cell, literals should override Tika-parsed values.
Patch adds a param "literalsOverride" which defaults to true, but can be set
to "false" to let Tika-parsed values be appended to literal values
<br /><span class="attrib">(Chris Harris, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3488">SOLR-3488</a>: Added a Collection management API for SolrCloud.
<br /><span class="attrib">(Tommaso Teofili, Sami Siren, yonik, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3559">SOLR-3559</a>: Full deleteByQuery support with SolrCloud distributed indexing.
All replicas of a shard will be consistent, even if updates arrive in a
different order on different replicas.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1929">SOLR-1929</a>: Index encrypted documents with ExtractingUpdateRequestHandler.
By supplying resource.password=&lt;mypw&gt; or specifying an external file with regular
expressions matching file names, Solr will decrypt and index PDFs and DOCX formats.
<br /><span class="attrib">(janhoy, Yiannis Pericleous)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3562">SOLR-3562</a>: Add options to remove instance dir or data dir on core unload.
<br /><span class="attrib">(Mark Miller, Per Steffensen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2702">SOLR-2702</a>: The default directory factory was changed to NRTCachingDirectoryFactory
which wraps the StandardDirectoryFactory and caches small files for improved
Near Real-time (NRT) performance.
<br /><span class="attrib">(Mark Miller, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2616">SOLR-2616</a>: Include a sample java util logging configuration file.
<br /><span class="attrib">(David Smiley, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3460">SOLR-3460</a>: Add cloud-scripts directory and a zkcli.sh|bat tool for easy scripting
and interaction with ZooKeeper.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1725">SOLR-1725</a>: StatelessScriptUpdateProcessorFactory allows users to implement
the full ScriptUpdateProcessor API using any scripting language with a
javax.script.ScriptEngineFactory
<br /><span class="attrib">(Uri Boness, ehatcher, Simon Rosenthal, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-139">SOLR-139</a>: Change to updateable documents to create the document if it doesn't
already exist.  To assert that the document must exist, use the optimistic
concurrency feature by specifying a _version_ of 1.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-2510">LUCENE-2510</a>, <a href="http://issues.apache.org/jira/browse/LUCENE-4044">LUCENE-4044</a>: Migrated Solr's Tokenizer-, TokenFilter-, and
CharFilterFactories to the lucene-analysis module. To add new analysis
modules to Solr (like ICU, SmartChinese, Morfologik,...), just drop in
the JAR files from Lucene's binary distribution into your Solr instance's
lib folder. The factories are automatically made available with SPI.
<br /><span class="attrib">(Chris Male, Robert Muir, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3634">SOLR-3634</a>, <a href="http://issues.apache.org/jira/browse/SOLR-3635">SOLR-3635</a>: CoreContainer and CoreAdminHandler will now remember
and report back information about failures to initialize SolrCores.  These
failures will be accessible from the web UI and CoreAdminHandler STATUS
command until they are "reset" by creating/renaming a SolrCore with the
same name.
<br /><span class="attrib">(hossman, steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1280">SOLR-1280</a>: Added commented-out example of the new script update processor
to the example configuration.  See <a href="http://wiki.apache.org/solr/ScriptUpdateProcessor">http://wiki.apache.org/solr/ScriptUpdateProcessor</a>
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3672">SOLR-3672</a>: SimplePostTool: Improvements for posting files
Support for auto mode, recursive and wildcards
<br /><span class="attrib">(janhoy)</span></li>
    </ol>
  </li>
  <li><a id="4.0.0-beta.optimizations" href="javascript:toggleList('4.0.0-beta.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(3)
    <ol id="4.0.0-beta.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3708">SOLR-3708</a>: Add hashCode to ClusterState so that structures built based on the
ClusterState can be easily cached.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3709">SOLR-3709</a>: Cache the url list created from the ClusterState in CloudSolrServer on each
request.
<br /><span class="attrib">(Mark Miller, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3710">SOLR-3710</a>: Change CloudSolrServer so that update requests are only sent to leaders by
default.
<br /><span class="attrib">(Mark Miller)</span></li>
    </ol>
  </li>
  <li><a id="4.0.0-beta.bug_fixes" href="javascript:toggleList('4.0.0-beta.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(22)
    <ol id="4.0.0-beta.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3582">SOLR-3582</a>: Our ZooKeeper watchers respond to session events as if they are change events,
creating undesirable side effects.
<br /><span class="attrib">(Trym R. Møller, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3467">SOLR-3467</a>: ExtendedDismax escaping is missing several reserved characters
<br /><span class="attrib">(Michael Dodsworth via janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3587">SOLR-3587</a>: After reloading a SolrCore, the original Analyzer is still used rather than a new
one.
<br /><span class="attrib">(Alexey Serba, yonik, rmuir, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-4185">LUCENE-4185</a>: Fix a bug where CharFilters were wrongly being applied twice.
<br /><span class="attrib">(Michael Froh, rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3610">SOLR-3610</a>: After reloading a core, indexing would fail on any newly added fields to the schema.
<br /><span class="attrib">(Brent Mills, rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3377">SOLR-3377</a>: edismax fails to correctly parse a fielded query wrapped by parens.
This regression was introduced in 3.6.
<br /><span class="attrib">(Bernd Fehling, Jan Høydahl, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3621">SOLR-3621</a>: Fix rare concurrency issue when opening a new IndexWriter for replication or rollback.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1781">SOLR-1781</a>: Replication index directories not always cleaned up.
<br /><span class="attrib">(Markus Jelsma, Terje Sten Bjerkseth, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3639">SOLR-3639</a>: Update ZooKeeper to 3.3.6 for a variety of bug fixes.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3629">SOLR-3629</a>: Typo in solr.xml persistence when overriding the solrconfig.xml
file name using the "config" attribute prevented the override file from being
used.
<br /><span class="attrib">(Ryan Zezeski, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3642">SOLR-3642</a>: Correct broken check for multivalued fields in stats.facet
<br /><span class="attrib">(Yandong Yao, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3660">SOLR-3660</a>: Velocity: Link to admin page broken
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3658">SOLR-3658</a>: Adding thousands of docs with one UpdateProcessorChain instance can briefly create
spikes of threads in the thousands.
<br /><span class="attrib">(yonik, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3656">SOLR-3656</a>: A core reload now always uses the same dataDir.
<br /><span class="attrib">(Mark Miller, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3662">SOLR-3662</a>: Core reload bugs: a reload always obtained a non-NRT searcher, which
could go back in time with respect to the previous core's NRT searcher.  Versioning
did not work correctly across a core reload, and update handler synchronization
was changed to synchronize on core state since more than on update handler
can coexist for a single index during a reload.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3663">SOLR-3663</a>: There are a couple of bugs in the sync process when a leader goes down and a
new leader is elected.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3623">SOLR-3623</a>: Fixed inconsistent treatment of third-party dependencies for
solr contribs analysis-extras &amp; uima
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3652">SOLR-3652</a>: Fixed range faceting to error instead of looping infinitely
when 'gap' is zero -- or effectively zero due to floating point arithmetic
underflow.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3648">SOLR-3648</a>: Fixed VelocityResponseWriter template loading in SolrCloud mode.
For the example configuration, this means /browse now works with SolrCloud.
<br /><span class="attrib">(janhoy, ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3677">SOLR-3677</a>: Fixed missleading error message in web ui to distinguish between
no SolrCores loaded vs. no /admin/ handler available.
<br /><span class="attrib">(hossman, steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3428">SOLR-3428</a>: SolrCmdDistributor flushAdds/flushDeletes can cause repeated
adds/deletes to be sent
<br /><span class="attrib">(Mark Miller, Per Steffensen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3647">SOLR-3647</a>: DistributedQueue should use our Solr zk client rather than the std zk
client. ZooKeeper expiration can be permanent otherwise.
<br /><span class="attrib">(Mark Miller)</span></li>
    </ol>
  </li>
  <li><a id="4.0.0-beta.other_changes" href="javascript:toggleList('4.0.0-beta.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(14)
    <ol id="4.0.0-beta.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3524">SOLR-3524</a>: Make discarding punctuation configurable in JapaneseTokenizerFactory.
The default is to discard punctuation, but this is overridable as an expert option.
<br /><span class="attrib">(Kazuaki Hiraga, Jun Ohtani via Christian Moen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1770">SOLR-1770</a>: Move the default core instance directory into a collection1 folder.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3355">SOLR-3355</a>: Add shard and collection to SolrCore statistics.
<br /><span class="attrib">(Michael Garski, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3575">SOLR-3575</a>: solr.xml should default to persist=true
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3563">SOLR-3563</a>: Unloading all cores in a SolrCloud collection will now cause the removal of
that collection's meta data from ZooKeeper.
<br /><span class="attrib">(Mark Miller, Per Steffensen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3599">SOLR-3599</a>: Add zkClientTimeout to solr.xml so that it's obvious how to change it and so
that you can change it with a system property.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3609">SOLR-3609</a>: Change Solr's expanded webapp directory to be at a consistent path called
solr-webapp rather than a temporary directory.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3600">SOLR-3600</a>: Raise the default zkClientTimeout from 10 seconds to 15 seconds.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3215">SOLR-3215</a>: Clone SolrInputDocument when distrib indexing so that update processors after
the distrib update process do not process the document twice.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3683">SOLR-3683</a>: Improved error handling if an &lt;analyzer&gt; contains both an
explicit class attribute, as well as nested factories.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3682">SOLR-3682</a>: Fail to parse schema.xml if uniqueKeyField is multivalued
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2115">SOLR-2115</a>: DIH no longer requires the "config" parameter to be specified in solrconfig.xml.
Instead, the configuration is loaded and parsed with every import.  This allows the use of
a different configuration with each import, and makes correcting configuration errors simpler.
Also, the configuration itself can be passed using the "dataConfig" parameter rather than
using a file (this previously worked in debug mode only).  When configuration errors are
encountered, the error message is returned in XML format.
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3439">SOLR-3439</a>: Make SolrCell easier to use out of the box. Also improves "/browse" to display
rich-text documents correctly, along with facets for author and content_type.
With the new "content" field, highlighting of body is supported. See also <a href="http://issues.apache.org/jira/browse/SOLR-3672">SOLR-3672</a> for
easier posting of a whole directory structure.
<br /><span class="attrib">(Jack Krupansky, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3579">SOLR-3579</a>: SolrCloud view should default to the graph view rather than tree view.
<br /><span class="attrib">(steffkes, Mark Miller)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="4.0.0-alpha" href="javascript:toggleList('4.0.0-alpha')">Release 4.0.0-ALPHA  [2012-07-03]</a></h3>
<ul id="4.0.0-alpha.list">
      <li>More information about this release, including any errata related to the
release notes, upgrade instructions, or other changes may be found online at:
   <a href="https://wiki.apache.org/solr/Solr4.0">https://wiki.apache.org/solr/Solr4.0</a>
</li>
  </li>
  <li><a id="4.0.0-alpha.versions_of_major_components" href="javascript:toggleList('4.0.0-alpha.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="4.0.0-alpha.versions_of_major_components.list">
      <li>Apache Tika 1.1
</li>
      <li>Carrot2 3.5.0
</li>
      <li>Velocity 1.6.4 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.3.4
</li>
    </ol>
  </li>
  <li><a id="4.0.0-alpha.upgrading_from_solr_3.6-dev" href="javascript:toggleList('4.0.0-alpha.upgrading_from_solr_3.6-dev')">Upgrading from Solr 3.6-dev</a>&nbsp;&nbsp;&nbsp;(9)
    <ol id="4.0.0-alpha.upgrading_from_solr_3.6-dev.list">
      <li>The Lucene index format has changed and as a result, once you upgrade,
previous versions of Solr will no longer be able to read your indices.
In a master/slave configuration, all searchers/slaves should be upgraded
before the master.  If the master were to be updated first, the older
searchers would not be able to read the new index format.
<p/>
</li>
      <li>Setting abortOnConfigurationError=false is no longer supported
(since it has never worked properly).  Solr will now warn you if
you attempt to set this configuration option at all. (see <a href="http://issues.apache.org/jira/browse/SOLR-1846">SOLR-1846</a>)
<p/>
</li>
      <li>The default logic for the 'mm' param of the 'dismax' QParser has
been changed.  If no 'mm' param is specified (either in the query,
or as a default in solrconfig.xml) then the effective value of the
'q.op' param (either in the query or as a default in solrconfig.xml
or from the 'defaultOperator' option in schema.xml) is used to
influence the behavior.  If q.op is effectively "AND" then mm=100%.
If q.op is effectively "OR" then mm=0%.  Users who wish to force the
legacy behavior should set a default value for the 'mm' param in
their solrconfig.xml file.
<p/>
</li>
      <li>The VelocityResponseWriter is no longer built into the core.  Its JAR and
dependencies now need to be added (via &lt;lib&gt; or solr/home lib inclusion),
and it needs to be registered in solrconfig.xml like this:
  &lt;queryResponseWriter name="velocity" class="solr.VelocityResponseWriter"/&gt;
<p/>
</li>
      <li>The update request parameter to choose Update Request Processor Chain is
renamed from "update.processor" to "update.chain". The old parameter was
deprecated but still working since Solr3.2, but is now removed
entirely.
<p/>
</li>
      <li>The &lt;indexDefaults&gt; and &lt;mainIndex&gt; sections of solrconfig.xml are discontinued
and replaced with the &lt;indexConfig&gt; section. There are also better defaults.
When migrating, if you don't know what your old settings mean, simply delete
both &lt;indexDefaults&gt; and &lt;mainIndex&gt; sections. If you have customizations,
put them in &lt;indexConfig&gt; section - with same syntax as before.
<p/>
</li>
      <li>Two of the SolrServer subclasses in SolrJ were renamed/replaced.
CommonsHttpSolrServer is now HttpSolrServer, and
StreamingUpdateSolrServer is now ConcurrentUpdateSolrServer.
<p/>
</li>
      <li>The PingRequestHandler no longer looks for a &lt;healthcheck/&gt; option in the
(legacy) &lt;admin&gt; section of solrconfig.xml.  Users who wish to take
advantage of this feature should configure a "healthcheckFile" init param
directly on the  PingRequestHandler.  As part of this change, relative file
paths have been fixed to be resolved against the data dir.  See the example
solrconfig.xml and <a href="http://issues.apache.org/jira/browse/SOLR-1258">SOLR-1258</a> for more details.
<p/>
</li>
      <li>Due to low level changes to support SolrCloud, the uniqueKey field can no
longer be populated via &lt;copyField/&gt; or &lt;field default=...&gt; in the
schema.xml.  Users wishing to have Solr automatically generate a uniqueKey
value when adding documents should instead use an instance of
solr.UUIDUpdateProcessorFactory in their update processor chain.  See
<a href="http://issues.apache.org/jira/browse/SOLR-2796">SOLR-2796</a> for more details.
<p/>
</li>
    </ol>
  </li>
  <h4>Detailed Change List</h4>
  <li><a id="4.0.0-alpha.new_features" href="javascript:toggleList('4.0.0-alpha.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(60)
    <ol id="4.0.0-alpha.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3272">SOLR-3272</a>: Solr filter factory for MorfologikFilter (Polish lemmatisation).
<br /><span class="attrib">(Rafał Kuć via Dawid Weiss, Steven Rowe, Uwe Schindler)</span>.
<p/>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-571">SOLR-571</a>: The autowarmCount for LRUCaches (LRUCache and FastLRUCache) now
supports "percentages" which get evaluated  relative the current size of
the cache when warming happens.
<br /><span class="attrib">(Tomás Fernández Löbbe and hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1932">SOLR-1932</a>: New relevancy function queries: termfreq, tf, docfreq, idf
norm, maxdoc, numdocs.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1665">SOLR-1665</a>: Add debug component options for timings, results and query info only
<br /><span class="attrib">(gsingers, hossman, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2112">SOLR-2112</a>: Solrj API now supports streaming results.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-792">SOLR-792</a>: Adding PivotFacetComponent for Hierarchical faceting
<br /><span class="attrib">(ehatcher, Jeremy Hinegardner, Thibaut Lassalle, ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-2507">LUCENE-2507</a>, <a href="http://issues.apache.org/jira/browse/SOLR-2571">SOLR-2571</a>, <a href="http://issues.apache.org/jira/browse/SOLR-2576">SOLR-2576</a>: Added DirectSolrSpellChecker, which uses Lucene's
DirectSpellChecker to retrieve correction candidates directly from the term dictionary using
levenshtein automata.
<br /><span class="attrib">(James Dyer, rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1873">SOLR-1873</a>, <a href="http://issues.apache.org/jira/browse/SOLR-2358">SOLR-2358</a>: SolrCloud - added shared/central config and core/shard management via zookeeper,
built-in load balancing, and distributed indexing.
<br /><span class="attrib">(Jamie Johnson, Sami Siren, Ted Dunning, yonik, Mark Miller)</span><br />
<p/>
Additional Work:<br />
<ul class="bulleted-list">
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-2324">SOLR-2324</a>: SolrCloud solr.xml parameters are not persisted by CoreContainer.
<br /><span class="attrib">(Massimo Schiavon, Mark Miller)</span></li>
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-2287">SOLR-2287</a>: Allow users to query by multiple, compatible collections with SolrCloud.
<br /><span class="attrib">(Soheb Mahmood, Alex Cowell, Mark Miller)</span></li>
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-2622">SOLR-2622</a>: ShowFileRequestHandler does not work in SolrCloud mode.
<br /><span class="attrib">(Stefan Matheis, Mark Miller)</span></li>
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-3108">SOLR-3108</a>: Error in SolrCloud's replica lookup code when replica's are hosted in same Solr instance.
<br /><span class="attrib">(Bruno Dumon, Sami Siren, Mark Miller)</span></li>
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-3080">SOLR-3080</a>: Remove shard info from zookeeper when SolrCore is explicitly unloaded.
<br /><span class="attrib">(yonik, Mark Miller, siren)</span></li>
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-3437">SOLR-3437</a>: Recovery issues a spurious commit to the cluster.
<br /><span class="attrib">(Trym R. Møller via Mark Miller)</span></li>
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-2822">SOLR-2822</a>: Skip update processors already run on other nodes
<br /><span class="attrib">(hossman)</span></li>
</ul>
<p/>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1566">SOLR-1566</a>: Transforming documents in the ResponseWriters.  This will allow
for more complex results in responses and open the door for function queries
as results.
<br /><span class="attrib">(ryan with patches from grant, noble, cmale, yonik, Jan Høydahl,
Arul Kalaipandian, Luca Cavanna, hossman)</span>
<ul class="bulleted-list">
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-2037">SOLR-2037</a>: Thanks to <a href="http://issues.apache.org/jira/browse/SOLR-1566">SOLR-1566</a>, documents boosted by the QueryElevationComponent
  can be marked as boosted.
<br /><span class="attrib">(gsingers, ryan, yonik)</span></li>
</ul>
<p/>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2396">SOLR-2396</a>: Add CollationField, which is much more efficient than
the Solr 3.x CollationKeyFilterFactory, and also supports
Locale-sensitive range queries.
<br /><span class="attrib">(rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2338">SOLR-2338</a>: Add support for using &lt;similarity/&gt; in a schema's fieldType,
for customizing scoring on a per-field basis.
<br /><span class="attrib">(hossman, yonik, rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2335">SOLR-2335</a>: New 'field("...")' function syntax for referring to complex
field names (containing whitespace or special characters) in functions.
<p/>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2383">SOLR-2383</a>: /browse improvements: generalize range and date facet display
<br /><span class="attrib">(Jan Høydahl via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2272">SOLR-2272</a>: Pseudo-join queries / filters.  Examples:
<ul class="bulleted-list">
<li class="bulleted-list">
To restrict to the set of parents with at least one blue-eyed child:
    fq={!join from=parent to=name}eyes:blue
</li>
<li class="bulleted-list">
To restrict to the set of children with at least one blue-eyed parent:
    fq={!join from=name to=parent}eyes:blue
</li>
</ul><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1942">SOLR-1942</a>: Added the ability to select postings format per fieldType in schema.xml
as well as support custom Codecs in solrconfig.xml.
<br /><span class="attrib">(simonw via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2136">SOLR-2136</a>: Boolean type added to function queries, along with
new functions exists(), if(), and(), or(), xor(), not(), def(),
and true and false constants.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2491">SOLR-2491</a>: Add support for using spellcheck collation in conjunction
with grouping. Note that the number of hits returned for collations
is the number of ungrouped hits.
<br /><span class="attrib">(James Dyer via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1298">SOLR-1298</a>: Return FunctionQuery as pseudo field.  The solr 'fl' param
now supports functions.  For example:  fl=id,sum(x,y) -- NOTE: only
functions with fast random access are reccomended.
<br /><span class="attrib">(yonik, ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-705">SOLR-705</a>: Optionally return shard info with each document in distributed
search.  Use fl=id,[shard]  to return the shard url.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2417">SOLR-2417</a>: Add explain info directly to return documents using
?fl=id,[explain]
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2533">SOLR-2533</a>: Converted ValueSource.ValueSourceSortField over to new rewriteable Lucene
SortFields.  ValueSourceSortField instances must be rewritten before they can be used.
This is done by SolrIndexSearcher when necessary.
<br /><span class="attrib">(Chris Male)</span>.
<p/>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2193">SOLR-2193</a>, <a href="http://issues.apache.org/jira/browse/SOLR-2565">SOLR-2565</a>: You may now specify a 'soft' commit when committing. This will
use Lucene's NRT feature to avoid guaranteeing documents are on stable storage in exchange
for faster reopen times. There is also a new 'soft' autocommit tracker that can be
configured.
<br /><span class="attrib">(Mark Miller, Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2399">SOLR-2399</a>: Updated Solr Admin interface.  New look and feel with per core administration
and many new options.
<br /><span class="attrib">(Stefan Matheis via ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1032">SOLR-1032</a>: CSV handler now supports "literal.field_name=value" parameters.
<br /><span class="attrib">(Simon Rosenthal, ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2656">SOLR-2656</a>: realtime-get, efficiently retrieves the latest stored fields for specified
documents, even if they are not yet searchable (i.e. without reopening a searcher)
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2703">SOLR-2703</a>: Added support for Lucene's "surround" query parser.
<br /><span class="attrib">(Simon Rosenthal, ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2754">SOLR-2754</a>: Added factories for several ranking algorithms:
<ul class="bulleted-list">
<li class="bulleted-list">
BM25SimilarityFactory: Okapi BM25
</li>
<li class="bulleted-list">
DFRSimilarityFactory: Divergence from Randomness models
</li>
<li class="bulleted-list">
IBSimilarityFactory: Information-based models
</li>
<li class="bulleted-list">
LMDirichletSimilarity: LM with Dirichlet smoothing
</li>
<li class="bulleted-list">
LMJelinekMercerSimilarity: LM with Jelinek-Mercer smoothing
</li>
</ul><span class="attrib">(David Mark Nemeskey, Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2134">SOLR-2134</a> Trie* fields should support sortMissingLast=true, and deprecate Sortable* Field Types
<br /><span class="attrib">(Ryan McKinley, Mike McCandless, Uwe Schindler, Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2438">SOLR-2438</a> added MultiTermAwareComponent to the various classes to allow automatic lowercasing
for multiterm queries (wildcards, regex, prefix, range, etc). You can now optionally specify a
"multiterm" analyzer in our schema.xml, but Solr should "do the right thing" if you don't
specify &lt;analyzer type="multiterm"&gt;
<br /><span class="attrib">(Pete Sturge Erick Erickson, Mentoring from Seeley and Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2481">SOLR-2481</a>: Add support for commitWithin in DataImportHandler
<br /><span class="attrib">(Sami Siren via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2992">SOLR-2992</a>: Add support for IndexWriter.prepareCommit() via prepareCommit=true
on update URLs.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2906">SOLR-2906</a>: Added LFU cache options to Solr.
<br /><span class="attrib">(Shawn Heisey via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3069">SOLR-3069</a>: Ability to add openSearcher=false to not open a searcher when doing
a hard commit.  commitWithin now only invokes a softCommit.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2802">SOLR-2802</a>: New FieldMutatingUpdateProcessor and Factory to simplify the
development of UpdateProcessors that modify field values of documents as
they are indexed. Also includes several useful new implementations:
<ul class="bulleted-list">
<li class="bulleted-list">
RemoveBlankFieldUpdateProcessorFactory
</li>
<li class="bulleted-list">
TrimFieldUpdateProcessorFactory
</li>
<li class="bulleted-list">
HTMLStripFieldUpdateProcessorFactory
</li>
<li class="bulleted-list">
RegexReplaceProcessorFactory
</li>
<li class="bulleted-list">
FieldLengthUpdateProcessorFactory
</li>
<li class="bulleted-list">
ConcatFieldUpdateProcessorFactory
</li>
<li class="bulleted-list">
FirstFieldValueUpdateProcessorFactory
</li>
<li class="bulleted-list">
LastFieldValueUpdateProcessorFactory
</li>
<li class="bulleted-list">
MinFieldValueUpdateProcessorFactory
</li>
<li class="bulleted-list">
MaxFieldValueUpdateProcessorFactory
</li>
<li class="bulleted-list">
TruncateFieldUpdateProcessorFactory
</li>
<li class="bulleted-list">
IgnoreFieldUpdateProcessorFactory
</li>
</ul><span class="attrib">(hossman, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3120">SOLR-3120</a>: Optional post filtering for spatial queries bbox and geofilt
for LatLonType.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2459">SOLR-2459</a>: Expose LogLevel selection with a RequestHandler rather then servlet
<br /><span class="attrib">(Stefan Matheis, Upayavira, ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3134">SOLR-3134</a>: Include shard info in distributed response when shards.info=true
<br /><span class="attrib">(Russell Black, ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2898">SOLR-2898</a>: Support grouped faceting.
<br /><span class="attrib">(Martijn van Groningen)</span><br />
<p/>
Additional Work:<br />
<ul class="bulleted-list">
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-3406">SOLR-3406</a>: Extended grouped faceting support to facet.query and facet.range parameters.
<br /><span class="attrib">(David Boychuck, Martijn van Groningen)</span></li>
</ul>
<p/>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2949">SOLR-2949</a>: QueryElevationComponent is now supported with distributed search.
<br /><span class="attrib">(Mark Miller, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3221">SOLR-3221</a>: Added the ability to directly configure aspects of the concurrency
 and thread-pooling used within distributed search in solr. This allows for finer
 grained controlled and can be tuned by end users to target their own specific
 requirements. This builds on the work of the HttpCommComponent and uses the same configuration
 block to configure the thread pool. The default configuration has
 the same behaviour as solr 3.5, favouring throughput over latency. More
 information can be found on the wiki (<a href="http://wiki.apache.org/solr/SolrConfigXml">http://wiki.apache.org/solr/SolrConfigXml</a>)
<br /><span class="attrib">(Greg Bowyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3278">SOLR-3278</a>: Negative boost support to the Extended Dismax Query Parser Boost Query (bq).
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3255">SOLR-3255</a>: OpenExchangeRates.Org Exchange Rate Provider for CurrencyField
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3358">SOLR-3358</a>: Logging events are captured and available from the /admin/logging
request handler.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1535">SOLR-1535</a>: PreAnalyzedField type provides a functionality to index (and optionally store)
field content that was already processed and split into tokens using some external processing
chain. Serialization format is pluggable, and defaults to JSON.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3363">SOLR-3363</a>: Consolidated Exceptions in Analysis Factories so they only throw
InitalizationExceptions
<br /><span class="attrib">(Chris Male)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2690">SOLR-2690</a>: New support for a "TZ" request param which overrides the TimeZone
used when rounding Dates in DateMath expressions for the entire request
(all date range queries and date faceting is affected).  The default TZ
is still UTC.
<br /><span class="attrib">(David Schlotfeldt, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3402">SOLR-3402</a>: Analysis Factories are now configured with their Lucene Version
throw setLuceneMatchVersion, rather than through the Map passed to init.
Parsing and simple error checking for the Version is now done inside
the code that creates the Analysis Factories.
<br /><span class="attrib">(Chris Male)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3178">SOLR-3178</a>: Optimistic locking.  If a _version_ is provided with an update
that does not match the version in the index, an HTTP 409 error (Conflict)
will result.
<br /><span class="attrib">(Per Steffensen, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-139">SOLR-139</a>: Updateable documents.  JSON Example:
{"id":"mydoc", "f1":{"set":10}, "f2":{"add":20}}  will result in field "f1"
being set to 10, "f2" having an additional value of 20 added, and all
other existing fields unchanged.  All source fields must be stored for
this feature to work correctly.
<br /><span class="attrib">(Ryan McKinley, Erik Hatcher, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2857">SOLR-2857</a>: Support XML,CSV,JSON, and javabin in a single RequestHandler and
choose the correct ContentStreamLoader based on Content-Type header.  This
also deprecates the existing [Xml,JSON,CSV,Binary,Xslt]UpdateRequestHandler.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2585">SOLR-2585</a>: Context-Sensitive Spelling Suggestions &amp; Collations.  This adds support
for the "spellcheck.alternativeTermCount" &amp; "spellcheck.maxResultsForSuggest"
parameters, letting users receive suggestions even when all the queried terms
exist in the dictionary.  This differs from "spellcheck.onlyMorePopular" in
that the suggestions need not consist entirely of terms with a greater document
frequency than the queried terms.
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2058">SOLR-2058</a>: Edismax query parser to allow "phrase slop" to be specified per-field
on the pf/pf2/pf3 parameters using optional "FieldName~slop^boost" syntax.  The
prior "FieldName^boost" syntax is still accepted.  In such cases the value on the
"ps" parameter serves as the default slop.
<br /><span class="attrib">(Ron Mayer via James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3495">SOLR-3495</a>: New UpdateProcessors have been added to create default values for
configured fields.  These works similarly to the &lt;field default="..."/&gt;
option in schema.xml, but are applied in the UpdateProcessorChain, so they
may be used prior to other UpdateProcessors, or to generate a uniqueKey field
value when using the DistributedUpdateProcessor (ie: SolrCloud)
  TimestampUpdateProcessorFactory
  UUIDUpdateProcessorFactory
  DefaultValueUpdateProcessorFactory
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2993">SOLR-2993</a>: Add WordBreakSolrSpellChecker to offer suggestions by combining adjacent
query terms and/or breaking terms into multiple words.  This spellchecker can be
configured with a traditional checker (ie: DirectSolrSpellChecker).  The results
are combined and collations can contain a mix of corrections from both spellcheckers.
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3508">SOLR-3508</a>: Simplify JSON update format for deletes as well as allow
version specification for optimistic locking.  Examples:
<ul class="bulleted-list">
<li class="bulleted-list">
{"delete":"myid"}
</li>
<li class="bulleted-list">
{"delete":["id1","id2","id3"]}
</li>
<li class="bulleted-list">
{"delete":{"id":"myid", "_version_":123456789}}
</li>
</ul><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3211">SOLR-3211</a>:  Allow parameter overrides in conjunction with "spellcheck.maxCollationTries".
To do so, use parameters starting with "spellcheck.collateParam."  For instance, to
override the "mm" parameter, specify "spellcheck.collateParam.mm".  This is helpful
in cases where testing spellcheck collations for result counts should use different
parameters from the main query
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2599">SOLR-2599</a>: CloneFieldUpdateProcessorFactory provides similar functionality
to schema.xml's &lt;copyField/&gt; declaration but as an update processor that can
be combined with other processors in any order.
<br /><span class="attrib">(Jan Høydahl &amp; hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3351">SOLR-3351</a>: eDismax: ps2 and ps3 params
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3542">SOLR-3542</a>: Add WeightedFragListBuilder for FVH and set it to default fragListBuilder
in example solrconfig.xml.
<br /><span class="attrib">(Sebastian Lutze, koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2396">SOLR-2396</a>: Add ICUCollationField to contrib/analysis-extras, which is much
more efficient than the Solr 3.x ICUCollationKeyFilterFactory, and also
supports Locale-sensitive range queries.
<br /><span class="attrib">(rmuir)</span></li>
    </ol>
  </li>
  <li><a id="4.0.0-alpha.optimizations" href="javascript:toggleList('4.0.0-alpha.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="4.0.0-alpha.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1875">SOLR-1875</a>: Per-segment field faceting for single valued string fields.
Enable with facet.method=fcs, control the number of threads used with
the "threads" local param on the facet.field param.  This algorithm will
only be faster in the presence of rapid index changes.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1904">SOLR-1904</a>: When facet.enum.cache.minDf &gt; 0 and the base doc set is a
SortedIntSet, convert to HashDocSet for better performance.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2092">SOLR-2092</a>: Speed up single-valued and multi-valued "fc" faceting. Typical
improvement is 5%, but can be much greater (up to 10x faster) when facet.offset
is very large (deep paging).
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2193">SOLR-2193</a>, <a href="http://issues.apache.org/jira/browse/SOLR-2565">SOLR-2565</a>: The default Solr update handler has been improved so
that it uses fewer locks, keeps the IndexWriter open rather than closing it
on each commit (ie commits no longer wait for background merges to complete),
works with SolrCore to provide faster 'soft' commits, and has an improved API
that requires less instanceof special casing.
<br /><span class="attrib">(Mark Miller, Robert Muir)</span><br />
<p/>
Additional Work:<br />
<ul class="bulleted-list">
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-2697">SOLR-2697</a>: commit and autocommit operations don't reset
  DirectUpdateHandler2.numDocsPending stats attribute.
<br /><span class="attrib">(Alexey Serba, Mark Miller)</span></li>
</ul>
<p/>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2950">SOLR-2950</a>: The QueryElevationComponent now avoids using the FieldCache and looking up
every document id
<br /><span class="attrib">(gsingers, yonik)</span></li>
    </ol>
  </li>
  <li><a id="4.0.0-alpha.bug_fixes" href="javascript:toggleList('4.0.0-alpha.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(41)
    <ol id="4.0.0-alpha.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3139">SOLR-3139</a>: Make ConcurrentUpdateSolrServer send UpdateRequest.getParams()
as HTTP request params
<br /><span class="attrib">(siren)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3165">SOLR-3165</a>: Cannot use DIH in Solrcloud + Zookeeper
<br /><span class="attrib">(Alexey Serba,
Mark Miller, siren)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3068">SOLR-3068</a>: Occasional NPE in ThreadDumpHandler
<br /><span class="attrib">(siren)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2762">SOLR-2762</a>: FSTLookup could return duplicate results or one results less
than requested.
<br /><span class="attrib">(David Smiley, Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2741">SOLR-2741</a>: Bugs in facet range display in trunk
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1908">SOLR-1908</a>: Fixed SignatureUpdateProcessor to fail to initialize on
invalid config.  Specifically: a signatureField that does not exist,
or overwriteDupes=true with a signatureField that is not indexed.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1824">SOLR-1824</a>: IndexSchema will now fail to initialize if there is a
problem initializing one of the fields or field types.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1928">SOLR-1928</a>: TermsComponent didn't correctly break ties for non-text
fields sorted by count.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2107">SOLR-2107</a>: MoreLikeThisHandler doesn't work with alternate qparsers.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2108">SOLR-2108</a>: Fixed false positives when using wildcard queries on fields with reversed
wildcard support. For example, a query of *zemog* would match documents that contain
'gomez'.
<br /><span class="attrib">(Landon Kuhn via Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1962">SOLR-1962</a>: SolrCore#initIndex should not use a mix of indexPath and newIndexPath
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2275">SOLR-2275</a>: fix DisMax 'mm' parsing to be tolerant of whitespace
<br /><span class="attrib">(Erick Erickson via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2193">SOLR-2193</a>, <a href="http://issues.apache.org/jira/browse/SOLR-2565">SOLR-2565</a>, <a href="http://issues.apache.org/jira/browse/SOLR-2651">SOLR-2651</a>: SolrCores now properly share IndexWriters across SolrCore reloads.
<br /><span class="attrib">(Mark Miller, Robert Muir)</span><br />
<p/>
Additional Work:<br />
<ul class="bulleted-list">
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-2705">SOLR-2705</a>: On reload, IndexWriterProvider holds onto the initial SolrCore it was created with.
<br /><span class="attrib">(Yury Kats, Mark Miller)</span></li>
</ul>
<p/>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2682">SOLR-2682</a>: Remove addException() in SimpleFacet. FacetComponent no longer catches and embeds
exceptions occurred during facet processing, it throws HTTP 400 or 500 exceptions instead.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2654">SOLR-2654</a>: Directorys used by a SolrCore are now closed when they are no longer used.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2854">SOLR-2854</a>: Now load URL content stream data (via stream.url) when called for during request handling,
rather than loading URL content streams automatically regardless of use.
<br /><span class="attrib">(David Smiley and Ryan McKinley via ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2829">SOLR-2829</a>: Fix problem with false-positives due to incorrect
equals methods.
<br /><span class="attrib">(Yonik Seeley, Hossman, Erick Erickson.
Marc Tinnemeyer caught the bug)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2848">SOLR-2848</a>: Removed 'instanceof AbstractLuceneSpellChecker' hacks from distributed spellchecking code,
and added a merge() method to SolrSpellChecker instead. Previously if you extended SolrSpellChecker
your spellchecker would not work in distributed fashion.
<br /><span class="attrib">(James Dyer via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2509">SOLR-2509</a>: StringIndexOutOfBoundsException in the spellchecker collate when the term contains
a hyphen.
<br /><span class="attrib">(Thomas Gambier caught the bug, Steffen Godskesen did the patch, via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1730">SOLR-1730</a>: Made it clearer when a core failed to load as well as better logging when the
QueryElevationComponent fails to properly initialize
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1520">SOLR-1520</a>: QueryElevationComponent now supports non-string ids
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3037">SOLR-3037</a>: When using binary format in solrj the codec screws up parameters
<br /><span class="attrib">(Sami Siren, Jörg Maier  via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3062">SOLR-3062</a>: A join in the main query was not respecting any filters pushed
down to it via acceptDocs since <a href="http://issues.apache.org/jira/browse/LUCENE-1536">LUCENE-1536</a>.
<br /><span class="attrib">(Mike Hugo, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3214">SOLR-3214</a>: If you use multiple fl entries rather than a comma separated list, all but the first
entry can be ignored if you are using distributed search.
<br /><span class="attrib">(Tomás Fernández Löbbe via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3352">SOLR-3352</a>: eDismax: pf2 should kick in for a query with 2 terms
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3361">SOLR-3361</a>: ReplicationHandler "maxNumberOfBackups" doesn't work if backups are triggered on commit
<br /><span class="attrib">(James Dyer, Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2605">SOLR-2605</a>: fixed tracking of the 'defaultCoreName' in CoreContainer so that
CoreAdminHandler could return consistent information regardless of wether
there is a a default core name or not.
<br /><span class="attrib">(steffkes, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3370">SOLR-3370</a>: fixed CSVResponseWriter to respect globs in the 'fl' param
<br /><span class="attrib">(Keith Fligg via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3436">SOLR-3436</a>: Group count incorrect when not all shards are queried in the second
pass.
<br /><span class="attrib">(Francois Perron, Martijn van Groningen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3454">SOLR-3454</a>: Exception when using result grouping with main=true and using
wt=javabin.
<br /><span class="attrib">(Ludovic Boutros, Martijn van Groningen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3446">SOLR-3446</a>: Better errors when PatternTokenizerFactory is configured with
an invalid pattern, and include the 'name' whenever possible in plugin init
error messages.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-4075">LUCENE-4075</a>: Cleaner path usage in TestXPathEntityProcessor
<br /><span class="attrib">(Greg Bowyer via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2923">SOLR-2923</a>: IllegalArgumentException when using useFilterForSortedQuery on an
empty index.
<br /><span class="attrib">(Adrien Grand via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2352">SOLR-2352</a>: Fixed TermVectorComponent so that it will not fail if the fl
param contains globs or psuedo-fields
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3541">SOLR-3541</a>: add missing solrj dependencies to binary packages.
<br /><span class="attrib">(Thijs Vonk via siren)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3522">SOLR-3522</a>: fixed parsing of the 'literal()' function
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3548">SOLR-3548</a>: Fixed a bug in the cachability of queries using the {!join}
parser or the strdist() function, as well as some minor improvements to
the hashCode implementation of {!bbox} and {!geofilt} queries.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3470">SOLR-3470</a>: contrib/clustering: custom Carrot2 tokenizer and stemmer factories
are respected now
<br /><span class="attrib">(Stanislaw Osinski, Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3430">SOLR-3430</a>: Added a new DIH test against a real SQL database.  Fixed problems
revealed by this new test related to  the expanded cache support added to
3.6/<a href="http://issues.apache.org/jira/browse/SOLR-2382">SOLR-2382</a>
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1958">SOLR-1958</a>: When using the MailEntityProcessor, import would fail if
fetchMailsSince was not specified.
<br /><span class="attrib">(Max Lynch via James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4289">SOLR-4289</a>: Admin UI - JVM memory bar - dark grey "used" width is too small
<br /><span class="attrib">(steffkes, elyograg)</span></li>
    </ol>
  </li>
  <li><a id="4.0.0-alpha.other_changes" href="javascript:toggleList('4.0.0-alpha.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(48)
    <ol id="4.0.0-alpha.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1846">SOLR-1846</a>: Eliminate support for the abortOnConfigurationError
option.  It has never worked very well, and in recent versions of
Solr hasn't worked at all.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1889">SOLR-1889</a>: The default logic for the 'mm' param of DismaxQParser and
ExtendedDismaxQParser has been changed to be determined based on the
effective value of the 'q.op' param
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1946">SOLR-1946</a>: Misc improvements to the SystemInfoHandler: /admin/system
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2289">SOLR-2289</a>: Tweak spatial coords for example docs so they are a bit
more spread out
<br /><span class="attrib">(Erick Erickson via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2288">SOLR-2288</a>: Small tweaks to eliminate compiler warnings.  primarily
using Generics where applicable in method/object declatations, and
adding @SuppressWarnings("unchecked") when appropriate
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2375">SOLR-2375</a>: Suggester Lookup implementations now store trie data
and load it back on init. This means that large tries don't have to be
rebuilt on every commit or core reload.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2413">SOLR-2413</a>: Support for returning multi-valued fields w/o &lt;arr&gt; tag
in the XMLResponseWriter was removed.  XMLResponseWriter only
no longer work with values less then 2.2
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2423">SOLR-2423</a>: FieldType argument changed from String to Object
Conversion from SolrInputDocument &gt; Object &gt; Fieldable is now managed
by FieldType rather then DocumentBuilder.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2461">SOLR-2461</a>: QuerySenderListener and AbstractSolrEventListener are
now public
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-2995">LUCENE-2995</a>: Moved some spellchecker and suggest APIs to modules/suggest:
HighFrequencyDictionary, SortedIterator, TermFreqIterator, and the
suggester APIs and implementations.
<br /><span class="attrib">(rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2576">SOLR-2576</a>: Remove deprecated SpellingResult.add(Token, int).
<br /><span class="attrib">(James Dyer via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-3232">LUCENE-3232</a>: Moved MutableValue classes to new 'common' module.
<br /><span class="attrib">(Chris Male)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-2883">LUCENE-2883</a>: FunctionQuery, DocValues (and its impls), ValueSource (and its
impls) and BoostedQuery have been consolidated into the queries module.  They
can now be found at o.a.l.queries.function.
<p/>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2027">SOLR-2027</a>: FacetField.getValues() now returns an empty list if there are no
values, instead of null
<br /><span class="attrib">(Chris Male)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1825">SOLR-1825</a>: SolrQuery.addFacetQuery now enables facets automatically, like
addFacetField
<br /><span class="attrib">(Chris Male)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2663">SOLR-2663</a>: FieldTypePluginLoader has been refactored out of IndexSchema
and made public.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2331">SOLR-2331</a>,<a href="http://issues.apache.org/jira/browse/SOLR-2691">SOLR-2691</a>: Refactor CoreContainer's SolrXML serialization code and improve testing
<br /><span class="attrib">(Yury Kats, hossman, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2698">SOLR-2698</a>: Enhance CoreAdmin STATUS command to return index size.
<br /><span class="attrib">(Yury Kats, hossman, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2654">SOLR-2654</a>: The same Directory instance is now always used across a SolrCore so that
it's easier to add other DirectoryFactory's without static caching hacks.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-3286">LUCENE-3286</a>: 'luke' ant target has been disabled due to incompatibilities with XML
queryparser location
<br /><span class="attrib">(Chris Male)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1897">SOLR-1897</a>: The data dir from the core descriptor should override the data dir from
the solrconfig.xml rather than the other way round.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2756">SOLR-2756</a>: Maven configuration: Excluded transitive stax:stax-api dependency
from org.codehaus.woodstox:wstx-asl dependency.
<br /><span class="attrib">(David Smiley via Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2588">SOLR-2588</a>: Moved VelocityResponseWriter back to contrib module in order to
remove it as a mandatory core dependency.
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2862">SOLR-2862</a>: More explicit lexical resources location logged if Carrot2 clustering
extension is used. Fixed solr. impl. of IResource and IResourceLookup.
<br /><span class="attrib">(Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1123">SOLR-1123</a>: Changed JSONResponseWriter to now use application/json as its Content-Type
by default.  However the Content-Type can be overwritten and is set to text/plain in
the example configuration.
<br /><span class="attrib">(Uri Boness, Chris Male)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2607">SOLR-2607</a>: Removed deprecated client/ruby directory, which included solr-ruby and flare.
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3032">SOLR-3032</a>: logOnce from SolrException logOnce and all the supporting
structure is gone. abortOnConfugrationError is also gone as it is no longer referenced.
Errors should be caught and logged at the top-most level or logged and NOT propagated up the
chain.
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2105">SOLR-2105</a>: Remove support for deprecated "update.processor" (since 3.2), in favor of
"update.chain"
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3005">SOLR-3005</a>: Default QueryResponseWriters are now initialized via init() with an empty
NamedList.
<br /><span class="attrib">(Gasol Wu, Chris Male)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2607">SOLR-2607</a>: Removed obsolete client/ folder
<br /><span class="attrib">(ehatcher, Eric Pugh, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3202">SOLR-3202</a>, <a href="http://issues.apache.org/jira/browse/SOLR-3244">SOLR-3244</a>: Dropping Support for JSP.  New Admin UI is all client side
<br /><span class="attrib">(ryan, Aliaksandr Zhuhrou, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3159">SOLR-3159</a>: Upgrade example and tests to run with Jetty 8
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3254">SOLR-3254</a>: Upgrade Solr to Tika 1.1
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3329">SOLR-3329</a>: Dropped getSourceID() from SolrInfoMBean and using
getClass().getPackage().getSpecificationVersion() for Version.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3302">SOLR-3302</a>: Upgraded SLF4j to version 1.6.4
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3322">SOLR-3322</a>: Add more context to IndexReaderFactory.newReader
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3343">SOLR-3343</a>: Moved FastWriter, FileUtils, RegexFileFilter, RTimer and SystemIdResolver
from org.apache.solr.common to org.apache.solr.util
<br /><span class="attrib">(Chris Male)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3357">SOLR-3357</a>: ResourceLoader.newInstance now accepts a Class representation of the expected
instance type
<br /><span class="attrib">(Chris Male)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3388">SOLR-3388</a>: HTTP caching is now disabled by default for RequestUpdateHandlers.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3309">SOLR-3309</a>: web.xml now specifies metadata-complete=true (which requires
Servlet 2.5) to prevent servlet containers from scanning class annotations
on startup.  This allows for faster startup times on some servlet containers.
<br /><span class="attrib">(Bill Bell, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1893">SOLR-1893</a>: Refactored some common code from LRUCache and FastLRUCache into
SolrCacheBase
<br /><span class="attrib">(Tomás Fernández Löbbe via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3403">SOLR-3403</a>: Deprecated Analysis Factories now log their own deprecation messages.
No logging support is provided by Factory parent classes.
<br /><span class="attrib">(Chris Male)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1258">SOLR-1258</a>: PingRequestHandler is now directly configured with a
"healthcheckFile" instead of looking for the legacy
&lt;admin&gt;&lt;healthcheck/&gt;&lt;/admin&gt; syntax.  Filenames specified as relative
paths have been fixed so that they are resolved against the data dir
instead of the CWD of the java process.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3083">SOLR-3083</a>: JMX beans now report Numbers as numeric values rather then String
<br /><span class="attrib">(Tagged Siteops, Greg Bowyer via ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2796">SOLR-2796</a>: Due to low level changes to support SolrCloud, the uniqueKey
field can no longer be populated via &lt;copyField/&gt; or &lt;field default=...&gt;
in the schema.xml.
<p/>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3534">SOLR-3534</a>: The Dismax and eDismax query parsers will fall back on the 'df' parameter
when 'qf' is absent.  And if neither is present nor the schema default search field
then an exception will be thrown now.
<br /><span class="attrib">(dsmiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3262">SOLR-3262</a>: The "threads" feature of DIH is removed (deprecated in Solr 3.6)
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3422">SOLR-3422</a>: Refactored DIH internal data classes.  All entities in
data-config.xml must have a name
<br /><span class="attrib">(James Dyer)</span></li>
    </ol>
  </li>
  <li><a id="4.0.0-alpha.documentation" href="javascript:toggleList('4.0.0-alpha.documentation')">Documentation</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="4.0.0-alpha.documentation.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2232">SOLR-2232</a>: Improved README info on solr.solr.home in examples
<br /><span class="attrib">(Eric Pugh and hossman)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="3.6.2" href="javascript:toggleList('3.6.2')">Release 3.6.2  [2012-12-25]</a></h3>
<ul id="3.6.2.list">
  <li><a id="3.6.2.bug_fixes" href="javascript:toggleList('3.6.2.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="3.6.2.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3790">SOLR-3790</a>: ConcurrentModificationException could be thrown when using hl.fl=*.
<br /><span class="attrib">(yonik, koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3589">SOLR-3589</a>: Edismax parser does not honor mm parameter if analyzer splits a token.
<br /><span class="attrib">(Tom Burton-West, Robert Muir)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="3.6.1" href="javascript:toggleList('3.6.1')">Release 3.6.1  [2012-07-22]</a></h3>
<ul id="3.6.1.list">
      <li>More information about this release, including any errata related to the
release notes, upgrade instructions, or other changes may be found online at:
   <a href="https://wiki.apache.org/solr/Solr3.6.1">https://wiki.apache.org/solr/Solr3.6.1</a>
</li>
  </li>
  <li><a id="3.6.1.bug_fixes" href="javascript:toggleList('3.6.1.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(11)
    <ol id="3.6.1.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-3969">LUCENE-3969</a>: Throw IAE on bad arguments that could cause confusing errors in
PatternTokenizer. CommonGrams populates PositionLengthAttribute correctly.
<br /><span class="attrib">(Uwe Schindler, Mike McCandless, Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3361">SOLR-3361</a>: ReplicationHandler "maxNumberOfBackups" doesn't work if backups are triggered on commit
<br /><span class="attrib">(James Dyer, Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3375">SOLR-3375</a>: Fix charset problems with HttpSolrServer
<br /><span class="attrib">(Roger Håkansson, yonik, siren)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3436">SOLR-3436</a>: Group count incorrect when not all shards are queried in the second
pass.
<br /><span class="attrib">(Francois Perron, Martijn van Groningen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3454">SOLR-3454</a>: Exception when using result grouping with main=true and using
wt=javabin.
<br /><span class="attrib">(Ludovic Boutros, Martijn van Groningen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3489">SOLR-3489</a>: Config file replication less error prone
<br /><span class="attrib">(Jochen Just via janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3477">SOLR-3477</a>: SOLR does not start up when no cores are defined
<br /><span class="attrib">(Tomás Fernández Löbbe via tommaso)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3470">SOLR-3470</a>: contrib/clustering: custom Carrot2 tokenizer and stemmer factories
are respected now
<br /><span class="attrib">(Stanislaw Osinski, Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3360">SOLR-3360</a>: More DIH bug fixes for the deprecated "threads" parameter.
<br /><span class="attrib">(Mikhail Khludnev, Claudio R, via James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3430">SOLR-3430</a>: Added a new DIH test against a real SQL database.  Fixed problems
revealed by this new test related to the expanded cache support added to
3.6/<a href="http://issues.apache.org/jira/browse/SOLR-2382">SOLR-2382</a>
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3336">SOLR-3336</a>: SolrEntityProcessor substitutes most variables at query time.
<br /><span class="attrib">(Michael Kroh, Lance Norskog, via Martijn van Groningen)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="3.6.0" href="javascript:toggleList('3.6.0')">Release 3.6.0  [2012-04-12]</a></h3>
<ul id="3.6.0.list">
      <li>More information about this release, including any errata related to the
release notes, upgrade instructions, or other changes may be found online at:
   <a href="https://wiki.apache.org/solr/Solr3.6">https://wiki.apache.org/solr/Solr3.6</a>
</li>
  </li>
  <li><a id="3.6.0.upgrading_from_solr_3.5" href="javascript:toggleList('3.6.0.upgrading_from_solr_3.5')">Upgrading from Solr 3.5</a>&nbsp;&nbsp;&nbsp;(9)
    <ol id="3.6.0.upgrading_from_solr_3.5.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2983">SOLR-2983</a>: As a consequence of moving the code which sets a MergePolicy from SolrIndexWriter to SolrIndexConfig,
(custom) MergePolicies should now have an empty constructor; thus an IndexWriter should not be passed as constructor
parameter but instead set using the setIndexWriter() method.
<p/>
</li>
      <li>As doGet() methods in SimplePostTool was changed to static, the client applications of this
class need to be recompiled.
<p/>
</li>
      <li>In Solr version 3.5 and earlier, HTMLStripCharFilter had known bugs in the
character offsets it provided, triggering e.g. exceptions in highlighting.
HTMLStripCharFilter has been re-implemented, addressing this and other
issues.  See the entry for <a href="http://issues.apache.org/jira/browse/LUCENE-3690">LUCENE-3690</a> in the Bug Fixes section below for a
detailed list of changes.  For people who depend on the behavior of
HTMLStripCharFilter in Solr version 3.5 and earlier: the old implementation
(bugs and all) is preserved as LegacyHTMLStripCharFilter.
<p/>
</li>
      <li>As of Solr 3.6, the &lt;indexDefaults&gt; and &lt;mainIndex&gt; sections of solrconfig.xml are deprecated
and replaced with a new &lt;indexConfig&gt; section. Read more in <a href="http://issues.apache.org/jira/browse/SOLR-1052">SOLR-1052</a> below.
<p/>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3040">SOLR-3040</a>: The DIH's admin UI (dataimport.jsp) now requires DIH request handlers to start with
a '/'.
<br /><span class="attrib">(dsmiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3161">SOLR-3161</a>: &lt;requestDispatcher handleSelect="false"&gt; is now the default. An existing config will
probably work as-is because handleSelect was explicitly enabled in default configs. HandleSelect
makes /select work as well as enables the 'qt' parameter. Instead, consider explicitly
configuring /select as is done in the example solrconfig.xml, and register your other search
handlers with a leading '/' which is a recommended practice.
<br /><span class="attrib">(David Smiley, Erik Hatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3161">SOLR-3161</a>: Don't use the 'qt' parameter with a leading '/'.  It probably won't work in 4.0
and it's now limited in 3.6 to SearchHandler subclasses that aren't lazy-loaded.
<p/>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2724">SOLR-2724</a>: Specifying &lt;defaultSearchField&gt; and &lt;solrQueryParser defaultOperator="..."/&gt; in
schema.xml is now considered deprecated.  Instead you are encouraged to specify these via the "df"
and "q.op" parameters in your request handler definition.
<br /><span class="attrib">(David Smiley)</span></li>
      <li>Bugs found and fixed in the SignatureUpdateProcessor that previously caused
some documents to produce the same signature even when the configured fields
contained distinct (non-String) values.  Users of SignatureUpdateProcessor
are strongly advised that they should re-index as document signatures may
have now changed. (see <a href="http://issues.apache.org/jira/browse/SOLR-3200">SOLR-3200</a> &amp; <a href="http://issues.apache.org/jira/browse/SOLR-3226">SOLR-3226</a> for details)
<p/>
</li>
    </ol>
  </li>
  <li><a id="3.6.0.new_features" href="javascript:toggleList('3.6.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(31)
    <ol id="3.6.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2020">SOLR-2020</a>: Add Java client that uses Apache Http Components http client (4.x).
<br /><span class="attrib">(Chantal Ackermann, Ryan McKinley, Yonik Seeley, siren)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2854">SOLR-2854</a>: Now load URL content stream data (via stream.url) when called for during request handling,
rather than loading URL content streams automatically regardless of use.
<br /><span class="attrib">(David Smiley and Ryan McKinley via ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2904">SOLR-2904</a>: BinaryUpdateRequestHandler should be able to accept multiple update requests from
a stream
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1565">SOLR-1565</a>: StreamingUpdateSolrServer supports RequestWriter API and therefore, javabin update
format
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2438">SOLR-2438</a> added MultiTermAwareComponent to the various classes to allow automatic lowercasing
for multiterm queries (wildcards, regex, prefix, range, etc). You can now optionally specify a
"multiterm" analyzer in our schema.xml, but Solr should "do the right thing" if you don't
specify &lt;fieldType="multiterm"&gt;
<br /><span class="attrib">(Pete Sturge Erick Erickson, Mentoring from Seeley and Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2919">SOLR-2919</a>: Added support for localized range queries when the analysis chain uses
CollationKeyFilter or ICUCollationKeyFilter.
<br /><span class="attrib">(Michael Sokolov, rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2982">SOLR-2982</a>: Added BeiderMorseFilterFactory for Beider-Morse (BMPM) phonetic encoder. Upgrades
commons-codec to version 1.6
<br /><span class="attrib">(Brooke Schreier Ganz, rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1843">SOLR-1843</a>: A new "rootName" attribute is now available when
configuring &lt;jmx/&gt; in solrconfig.xml.  If this attribute is set,
Solr will use it as the root name for all MBeans Solr exposes via
JMX.  The default root name is "solr" followed by the core name.
<br /><span class="attrib">(Constantijn Visinescu, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2906">SOLR-2906</a>: Added LFU cache options to Solr.
<br /><span class="attrib">(Shawn Heisey via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3036">SOLR-3036</a>: Ability to specify overwrite=false on the URL for XML updates.
<br /><span class="attrib">(Sami Siren via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2603">SOLR-2603</a>: Add the encoding function for alternate fields in highlighting.
<br /><span class="attrib">(Massimo Schiavon, koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1729">SOLR-1729</a>: Evaluation of NOW for date math is done only once per request for
consistency, and is also propagated to shards in distributed search.
Adding a parameter NOW=&lt;time_in_ms&gt; to the request will override the
current time.
<br /><span class="attrib">(Peter Sturge, yonik, Simon Willnauer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1709">SOLR-1709</a>: Distributed support for Date and Numeric Range Faceting
<br /><span class="attrib">(Peter Sturge, David Smiley, hossman, Simon Willnauer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3054">SOLR-3054</a>, <a href="http://issues.apache.org/jira/browse/LUCENE-3671">LUCENE-3671</a>: Add TypeTokenFilterFactory that creates TypeTokenFilter
that filters tokens based on their TypeAttribute.
<br /><span class="attrib">(Tommaso Teofili via
Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-3305">LUCENE-3305</a>, <a href="http://issues.apache.org/jira/browse/SOLR-3056">SOLR-3056</a>: Added Kuromoji morphological analyzer for Japanese.
See the 'text_ja' fieldtype in the example to get started.
<br /><span class="attrib">(Christian Moen, Masaru Hasegawa via Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1860">SOLR-1860</a>: StopFilterFactory, CommonGramsFilterFactory, and
CommonGramsQueryFilterFactory can optionally read stopwords in Snowball
format (specify format="snowball").
<br /><span class="attrib">(Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3105">SOLR-3105</a>: ElisionFilterFactory optionally allows the parameter
ignoreCase (default=false).
<br /><span class="attrib">(Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-3714">LUCENE-3714</a>: Add WFSTLookupFactory, a suggester that uses a weighted FST
for more fine-grained suggestions.
<br /><span class="attrib">(Mike McCandless, Dawid Weiss, Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3143">SOLR-3143</a>: Add SuggestQueryConverter, a QueryConverter intended for
auto-suggesters.
<br /><span class="attrib">(Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3033">SOLR-3033</a>: ReplicationHandler's backup command now supports a 'maxNumberOfBackups'
init param that can be used to delete all but the most recent N backups.
<br /><span class="attrib">(Torsten Krah, James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2202">SOLR-2202</a>: Currency FieldType, whith support for currencies and exchange rates
<br /><span class="attrib">(Greg Fodor &amp; Andrew Morrison via janhoy, rmuir, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3026">SOLR-3026</a>: eDismax: Locking down which fields can be explicitly queried (user fields aka uf)
<br /><span class="attrib">(janhoy, hossmann, Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2826">SOLR-2826</a>: URLClassify Update Processor
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2764">SOLR-2764</a>: Create a NorwegianLightStemmer and NorwegianMinimalStemmer
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3221">SOLR-3221</a>: Added the ability to directly configure aspects of the concurrency
 and thread-pooling used within distributed search in solr. This allows for finer
 grained controlled and can be tuned by end users to target their own specific
 requirements. This builds on the work of the HttpCommComponent and uses the same configuration
 block to configure the thread pool. The default configuration has
 the same behaviour as solr 3.5, favouring throughput over latency. More
 information can be found on the wiki (<a href="http://wiki.apache.org/solr/SolrConfigXml">http://wiki.apache.org/solr/SolrConfigXml</a>)
<br /><span class="attrib">(Greg Bowyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2001">SOLR-2001</a>: The query component will substitute an empty query that matches
no documents if the query parser returns null.  This also prevents an
exception from being thrown by the default parser if "q" is missing.
<br /><span class="attrib">(yonik)</span>
<ul class="bulleted-list">
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-435">SOLR-435</a>: if q is "" then it's also acceptable.
<br /><span class="attrib">(dsmiley, hoss)</span></li>
</ul>
<p/>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2919">SOLR-2919</a>: Added parametric tailoring options to ICUCollationKeyFilterFactory.
These can be used to customize range query/sort behavior, for example to
support numeric collation, ignore punctuation/whitespace, ignore accents but
not case, control whether upper/lowercase values are sorted first, etc.
<br /><span class="attrib">(rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2346">SOLR-2346</a>: Add a chance to set content encoding explicitly via content type
of stream for extracting request handler.  This is convenient when Tika's
auto detector cannot detect encoding, especially the text file is too short
to detect encoding.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1499">SOLR-1499</a>: Added SolrEntityProcessor that imports data from another Solr core
or instance based on a specified query.
<br /><span class="attrib">(Lance Norskog, Erik Hatcher, Pulkit Singhal, Ahmet Arslan, Luca Cavanna,
Martijn van Groningen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3190">SOLR-3190</a>: Minor improvements to SolrEntityProcessor. Add more consistency
between solr parameters and parameters used in SolrEntityProcessor and
ability to specify a custom HttpClient instance.
<br /><span class="attrib">(Luca Cavanna via Martijn van Groningen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2382">SOLR-2382</a>: Added pluggable cache support to DIH so that any Entity can be
made cache-able by adding the "cacheImpl" parameter.  Include
"SortedMapBackedCache" to provide in-memory caching (as previously this was
the only option when using CachedSqlEntityProcessor).  Users can provide
their own implementations of DIHCache for other caching strategies.
Deprecate CachedSqlEntityProcessor in favor of specifing "cacheImpl" with
SqlEntityProcessor.  Make SolrWriter implement DIHWriter and allow the
possibility of pluggable Writers (DIH writing to something other than Solr).
<br /><span class="attrib">(James Dyer, Noble Paul)</span></li>
    </ol>
  </li>
  <li><a id="3.6.0.optimizations" href="javascript:toggleList('3.6.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(3)
    <ol id="3.6.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1931">SOLR-1931</a>: Speedup for LukeRequestHandler and admin/schema browser. New parameter
reportDocCount defaults to 'false'. Old behavior still possible by specifying this as 'true'
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3012">SOLR-3012</a>: Move System.getProperty("type") in postData() to main() and add type argument so that
the client applications of SimplePostTool can set content type via method argument.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2888">SOLR-2888</a>: FSTSuggester refactoring: internal storage is now UTF-8,
external sorting (on disk) prevents OOMs even with large data sets
(the bottleneck is now FST construction), code cleanups and API cleanups.
<br /><span class="attrib">(Dawid Weiss, Robert Muir)</span></li>
    </ol>
  </li>
  <li><a id="3.6.0.bug_fixes" href="javascript:toggleList('3.6.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(43)
    <ol id="3.6.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3187">SOLR-3187</a> SystemInfoHandler leaks filehandles
<br /><span class="attrib">(siren)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-3820">LUCENE-3820</a>: Fixed invalid position indexes by reimplementing PatternReplaceCharFilter.
This change also drops real support for boundary characters -- all input is prebuffered
for pattern matching.
<br /><span class="attrib">(Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3068">SOLR-3068</a>: Fixed NPE in ThreadDumpHandler
<br /><span class="attrib">(siren)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2912">SOLR-2912</a>: Fixed File descriptor leak in ShowFileRequestHandler
<br /><span class="attrib">(Michael Ryan, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2819">SOLR-2819</a>: Improved speed of parsing hex entities in HTMLStripCharFilter
<br /><span class="attrib">(Bernhard Berger, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2509">SOLR-2509</a>: StringIndexOutOfBoundsException in the spellchecker collate when the term contains
a hyphen.
<br /><span class="attrib">(Thomas Gambier caught the bug, Steffen Godskesen did the patch, via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2955">SOLR-2955</a>: Fixed IllegalStateException when querying with group.sort=score desc in sharded
           environment.
<br /><span class="attrib">(Steffen Elberg Godskesen, Martijn van Groningen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2956">SOLR-2956</a>: Fixed inconsistencies in the flags (and flag key) reported by
the LukeRequestHandler
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1730">SOLR-1730</a>: Made it clearer when a core failed to load as well as better logging when the
QueryElevationComponent fails to properly initialize
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1520">SOLR-1520</a>: QueryElevationComponent now supports non-string ids
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3024">SOLR-3024</a>: Fixed JSONTestUtil.matchObj, in previous releases it was not
respecting the 'delta' arg
<br /><span class="attrib">(David Smiley via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2542">SOLR-2542</a>: Fixed DIH Context variables which were broken for all scopes other
then SCOPE_ENTITY
<br /><span class="attrib">(Linbin Chen &amp; Frank Wesemann via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3042">SOLR-3042</a>: Fixed Maven Jetty plugin configuration.
<br /><span class="attrib">(David Smiley via Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2970">SOLR-2970</a>: CSV ResponseWriter returns fields defined as stored=false in schema
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-3690">LUCENE-3690</a>, <a href="http://issues.apache.org/jira/browse/LUCENE-2208">LUCENE-2208</a>, <a href="http://issues.apache.org/jira/browse/SOLR-882">SOLR-882</a>, <a href="http://issues.apache.org/jira/browse/SOLR-42">SOLR-42</a>: Re-implemented
HTMLStripCharFilter as a JFlex-generated scanner and moved it to
lucene/contrib/analyzers/common/.  See below for a list of bug fixes and
other changes.  To get the same behavior as HTMLStripCharFilter in Solr
version 3.5 and earlier (including the bugs), use LegacyHTMLStripCharFilter,
which is the previous implementation.
<p/>
Behavior changes from the previous version:
<ul class="bulleted-list">
<li class="bulleted-list">
Known offset bugs are fixed.
</li>
<li class="bulleted-list">
The "Mark invalid" exceptions reported in <a href="http://issues.apache.org/jira/browse/SOLR-1283">SOLR-1283</a> are no longer
  triggered (the bug is still present in LegacyHTMLStripCharFilter).
</li>
<li class="bulleted-list">
The character entity "&amp;apos;" is now always properly decoded.
</li>
<li class="bulleted-list">
More cases of &lt;script&gt; tags are now properly stripped.
</li>
<li class="bulleted-list">
CDATA sections are now handled properly.
</li>
<li class="bulleted-list">
Valid tag name characters now include the supplementary Unicode characters
  from Unicode character classes [:ID_Start:] and [:ID_Continue:].
</li>
<li class="bulleted-list">
Uppercase character entities "&amp;QUOT;", "&amp;COPY;", "&amp;GT;", "&amp;LT;", "&amp;REG;",
  and "&amp;AMP;" are now recognized and handled as if they were in lowercase.
</li>
<li class="bulleted-list">
The REPLACEMENT CHARACTER U+FFFD is now used to replace numeric character
  entities for unpaired UTF-16 low and high surrogates (in the range
  [U+D800-U+DFFF]).
</li>
<li class="bulleted-list">
Properly paired numeric character entities for UTF-16 surrogates are now
  converted to the corresponding code units.
</li>
<li class="bulleted-list">
Opening tags with unbalanced quotation marks are now properly stripped.
</li>
<li class="bulleted-list">
Literal "&lt;" and "&gt;" characters in opening tags, regardless of whether they
  appear inside quotation marks, now inhibit recognition (and stripping) of
  the tags.  The only exception to this is for values of event-handler
  attributes, e.g. "onClick", "onLoad", "onSelect".
</li>
<li class="bulleted-list">
A newline '\n' is substituted instead of a space for stripped HTML markup.
</li>
<li class="bulleted-list">
Nothing is substituted for opening and closing inline tags - they are
  simply removed.  The list of inline tags is (case insensitively): &lt;a&gt;,
  &lt;abbr&gt;, &lt;acronym&gt;, &lt;b&gt;, &lt;basefont&gt;, &lt;bdo&gt;, &lt;big&gt;, &lt;cite&gt;, &lt;code>, &lt;dfn&gt;,
  &lt;em&gt;, &lt;font&gt;, &lt;i&gt;, &lt;img&gt;, &lt;input&gt;, &lt;kbd&gt;, &lt;label&gt;, &lt;q&gt;, &lt;s&gt;, &lt;samp&gt;,
  &lt;select&gt;, &lt;small&gt;, &lt;span&gt;, &lt;strike&gt;, &lt;strong&gt;, &lt;sub&gt;, &lt;sup&gt;, &lt;textarea&gt;,
  &lt;tt&gt;, &lt;u&gt;, and &lt;var&gt;.
</li>
<li class="bulleted-list">
HTMLStripCharFilterFactory now handles HTMLStripCharFilter's "escapedTags"
  feature: opening and closing tags with the given names, including any
  attributes and their values, are left intact in the output.
</li>
</ul><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-3717">LUCENE-3717</a>: Fixed offset bugs in TrimFilter, WordDelimiterFilter, and
HyphenatedWordsFilter where they would create invalid offsets in
some situations, leading to problems in highlighting.
<br /><span class="attrib">(Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2280">SOLR-2280</a>: commitWithin ignored for a delete query
<br /><span class="attrib">(Juan Grande via janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3073">SOLR-3073</a>: Fixed 'Invalid UUID string' error when having an UUID field as
the unique key and executing a distributed grouping request.
<br /><span class="attrib">(Devon Krisman, Martijn van Groningen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3084">SOLR-3084</a>: Fixed initialization error when using
&lt;queryResponseWriter default="true" ... /&gt;
<br /><span class="attrib">(Bernd Fehling and hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3109">SOLR-3109</a>: Fixed numerous redundant shard requests when using distributed grouping.
<br /><span class="attrib">(rblack via Martijn van Groningen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3052">SOLR-3052</a>: Fixed typo in distributed grouping parameters.
<br /><span class="attrib">(Martijn van Groningen, Grant Ingersoll)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2909">SOLR-2909</a>: Add support for ResourceLoaderAware tokenizerFactories in synonym
filter factories.
<br /><span class="attrib">(Tom Klonikowski, Jun Ohtani via Koji Sekiguchi)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3168">SOLR-3168</a>: ReplicationHandler "numberToKeep" &amp; "maxNumberOfBackups" parameters
would keep only 1 backup, even if more than 1 was specified
<br /><span class="attrib">(Neil Hooey, James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3009">SOLR-3009</a>: hitGrouped.vm isn't shipped with 3.x
<br /><span class="attrib">(ehatcher, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3195">SOLR-3195</a>: timeAllowed is ignored for grouping queries
<br /><span class="attrib">(Russell Black via Martijn van Groningen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2124">SOLR-2124</a>: Do not log stack traces for "Service Disabled" / 503 Exceptions (PingRequestHandler, etc)
<br /><span class="attrib">(James Dyer, others)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3260">SOLR-3260</a>: DataImportHandler: ScriptTransformer gives better error messages when
problems arise on initalization (no Script Engine, invalid script, etc).
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2959">SOLR-2959</a>: edismax now respects the magic fields '_val_' and '_query_'
<br /><span class="attrib">(Michael Watts, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3074">SOLR-3074</a>: fix SolrPluginUtils.docListToSolrDocumentList to respect the
list of fields specified.  This fix also deprecates
DocumentBuilder.loadStoredFields which is not used anywhere in Solr,
and was fundamentally broken/bizarre.
<br /><span class="attrib">(hossman, Ahmet Arslan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2291">SOLR-2291</a>: fix JSONWriter to respect field list when writing SolrDocuments
<br /><span class="attrib">(Ahmet Arslan via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3264">SOLR-3264</a>: Fix CoreContainer and SolrResourceLoader logging to be more
clear about when SolrCores are being created, and stop misleading people
about SolrCore instanceDir's being the "Solr Home Dir"
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3046">SOLR-3046</a>: Fix whitespace typo in DIH response "Time taken"
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3261">SOLR-3261</a>: Fix edismax to respect query operators when literal colons
are used in query string.
<br /><span class="attrib">(Juan Grande via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3226">SOLR-3226</a>: Fix SignatureUpdateProcessor to no longer ignore non-String
field values
<br /><span class="attrib">(Spyros Kapnissis, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3200">SOLR-3200</a>: Fix SignatureUpdateProcessor "all fields" mode to use all
fields of each document instead of the fields specified by the first
document indexed
<br /><span class="attrib">(Spyros Kapnissis via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3316">SOLR-3316</a>: Distributed grouping failed when rows parameter was set to 0 and
sometimes returned a wrong hit count as matches.
<br /><span class="attrib">(Cody Young, Martijn van Groningen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3107">SOLR-3107</a>: contrib/langid: When using the LangDetect implementation of
langid, set the random seed to 0, so that the same document is detected as
the same language with the same probability every time.
<br /><span class="attrib">(Christian Moen via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2937">SOLR-2937</a>: Configuring the number of contextual snippets used for
search results clustering. The hl.snippets parameter is now respected
by the clustering plugin, can be overridden by carrot.summarySnippets
if needed
<br /><span class="attrib">(Stanislaw Osinski)</span>.
<p/>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2938">SOLR-2938</a>: Clustering on multiple fields. The carrot.title and
carrot.snippet can now take comma- or space-separated lists of
field names to cluster
<br /><span class="attrib">(Stanislaw Osinski)</span>.
<p/>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2939">SOLR-2939</a>: Clustering of multilingual search results. The document's
language field be passed in the carrot.lang parameter, the carrot.lcmap
parameter enables mapping of language codes to ISO 639
<br /><span class="attrib">(Stanislaw Osinski)</span>.
<p/>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2940">SOLR-2940</a>: Passing values for custom Carrot2 fields to Clustering component.
The custom field mapping are defined using the carrot.custom parameter
<br /><span class="attrib">(Stanislaw Osinski)</span>.
<p/>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2941">SOLR-2941</a>: NullPointerException on clustering component initialization
when schema does not have a unique key field
<br /><span class="attrib">(Stanislaw Osinski)</span>.
<p/>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2942">SOLR-2942</a>: ClassCastException when passing non-textual fields to
clustering component
<br /><span class="attrib">(Stanislaw Osinski)</span>.
<p/>
</li>
    </ol>
  </li>
  <li><a id="3.6.0.other_changes" href="javascript:toggleList('3.6.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(16)
    <ol id="3.6.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2922">SOLR-2922</a>: Upgrade commons-io and commons-lang to 2.1 and 2.6, respectively.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2920">SOLR-2920</a>: Refactor frequent conditional use of DefaultSolrParams and
AppendedSolrParams into factory methods.
<br /><span class="attrib">(David Smiley via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3032">SOLR-3032</a>: Deprecate logOnce from SolrException logOnce and all the supporting
structure will disappear in 4.0. Errors should be caught and logged at the
top-most level or logged and NOT propagated up the chain.
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2718">SOLR-2718</a>: Add ability to lazy load response writers, defined with startup="lazy".
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2901">SOLR-2901</a>: Upgrade Solr to Tika 1.0
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3059">SOLR-3059</a>: Example XSL stylesheet for indexing query result XML
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3097">SOLR-3097</a>, <a href="http://issues.apache.org/jira/browse/SOLR-3105">SOLR-3105</a>: Add analysis configurations for different languages to
the example.
<br /><span class="attrib">(Christian Moen, Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3005">SOLR-3005</a>: Default QueryResponseWriters are now initialized via init() with an empty
NamedList.
<br /><span class="attrib">(Gasol Wu, Chris Male)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3140">SOLR-3140</a>: Upgrade schema version to 1.5, where omitNorms defaults to "true" for all
primitive (non-analyzed) field types such as int, float, date, bool, string..
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3077">SOLR-3077</a>: Better error messages when attempting to use "blank" field names
<br /><span class="attrib">(Antony Stubbs via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2712">SOLR-2712</a>: expecting fl=score to return all fields is now deprecated.
In solr 4.0, this will only return the score.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3156">SOLR-3156</a>: Check for Lucene directory locks at startup. In previous versions
this check was only performed during modifying (e.g. adding and deleting
documents) the index.
<br /><span class="attrib">(Luca Cavanna via Martijn van Groningen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1052">SOLR-1052</a>: Deprecated &lt;indexDefaults&gt; and &lt;mainIndex&gt; in solrconfig.xml
From now, all settings go in the new &lt;indexConfig&gt; tag, and some defaults are
changed: useCompoundFile=false, ramBufferSizeMB=32, lockType=native, so that
the effect of NOT specifying &lt;indexConfig&gt; at all gives same result as the
example config used to give in 3.5
<br /><span class="attrib">(janhoy, gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3294">SOLR-3294</a>: In contrib/clustering/lib/, replaced the manually retrowoven
Java 1.5-compatible carrot2-core-3.5.0.jar (which is not publicly available,
except from the Solr Subversion repository), with newly released Java
1.5-compatible carrot2-core-3.5.0.1.jar (hosted on the Maven Central
repository).  Also updated dependencies jackson-core-asl and
jackson-mapper-asl (both v1.5.2 -&gt; v1.7.4).
<br /><span class="attrib">(Dawid Weiss, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3295">SOLR-3295</a>: netcdf jar is excluded from the binary release (and disabled in
ivy.xml) because it requires java 6. If you want to parse this content with
extracting request handler and are willing to use java 6, just add the jar.
<br /><span class="attrib">(rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3142">SOLR-3142</a>: DIH Imports no longer default optimize to true, instead false.
If you want to force all segments to be merged into one, you can specify
this parameter yourself. NOTE: this can be very expensive operation and
usually does not make sense for delta-imports.
<br /><span class="attrib">(Robert Muir)</span></li>
    </ol>
  </li>
  <li><a id="3.6.0.build" href="javascript:toggleList('3.6.0.build')">Build</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="3.6.0.build.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2487">SOLR-2487</a>: Add build target to package war without slf4j jars
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3112">SOLR-3112</a>: Fix tests not to write to src/test-files
<br /><span class="attrib">(Luca Cavanna via Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-3753">LUCENE-3753</a>: Restructure the Solr build system.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3204">SOLR-3204</a>: The packaged pre-release artifact of Commons CSV used the original
package name (org.apache.commons.csv). This created a compatibility issue as
the Apache Commons team works toward an official release of Commons CSV.
The source of Commons CSV was added under a separate package name to the
Solr source code.
<br /><span class="attrib">(Uwe Schindler, Chris Male, Emmanuel Bourg)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-3930">LUCENE-3930</a>: Changed build system to use Apache Ivy for retrival of 3rd
party JAR files.  Please review README.txt for instructions.
<br /><span class="attrib">(Robert Muir, Chris Male, Uwe Schindler, Steven Rowe, Hossman)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="3.5.0" href="javascript:toggleList('3.5.0')">Release 3.5.0  [2011-11-27]</a></h3>
<ul id="3.5.0.list">
  <li><a id="3.5.0.new_features" href="javascript:toggleList('3.5.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(11)
    <ol id="3.5.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2749">SOLR-2749</a>: Add boundary scanners for FastVectorHighlighter. &lt;boundaryScanner/&gt;
can be specified with a name in solrconfig.xml, and use hl.boundaryScanner=name
parameter to specify the named &lt;boundaryScanner/&gt;.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2066">SOLR-2066</a>,<a href="http://issues.apache.org/jira/browse/SOLR-2776">SOLR-2776</a>: Added support for distributed grouping.
<br /><span class="attrib">(Martijn van Groningen, Jasper van Veghel, Matt Beaumont)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2769">SOLR-2769</a>: Added factory for the new Hunspell stemmer capable of doing stemming
for 99 languages
<br /><span class="attrib">(janhoy, cmale)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1979">SOLR-1979</a>: New contrib "langid". Adds language identification capabilities as an
Update Processor, using Tika's LanguageIdentifier or Cybozu language-detection
library
<br /><span class="attrib">(janhoy, Tommaso Teofili, gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2818">SOLR-2818</a>: Added before/after count response parsing support for range facets in
SolrJ.
<br /><span class="attrib">(Bernhard Frauendienst via Martijn van Groningen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2276">SOLR-2276</a>: Add support for cologne phonetic to PhoneticFilterFactory.
<br /><span class="attrib">(Marc Pompl via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1926">SOLR-1926</a>: Add hl.q parameter.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2881">SOLR-2881</a>: Numeric types now support sortMissingFirst/Last. This includes Trie and date types
<br /><span class="attrib">(Ryan McKinley, Mike McCandless, Uwe Schindler, Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1023">SOLR-1023</a>: StatsComponent now supports date fields and string fields.
<br /><span class="attrib">(Chris Male, Mark Holland, Gunnlaugur Thor Briem, Ryan McKinley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2578">SOLR-2578</a>: ReplicationHandler's backup command now supports a 'numberToKeep'
request param that can be used to delete all but the most recent N backups.
<br /><span class="attrib">(James Dyer via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2839">SOLR-2839</a>: Add alternative implementation to contrib/langid supporting 53
languages, based on <a href="http://code.google.com/p/language-detection/">http://code.google.com/p/language-detection/</a>
<br /><span class="attrib">(rmuir)</span></li>
    </ol>
  </li>
  <li><a id="3.5.0.optimizations" href="javascript:toggleList('3.5.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="3.5.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2742">SOLR-2742</a>: SolrJ: Provide commitWithinMs as optional parameter for all add() methods,
making the feature more conveniently accessible for developers
<br /><span class="attrib">(janhoy)</span></li>
    </ol>
  </li>
  <li><a id="3.5.0.bug_fixes" href="javascript:toggleList('3.5.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(11)
    <ol id="3.5.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2748">SOLR-2748</a>: The CommitTracker used for commitWith or autoCommit by maxTime
could commit too frequently and could block adds until a new searcher was
registered.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2726">SOLR-2726</a>: Fixed NullPointerException when using spellcheck.q with Suggester.
<br /><span class="attrib">(Bernd Fehling, valentin via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2772">SOLR-2772</a>: Fixed Date parsing/formatting of years 0001-1000
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2763">SOLR-2763</a>: Extracting update request handler throws exception and returns 400
when zero-length file posted using multipart form post
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2780">SOLR-2780</a>: Fixed issue where multi select facets didn't respect group.truncate parameter.
<br /><span class="attrib">(Martijn van Groningen, Ramzi Alqrainy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2793">SOLR-2793</a>: In rare cases (most likely during shutdown), a SolrIndexSearcher can be left
open if the executor rejects a task.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2791">SOLR-2791</a>: Replication: abortfetch command is broken if replication was started
by fetchindex command instead of a regular poll
<br /><span class="attrib">(Yury Kats via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2861">SOLR-2861</a>: Fix extremely rare race condition on commit that can result
in a NPE
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2813">SOLR-2813</a>: Fix HTTP error codes returned when requests contain strings that
can not be parsed as numbers for Trie fields.
<br /><span class="attrib">(Jeff Crump and hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2902">SOLR-2902</a>: List of collations are wrong parsed in SpellCheckResponse causing
a wrong number of collation results in the response.
<br /><span class="attrib">(Bastiaan Verhoef, James Dyer via Simon Willnauer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2875">SOLR-2875</a>: Fix the incorrect url in DIH example tika-data-config.xml
<br /><span class="attrib">(Shinichiro Abe via koji)</span></li>
    </ol>
  </li>
  <li><a id="3.5.0.other_changes" href="javascript:toggleList('3.5.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(13)
    <ol id="3.5.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2750">SOLR-2750</a>: Make both "update.chain" and the deprecated "update.param" work
consistently everywhere; see also <a href="http://issues.apache.org/jira/browse/SOLR-2105">SOLR-2105</a>.
<br /><span class="attrib">(Mark Miller, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-3410">LUCENE-3410</a>: Deprecated the WordDelimiterFilter constructors accepting multiple
ints masquerading as booleans.  Preferred constructor now accepts a single int
bitfield
<br /><span class="attrib">(Chris Male)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2758">SOLR-2758</a>: Moved ConcurrentLRUCache from o.a.s.common.util package in the solrj
module to the o.a.s.util package in the Solr core module.
<br /><span class="attrib">(David Smiley via Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2766">SOLR-2766</a>: Package individual javadoc sites for solrj and test-framework.
<br /><span class="attrib">(Steve Rowe, Mike McCandless)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2771">SOLR-2771</a>: Solr modules' tests should not depend on solr-core test classes;
move BufferingRequestProcessor from solr-core tests to test-framework so that
the Solr Cell module can use it.
<br /><span class="attrib">(janhoy, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-3457">LUCENE-3457</a>: Upgrade commons-compress to 1.2
<br /><span class="attrib">(Doron Cohen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2757">SOLR-2757</a>: min() and max() functions now support an arbitrary number of
ValueSources
<br /><span class="attrib">(Bill Bell via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2372">SOLR-2372</a>: Upgrade Solr to Tika 0.10
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2792">SOLR-2792</a>: Allow case insensitive Hunspell stemming
<br /><span class="attrib">(janhoy, rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2862">SOLR-2862</a>: More explicit lexical resources location logged if Carrot2 clustering
extension is used. Fixed solr. impl. of IResource and IResourceLookup.
<br /><span class="attrib">(Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2849">SOLR-2849</a>: Fix dependencies in Maven POMs.
<br /><span class="attrib">(David Smiley via Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2591">SOLR-2591</a>: Remove commitLockTimeout option from solrconfig.xml
<br /><span class="attrib">(Luca Cavanna via Martijn van Groningen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2746">SOLR-2746</a>: Upgraded UIMA dependencies from *-2.3.1-SNAPSHOT.jar to *-2.3.1.jar.
<p/>
</li>
    </ol>
  </li>
</ul>
<h3><a id="3.4.0" href="javascript:toggleList('3.4.0')">Release 3.4.0  [2011-09-15]</a></h3>
<ul id="3.4.0.list">
  <li><a id="3.4.0.upgrading_from_solr_3.3" href="javascript:toggleList('3.4.0.upgrading_from_solr_3.3')">Upgrading from Solr 3.3</a>&nbsp;&nbsp;&nbsp;(3)
    <ol id="3.4.0.upgrading_from_solr_3.3.list">
      <li>The Lucene index format has changed and as a result, once you upgrade,
previous versions of Solr will no longer be able to read your indices.
In a master/slave configuration, all searchers/slaves should be upgraded
before the master.  If the master were to be updated first, the older
searchers would not be able to read the new index format.
<p/>
</li>
      <li>Previous versions of Solr silently allow and ignore some contradictory
properties specified in schema.xml.  For example:
<ul class="bulleted-list">
<li class="bulleted-list">
indexed="false" omitNorms="false"
</li>
<li class="bulleted-list">
indexed="false" omitTermFreqAndPositions="false"
</li>
</ul>
Field property validation has now been fixed, to ensure that
contradictions like these now generate error messages.  If users
have existing schemas that generate one of these new "conflicting
'false' field options for non-indexed field" error messages the
conflicting "omit*" properties can safely be removed, or changed to
"true" for consistent behavior with previous Solr versions.  This
situation has now been fixed to cause an error on startup when these
contradictory options.  See <a href="http://issues.apache.org/jira/browse/SOLR-2669">SOLR-2669</a>.
<p/>
</li>
      <li>FacetComponent no longer catches and embeds exceptions occurred during facet
processing, it throws HTTP 400 or 500 exceptions instead.
<p/>
</li>
    </ol>
  </li>
  <li><a id="3.4.0.new_features" href="javascript:toggleList('3.4.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(14)
    <ol id="3.4.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2540">SOLR-2540</a>: CommitWithin as an Update Request parameter
You can now specify &amp;commitWithin=N (ms) on the update request
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2458">SOLR-2458</a>: post.jar enhanced to handle JSON, CSV and &lt;optimize&gt;
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-3234">LUCENE-3234</a>: add a new parameter hl.phraseLimit for FastVectorHighlighter speed up.
<br /><span class="attrib">(Mike Sokolov via koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2429">SOLR-2429</a>: Ability to add cache=false to queries and query filters to avoid
using the filterCache or queryCache.  A cost may also be specified and is used
to order the evaluation of non-cached filters from least to greatest cost .
For very expensive query filters (cost &gt;= 100) if the query implements
the PostFilter interface, it will be used to obtain a Collector that is
checked only for documents that match the main query and all other filters.
The "frange" query now implements the PostFilter interface.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2630">SOLR-2630</a>: Added new XsltUpdateRequestHandler that works like
XmlUpdateRequestHandler but allows to transform the POSTed XML document
using XSLT. This allows to POST arbitrary XML documents to the update
handler, as long as you also provide a XSL to transform them to a valid
Solr input document.
<br /><span class="attrib">(Upayavira, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2615">SOLR-2615</a>: Log individual updates (adds and deletes) at the FINE level
before adding to the index.  Fix a null pointer exception in logging
when there was no unique key.
<br /><span class="attrib">(David Smiley via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-2048">LUCENE-2048</a>: Added omitPositions to the schema, so you can omit position
information while still indexing term frequencies.
<br /><span class="attrib">(rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2584">SOLR-2584</a>: add UniqFieldsUpdateProcessor that removes duplicate values in the
specified fields.
<br /><span class="attrib">(Elmer Garduno, koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2670">SOLR-2670</a>: Added NIOFSDirectoryFactory
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2523">SOLR-2523</a>: Added support in SolrJ to easily interact with range facets.
The range facet response can be parsed and is retrievable from the
QueryResponse class. The SolrQuery class has convenient methods for using
range facets.
<br /><span class="attrib">(Martijn van Groningen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2637">SOLR-2637</a>: Added support for group result parsing in SolrJ.
<br /><span class="attrib">(Tao Cheng, Martijn van Groningen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2665">SOLR-2665</a>: Added post group faceting. Facet counts are based on the most
relevant document of each group matching the query. This feature has the
same impact on the StatsComponent.
<br /><span class="attrib">(Martijn van Groningen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2675">SOLR-2675</a>: CoreAdminHandler now allows arbitrary properties to be
specified when CREATEing a new SolrCore using property.* request
params.
<br /><span class="attrib">(Yury Kats, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2714">SOLR-2714</a>: JSON update format - "null" field values are now dropped
instead of causing an exception.
<br /><span class="attrib">(Trygve Laugstøl, yonik)</span></li>
    </ol>
  </li>
  <li><a id="3.4.0.optimizations" href="javascript:toggleList('3.4.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="3.4.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-3233">LUCENE-3233</a>: Improved memory usage, build time, and performance of
SynonymFilterFactory.
<br /><span class="attrib">(Mike McCandless, Robert Muir)</span></li>
    </ol>
  </li>
  <li><a id="3.4.0.bug_fixes" href="javascript:toggleList('3.4.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(24)
    <ol id="3.4.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2625">SOLR-2625</a>: TermVectorComponent throws NPE if TF-IDF option is used without DF
option.
<br /><span class="attrib">(Daniel Erenrich, Simon Willnauer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2631">SOLR-2631</a>: PingRequestHandler should not allow to ping itself using "qt"
param to prevent infinite loop.
<br /><span class="attrib">(Edoardo Tosca, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2636">SOLR-2636</a>: Fix explain functionality for negative queries.
<br /><span class="attrib">(Tom Hill via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2538">SOLR-2538</a>: Range Faceting on long/double fields could overflow if values
bigger then the max int/float were used.
<br /><span class="attrib">(Erbi Hanka, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2230">SOLR-2230</a>: CommonsHttpSolrServer.addFile could not be used to send
multiple files in a single request.
<br /><span class="attrib">(Stephan Günther, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2541">SOLR-2541</a>: PluginInfos was not correctly parsing &lt;long/&gt; tags when
initializing plugins
<br /><span class="attrib">(Frank Wesemann, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2623">SOLR-2623</a>: Solr JMX MBeans do not survive core reloads
<br /><span class="attrib">(Alexey Serba, shalin)</span></li>
      <li>Fixed grouping bug when start is bigger than rows and format is simple that zero documents are returned even
if there are documents to display.
<br /><span class="attrib">(Martijn van Groningen, Nikhil Chhaochharia)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2564">SOLR-2564</a>: Fixed ArrayIndexOutOfBoundsException when using simple format and
start &gt; 0
<br /><span class="attrib">(Martijn van Groningen, Matteo Melli)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2642">SOLR-2642</a>: Fixed sorting by function when using grouping.
<br /><span class="attrib">(Thomas Heigl, Martijn van Groningen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2535">SOLR-2535</a>: REGRESSION: in Solr 3.x and trunk the admin/file handler
fails to show directory listings
<br /><span class="attrib">(David Smiley, Peter Wolanin via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2545">SOLR-2545</a>: ExternalFileField file parsing would fail if any key
contained an "=" character.  It now only looks for the last "=" delimiter
prior to the float value.
<br /><span class="attrib">(Markus Jelsma, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2662">SOLR-2662</a>: When Solr is configured to have no queryResultCache, the
"start" parameter was not honored and the documents returned were
 0 through start+offset.
<br /><span class="attrib">(Markus Jelsma, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2669">SOLR-2669</a>: Fix backwards validation of field properties in
SchemaField.calcProps
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2676">SOLR-2676</a>: Add "welcome-file-list" to solr.war so admin UI works correctly
in servlet containers such as WebSphere that do not use a default list
<br /><span class="attrib">(Jay R. Jaeger, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2606">SOLR-2606</a>: Fixed sort parsing of fields containing punctuation that
failed due to sort by function changes introduced in <a href="http://issues.apache.org/jira/browse/SOLR-1297">SOLR-1297</a>
<br /><span class="attrib">(Mitsu Hadeishi, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2706">SOLR-2706</a>: contrib/clustering: The carrot.lexicalResourcesDir parameter
now works with absolute directories
<br /><span class="attrib">(Stanislaw Osinski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2692">SOLR-2692</a>: contrib/clustering: Typo in param name fixed: "carrot.fragzise"
changed to "carrot.fragSize"
<br /><span class="attrib">(Stanislaw Osinski)</span>.
<p/>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2644">SOLR-2644</a>: When using DIH with threads=2 the default logging is set too high
<br /><span class="attrib">(Bill Bell via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2492">SOLR-2492</a>: DIH does not commit if only deletes are processed
<br /><span class="attrib">(James Dyer via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2186">SOLR-2186</a>: DataImportHandler's multi-threaded option throws NPE
<br /><span class="attrib">(Lance Norskog, Frank Wesemann, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2655">SOLR-2655</a>: DIH multi threaded mode does not resolve attributes correctly
<br /><span class="attrib">(Frank Wesemann, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2695">SOLR-2695</a>: DIH: Documents are collected in unsynchronized list in
multi-threaded debug mode
<br /><span class="attrib">(Michael McCandless, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2668">SOLR-2668</a>: DIH multithreaded mode does not rollback on errors from
EntityProcessor
<br /><span class="attrib">(Frank Wesemann, shalin)</span></li>
    </ol>
  </li>
  <li><a id="3.4.0.other_changes" href="javascript:toggleList('3.4.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="3.4.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2629">SOLR-2629</a>: Eliminate deprecation warnings in some JSPs.
<br /><span class="attrib">(Bernd Fehling, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2743">SOLR-2743</a>: Remove commons logging from contrib/extraction.
<br /><span class="attrib">(koji)</span></li>
    </ol>
  </li>
  <li><a id="3.4.0.build" href="javascript:toggleList('3.4.0.build')">Build</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="3.4.0.build.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2452">SOLR-2452</a>,<a href="http://issues.apache.org/jira/browse/SOLR-2653">SOLR-2653</a>,<a href="http://issues.apache.org/jira/browse/LUCENE-3323">LUCENE-3323</a>,<a href="http://issues.apache.org/jira/browse/SOLR-2659">SOLR-2659</a>,<a href="http://issues.apache.org/jira/browse/LUCENE-3329">LUCENE-3329</a>,<a href="http://issues.apache.org/jira/browse/SOLR-2666">SOLR-2666</a>:
Rewrote the Solr build system:
<ul class="bulleted-list">
<li class="bulleted-list">
Integrated more fully with the Lucene build system: generalized the
  Lucene build system and eliminated duplication.
</li>
<li class="bulleted-list">
Converted all Solr contribs to the Lucene/Solr conventional src/ layout:
  java/, resources/, test/, and test-files/&lt;contrib-name&gt;.
</li>
<li class="bulleted-list">
Created a new Solr-internal module named "core" by moving the java/,
  test/, and test-files/ directories from solr/src/ to solr/core/src/.
</li>
<li class="bulleted-list">
Merged solr/src/webapp/src/ into solr/core/src/java/.
</li>
<li class="bulleted-list">
Eliminated solr/src/ by moving all its directories up one level;
  renamed solr/src/site/ to solr/site-src/ because solr/site/ already
  exists.
</li>
<li class="bulleted-list">
Merged solr/src/common/ into solr/solrj/src/java/.
</li>
<li class="bulleted-list">
Moved o.a.s.client.solrj.* and o.a.s.common.* tests from
  solr/src/test/ to solr/solrj/src/test/.
</li>
<li class="bulleted-list">
Made the solrj tests not depend on the solr core tests by moving
  some classes from solr/src/test/ to solr/test-framework/src/java/.
</li>
<li class="bulleted-list">
Each internal module (core/, solrj/, test-framework/, and webapp/)
  now has its own build.xml, from which it is possible to run
  module-specific targets.  solr/build.xml delegates all build
  tasks (via &lt;ant dir="internal-module-dir"&gt; calls) to these
  modules' build.xml files.
</li>
</ul><span class="attrib">(Steve Rowe, Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-3406">LUCENE-3406</a>: Add ant target 'package-local-src-tgz' to Lucene and Solr
to package sources from the local working copy.
<br /><span class="attrib">(Seung-Yeoul Yang via Steve Rowe)</span></li>
    </ol>
  </li>
  <li><a id="3.4.0.documentation" href="javascript:toggleList('3.4.0.documentation')">Documentation</a>&nbsp;&nbsp;&nbsp;(none)
    <ol id="3.4.0.documentation.list">
    </ol>
  </li>
</ul>
<h3><a id="3.3.0" href="javascript:toggleList('3.3.0')">Release 3.3.0  [2011-07-10]</a></h3>
<ul id="3.3.0.list">
  <li><a id="3.3.0.upgrading_from_solr_3.2.0" href="javascript:toggleList('3.3.0.upgrading_from_solr_3.2.0')">Upgrading from Solr 3.2.0</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="3.3.0.upgrading_from_solr_3.2.0.list">
      <li>SolrCore's CloseHook API has been changed in a backward-incompatible way. It
has been changed from an interface to an abstract class. Any custom
components which use the SolrCore.addCloseHook method will need to
be modified accordingly. To migrate, put your old CloseHook#close impl into
CloseHook#preClose.
<p/>
</li>
    </ol>
  </li>
  <li><a id="3.3.0.new_features" href="javascript:toggleList('3.3.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(7)
    <ol id="3.3.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2378">SOLR-2378</a>: A new, automaton-based, implementation of suggest (autocomplete)
component, offering an order of magnitude smaller memory consumption
compared to ternary trees and jaspell and very fast lookups at runtime.
<br /><span class="attrib">(Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2400">SOLR-2400</a>: Field- and DocumentAnalysisRequestHandler now provide a position
history for each token, so you can follow the token through all analysis stages.
The output contains a separate int[] attribute containing all positions from
previous Tokenizers/TokenFilters (called "positionHistory").
<br /><span class="attrib">(Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2524">SOLR-2524</a>: (<a href="http://issues.apache.org/jira/browse/SOLR-236">SOLR-236</a>, <a href="http://issues.apache.org/jira/browse/SOLR-237">SOLR-237</a>, <a href="http://issues.apache.org/jira/browse/SOLR-1773">SOLR-1773</a>, <a href="http://issues.apache.org/jira/browse/SOLR-1311">SOLR-1311</a>) Grouping / Field collapsing
using the Lucene grouping contrib. The search result can be grouped by field and query.
<br /><span class="attrib">(Martijn van Groningen, Emmanuel Keller, Shalin Shekhar Mangar, Koji Sekiguchi,
 Iván de Prado, Ryan McKinley, Marc Sturlese, Peter Karich, Bojan Smid,
 Charles Hornberger, Dieter Grad, Dmitry Lihachev, Doug Steigerwald,
 Karsten Sperling, Michael Gundlach, Oleg Gnatovskiy, Thomas Traeger,
 Harish Agarwal, yonik, Michael McCandless, Bill Bell)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1331">SOLR-1331</a> -- Added a srcCore parameter to CoreAdminHandler's mergeindexes action
to merge one or more cores' indexes to a target core
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2610">SOLR-2610</a> -- Add an option to delete index through CoreAdmin UNLOAD action
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2480">SOLR-2480</a>: Add ignoreTikaException flag to the extraction request handler so
that users can ignore TikaException but index meta data.
<br /><span class="attrib">(Shinichiro Abe, koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2582">SOLR-2582</a>: Use uniqueKey for error log in UIMAUpdateRequestProcessor.
<br /><span class="attrib">(Tommaso Teofili via koji)</span></li>
    </ol>
  </li>
  <li><a id="3.3.0.optimizations" href="javascript:toggleList('3.3.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="3.3.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2567">SOLR-2567</a>: Solr now defaults to TieredMergePolicy. See <a href="http://s.apache.org/merging">http://s.apache.org/merging</a>
for more information.
<br /><span class="attrib">(rmuir)</span></li>
    </ol>
  </li>
  <li><a id="3.3.0.bug_fixes" href="javascript:toggleList('3.3.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="3.3.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2519">SOLR-2519</a>: Improve text_* fieldTypes in example schema.xml: improve
cross-language defaults for text_general; break out separate
English-specific fieldTypes
<br /><span class="attrib">(Jan Høydahl, hossman, Robert Muir,
yonik, Mike McCandless)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2462">SOLR-2462</a>: Fix extremely high memory usage problems with spellcheck.collate.
Separately, an additional spellcheck.maxCollationEvaluations (default=10000)
parameter is added to avoid excessive CPU time in extreme cases (e.g. long
queries with many misspelled words).
<br /><span class="attrib">(James Dyer via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2579">SOLR-2579</a>: UIMAUpdateRequestProcessor ignore error fails if text.length() &lt; 100.
<br /><span class="attrib">(Elmer Garduno via koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2581">SOLR-2581</a>: UIMAToSolrMapper wrongly instantiates Type with reflection.
<br /><span class="attrib">(Tommaso Teofili via koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2551">SOLR-2551</a>: Check dataimport.properties for write access (if delta-import is
supported in DIH configuration) before starting an import
<br /><span class="attrib">(C S, shalin)</span></li>
    </ol>
  </li>
  <li><a id="3.3.0.other_changes" href="javascript:toggleList('3.3.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="3.3.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2571">SOLR-2571</a>: Add a commented out example of the spellchecker's thresholdTokenFrequency
parameter to the example solrconfig.xml, and also add a unit test for this feature.
<br /><span class="attrib">(James Dyer via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2576">SOLR-2576</a>: Deprecate SpellingResult.add(Token token, int docFreq), please use
SpellingResult.addFrequency(Token token, int docFreq) instead.
<br /><span class="attrib">(James Dyer via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2574">SOLR-2574</a>: Upgrade slf4j to v1.6.1
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-3204">LUCENE-3204</a>: The maven-ant-tasks jar is now included in the source tree;
users of the generate-maven-artifacts target no longer have to manually
place this jar in the Ant classpath.  NOTE: when Ant looks for the
maven-ant-tasks jar, it looks first in its pre-existing classpath, so
any copies it finds will be used instead of the copy included in the
Lucene/Solr source tree.  For this reason, it is recommeded to remove
any copies of the maven-ant-tasks jar in the Ant classpath, e.g. under
~/.ant/lib/ or under the Ant installation's lib/ directory.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2611">SOLR-2611</a>: Fix typos in the example configuration
<br /><span class="attrib">(Eric Pugh via rmuir)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="3.2.0" href="javascript:toggleList('3.2.0')">Release 3.2.0  [2011-06-03]</a></h3>
<ul id="3.2.0.list">
  <li><a id="3.2.0.versions_of_major_components" href="javascript:toggleList('3.2.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(3)
    <ol id="3.2.0.versions_of_major_components.list">
      <li>Apache Lucene trunk
</li>
      <li>Apache Tika 0.8
</li>
      <li>Carrot2 3.4.2
</li>
    </ol>
  </li>
  <li><a id="3.2.0.upgrading_from_solr_3.1" href="javascript:toggleList('3.2.0.upgrading_from_solr_3.1')">Upgrading from Solr 3.1</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="3.2.0.upgrading_from_solr_3.1.list">
      <li>The updateRequestProcessorChain for a RequestHandler is now defined
with update.chain rather than update.processor. The latter still works,
but has been deprecated.
<p/>
</li>
      <li>&lt;uimaConfig/&gt; just beneath &lt;config&gt; ... &lt;/config&gt; is no longer supported.
It should move to UIMAUpdateRequestProcessorFactory setting.
See contrib/uima/README.txt for more details.
<br /><span class="attrib">(<a href="http://issues.apache.org/jira/browse/SOLR-2436">SOLR-2436</a>)</span></li>
    </ol>
  </li>
  <h4>Detailed Change List</h4>
  <li><a id="3.2.0.new_features" href="javascript:toggleList('3.2.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="3.2.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2496">SOLR-2496</a>: Add ability to specify overwrite and commitWithin as request
parameters (e.g. specified in the URL) when using the JSON update format,
and added a simplified format for specifying multiple documents.
Example: [{"id":"doc1"},{"id":"doc2"}]
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2113">SOLR-2113</a>: Add TermQParserPlugin, registered as "term".  This is useful
when generating filter queries from terms returned from field faceting or
the terms component. Example: fq={!term f=weight}1.5
<br /><span class="attrib">(hossman, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1915">SOLR-1915</a>: DebugComponent now supports using a NamedList to model
Explanation objects in it's responses instead of
Explanation.toString
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2448">SOLR-2448</a>: Search results clustering updates: bisecting k-means
clustering algorithm added, loading of Carrot2 stop words from
&lt;solr.home&gt;/conf/carrot2 (<a href="http://issues.apache.org/jira/browse/SOLR-2449">SOLR-2449</a>), using Solr's stopwords.txt
for clustering (<a href="http://issues.apache.org/jira/browse/SOLR-2450">SOLR-2450</a>), output of cluster scores (<a href="http://issues.apache.org/jira/browse/SOLR-2505">SOLR-2505</a>)
<br /><span class="attrib">(Stanislaw Osinski, Dawid Weiss)</span>.
<p/>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2503">SOLR-2503</a>: extend UIMAUpdateRequestProcessorFactory mapping function to
map feature value to dynamicField.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2512">SOLR-2512</a>: add ignoreErrors flag to UIMAUpdateRequestProcessorFactory so
that users can ignore exceptions in AE.
<br /><span class="attrib">(Tommaso Teofili, koji)</span></li>
    </ol>
  </li>
  <li><a id="3.2.0.optimizations" href="javascript:toggleList('3.2.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(none)
    <ol id="3.2.0.optimizations.list">
    </ol>
  </li>
  <li><a id="3.2.0.bug_fixes" href="javascript:toggleList('3.2.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(17)
    <ol id="3.2.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2445">SOLR-2445</a>: Change the default qt to blank in form.jsp, because there is no "standard"
request handler unless you have it in your solrconfig.xml explicitly.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2455">SOLR-2455</a>: Prevent double submit of forms in admin interface.
<br /><span class="attrib">(Jeffrey Chang via uschindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2464">SOLR-2464</a>: Fix potential slowness in QueryValueSource (the query() function) when
the query is very sparse and may not match any documents in a segment.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2469">SOLR-2469</a>: When using java replication with replicateAfter=startup, the first
commit point on server startup is never removed.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2466">SOLR-2466</a>: SolrJ's CommonsHttpSolrServer would retry requests on failure, regardless
of the configured maxRetries, due to HttpClient having it's own retry mechanism
by default.  The retryCount of HttpClient is now set to 0, and SolrJ does
the retry.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2409">SOLR-2409</a>: edismax parser - treat the text of a fielded query as a literal if the
fieldname does not exist.  For example Mission: Impossible should not search on
the "Mission" field unless it's a valid field in the schema.
<br /><span class="attrib">(Ryan McKinley, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2403">SOLR-2403</a>: facet.sort=index reported incorrect results for distributed search
in a number of scenarios when facet.mincount&gt;0.  This patch also adds some
performance/algorithmic improvements when (facet.sort=count &amp;&amp; facet.mincount=1
&amp;&amp; facet.limit=-1) and when (facet.sort=index &amp;&amp; facet.mincount&gt;0)
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2333">SOLR-2333</a>: The "rename" core admin action does not persist the new name to solr.xml
<br /><span class="attrib">(Rasmus Hahn, Paul R. Brown via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2390">SOLR-2390</a>: Performance of usePhraseHighlighter is terrible on very large Documents,
regardless of hl.maxDocCharsToAnalyze.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2474">SOLR-2474</a>: The helper TokenStreams in analysis.jsp and AnalysisRequestHandlerBase
did not clear all attributes so they displayed incorrect attribute values for tokens
in later filter stages.
<br /><span class="attrib">(uschindler, rmuir, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2467">SOLR-2467</a>: Fix &lt;analyzer class="..." /&gt; initialization so any errors
are logged properly.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2493">SOLR-2493</a>: SolrQueryParser was fixed to not parse the SolrConfig DOM tree on each
instantiation which is a huge slowdown.
<br /><span class="attrib">(Stephane Bailliez via uschindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2495">SOLR-2495</a>: The JSON parser could hang on corrupted input and could fail
to detect numbers that were too large to fit in a long.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2520">SOLR-2520</a>: Make JSON response format escape \u2029 as well as \u2028
in strings since those characters are not valid in javascript strings
(although they are valid in JSON strings).
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2536">SOLR-2536</a>: Add ReloadCacheRequestHandler to fix ExternalFileField bug (if reopenReaders
set to true and no index segments have been changed, commit cannot trigger reload
external file).
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2539">SOLR-2539</a>: VectorValueSource.floatVal incorrectly used byteVal on sub-sources.
<br /><span class="attrib">(Tom Liu via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2554">SOLR-2554</a>: RandomSortField didn't work when used in a function query.
<br /><span class="attrib">(yonik)</span></li>
    </ol>
  </li>
  <li><a id="3.2.0.other_changes" href="javascript:toggleList('3.2.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(7)
    <ol id="3.2.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2061">SOLR-2061</a>: Pull base tests out into a new Solr Test Framework module,
and publish binary, javadoc, and source test-framework jars.
<br /><span class="attrib">(Drew Farris, Robert Muir, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2105">SOLR-2105</a>: Rename RequestHandler param 'update.processor' to 'update.chain'.
<br /><span class="attrib">(Jan Høydahl via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2485">SOLR-2485</a>: Deprecate BaseResponseWriter, GenericBinaryResponseWriter, and
GenericTextResponseWriter.  These classes will be removed in 4.0.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2451">SOLR-2451</a>: Enhance assertJQ to allow individual tests to specify the
tolerance delta used in numeric equalities.  This allows for slight
variance in asserting score comparisons in unit tests.
<br /><span class="attrib">(David Smiley, Chris Hostetter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2528">SOLR-2528</a>: Remove default="true" from HtmlEncoder in example solrconfig.xml,
because html encoding confuses non-ascii users.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2387">SOLR-2387</a>: add mock annotators for improved testing in contrib/uima,
<br /><span class="attrib">(Tommaso Teofili via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2436">SOLR-2436</a>: move uimaConfig to under the uima's update processor in
solrconfig.xml.
<br /><span class="attrib">(Tommaso Teofili, koji)</span></li>
    </ol>
  </li>
  <li><a id="3.2.0.build" href="javascript:toggleList('3.2.0.build')">Build</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="3.2.0.build.list">
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-3006">LUCENE-3006</a>: Building javadocs will fail on warnings by default.  Override with -Dfailonjavadocwarning=false
<br /><span class="attrib">(sarowe, gsingers)</span></li>
    </ol>
  </li>
  <li><a id="3.2.0.documentation" href="javascript:toggleList('3.2.0.documentation')">Documentation</a>&nbsp;&nbsp;&nbsp;(none)
    <ol id="3.2.0.documentation.list">
    </ol>
  </li>
</ul>
<h3><a id="3.1.0" href="javascript:toggleList('3.1.0')">Release 3.1.0  [2011-03-31]</a></h3>
<ul id="3.1.0.list">
  <li><a id="3.1.0.versions_of_major_components" href="javascript:toggleList('3.1.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="3.1.0.versions_of_major_components.list">
      <li>Apache Lucene 3.1.0
</li>
      <li>Apache Tika 0.8
</li>
      <li>Carrot2 3.4.2
</li>
      <li>Velocity 1.6.1 and Velocity Tools 2.0-beta3
</li>
      <li>Apache UIMA 2.3.1-SNAPSHOT
</li>
    </ol>
  </li>
  <li><a id="3.1.0.upgrading_from_solr_1.4" href="javascript:toggleList('3.1.0.upgrading_from_solr_1.4')">Upgrading from Solr 1.4</a>&nbsp;&nbsp;&nbsp;(13)
    <ol id="3.1.0.upgrading_from_solr_1.4.list">
      <li>The Lucene index format has changed and as a result, once you upgrade,
previous versions of Solr will no longer be able to read your indices.
In a master/slave configuration, all searchers/slaves should be upgraded
before the master.  If the master were to be updated first, the older
searchers would not be able to read the new index format.
<p/>
</li>
      <li>The Solr JavaBin format has changed as of Solr 3.1. If you are using the
JavaBin format, you will need to upgrade your SolrJ client.
<br /><span class="attrib">(<a href="http://issues.apache.org/jira/browse/SOLR-2034">SOLR-2034</a>)</span></li>
      <li>The experimental ALIAS command has been removed
<br /><span class="attrib">(<a href="http://issues.apache.org/jira/browse/SOLR-1637">SOLR-1637</a>)</span></li>
      <li>Using solr.xml is recommended for single cores also
<br /><span class="attrib">(<a href="http://issues.apache.org/jira/browse/SOLR-1621">SOLR-1621</a>)</span></li>
      <li>Old syntax of &lt;highlighting&gt; configuration in solrconfig.xml
is deprecated
<br /><span class="attrib">(<a href="http://issues.apache.org/jira/browse/SOLR-1696">SOLR-1696</a>)</span></li>
      <li>The deprecated HTMLStripReader, HTMLStripWhitespaceTokenizerFactory and
HTMLStripStandardTokenizerFactory were removed. To strip HTML tags,
HTMLStripCharFilter should be used instead, and it works with any
Tokenizer of your choice.
<br /><span class="attrib">(<a href="http://issues.apache.org/jira/browse/SOLR-1657">SOLR-1657</a>)</span></li>
      <li>Field compression is no longer supported. Fields that were formerly
compressed will be uncompressed as index segments are merged. For
shorter fields, this may actually be an improvement, as the compression
used was not very good for short text. Some indexes may get larger though.
<p/>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1845">SOLR-1845</a>: The TermsComponent response format was changed so that the
"terms" container is a map instead of a named list.  This affects
 response formats like JSON, but not XML.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1876">SOLR-1876</a>: All Analyzers and TokenStreams are now final to enforce
the decorator pattern.
<br /><span class="attrib">(rmuir, uschindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-2608">LUCENE-2608</a>: Added the ability to specify the accuracy on a per request basis.
It is recommended that implementations of SolrSpellChecker should change over to the new SolrSpellChecker
methods using the new SpellingOptions class, but are not required to.  While this change is
backward compatible, the trunk version of Solr has already dropped support for all but the SpellingOptions method.
<br /><span class="attrib">(gsingers)</span></li>
      <li>readercycle script was removed.
<br /><span class="attrib">(<a href="http://issues.apache.org/jira/browse/SOLR-2046">SOLR-2046</a>)</span></li>
      <li>In previous releases, sorting or evaluating function queries on
fields that were "multiValued" (either by explicit declaration in
schema.xml or by implict behavior because the "version" attribute on
the schema was less then 1.2) did not generally work, but it would
sometimes silently act as if it succeeded and order the docs
arbitrarily.  Solr will now fail on any attempt to sort, or apply a
function to, multi-valued fields
<p/>
</li>
      <li>The DataImportHandler jars are no longer included in the solr
WAR and should be added in Solr's lib directory, or referenced
via the &lt;lib&gt; directive in solrconfig.xml.
<p/>
</li>
    </ol>
  </li>
  <h4>Detailed Change List</h4>
  <li><a id="3.1.0.new_features" href="javascript:toggleList('3.1.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(71)
    <ol id="3.1.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1302">SOLR-1302</a>: Added several new distance based functions, including
Great Circle (haversine), Manhattan, Euclidean and String (using the
StringDistance methods in the Lucene spellchecker).
Also added geohash(), deg() and rad() convenience functions.
See <a href="http://wiki.apache.org/solr/FunctionQuery.">http://wiki.apache.org/solr/FunctionQuery.</a>
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1553">SOLR-1553</a>: New dismax parser implementation (accessible as "edismax")
that supports full lucene syntax, improved reserved char escaping,
fielded queries, improved proximity boosting, and improved stopword
handling. Note: status is experimental for now.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1574">SOLR-1574</a>: Add many new functions from java Math (e.g. sin, cos)
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1569">SOLR-1569</a>: Allow functions to take in literal strings by modifying the
FunctionQParser and adding LiteralValueSource
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1571">SOLR-1571</a>: Added unicode collation support though Lucene's CollationKeyFilter
<br /><span class="attrib">(Robert Muir via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-785">SOLR-785</a>: Distributed Search support for SpellCheckComponent
<br /><span class="attrib">(Matthew Woytowitz, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1625">SOLR-1625</a>: Add regexp support for TermsComponent
<br /><span class="attrib">(Uri Boness via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1297">SOLR-1297</a>: Add sort by Function capability
<br /><span class="attrib">(gsingers, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1139">SOLR-1139</a>: Add TermsComponent Query and Response Support in SolrJ
<br /><span class="attrib">(Matt Weber via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1177">SOLR-1177</a>: Distributed Search support for TermsComponent
<br /><span class="attrib">(Matt Weber via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1621">SOLR-1621</a>, <a href="http://issues.apache.org/jira/browse/SOLR-1722">SOLR-1722</a>: Allow current single core deployments to be specified by solr.xml
<br /><span class="attrib">(Mark Miller , noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1532">SOLR-1532</a>: Allow StreamingUpdateSolrServer to use a provided HttpClient
<br /><span class="attrib">(Gabriele Renzi via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1653">SOLR-1653</a>: Add PatternReplaceCharFilter
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1131">SOLR-1131</a>: FieldTypes can now output multiple Fields per Type and still be searched.  This can be handy for hiding the details of a particular
implementation such as in the spatial case.
<br /><span class="attrib">(Chris Mattmann, shalin, noble, gsingers, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1586">SOLR-1586</a>: Add support for Geohash and Spatial Tile FieldType
<br /><span class="attrib">(Chris Mattmann, gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1697">SOLR-1697</a>: PluginInfo should load plugins w/o class attribute also
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1268">SOLR-1268</a>: Incorporate FastVectorHighlighter
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1750">SOLR-1750</a>: SolrInfoMBeanHandler added for simpler programmatic access
to info currently available from registry.jsp and stats.jsp
<br /><span class="attrib">(ehatcher, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1815">SOLR-1815</a>: SolrJ now preserves the order of facet queries.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1677">SOLR-1677</a>: Add support for choosing the Lucene Version for Lucene components within
Solr.
<br /><span class="attrib">(Uwe Schindler, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1379">SOLR-1379</a>: Add RAMDirectoryFactory for non-persistent in memory index storage.
<br /><span class="attrib">(Alex Baranov via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1857">SOLR-1857</a>: Synced Solr analysis with Lucene 3.1. Added KeywordMarkerFilterFactory
and StemmerOverrideFilterFactory, which can be used to tune stemming algorithms.
Added factories for Bulgarian, Czech, Hindi, Turkish, and Wikipedia analysis. Improved the
performance of SnowballPorterFilterFactory.
<br /><span class="attrib">(rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1657">SOLR-1657</a>: Converted remaining TokenStreams to the Attributes-based API. All Solr
TokenFilters now support custom Attributes, and some have improved performance:
especially WordDelimiterFilter and CommonGramsFilter.
<br /><span class="attrib">(rmuir, cmale, uschindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1740">SOLR-1740</a>: ShingleFilterFactory supports the "minShingleSize" and "tokenSeparator"
parameters for controlling the minimum shingle size produced by the filter, and
the separator string that it uses, respectively.
<br /><span class="attrib">(Steven Rowe via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-744">SOLR-744</a>: ShingleFilterFactory supports the "outputUnigramsIfNoShingles"
parameter, to output unigrams if the number of input tokens is fewer than
minShingleSize, and no shingles can be generated.
<br /><span class="attrib">(Chris Harris via Steven Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1923">SOLR-1923</a>: PhoneticFilterFactory now has support for the
Caverphone algorithm.
<br /><span class="attrib">(rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1957">SOLR-1957</a>: The VelocityResponseWriter contrib moved to core.
     Example search UI now available at <a href="http://localhost:8983/solr/browse">http://localhost:8983/solr/browse</a>
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1974">SOLR-1974</a>: Add LimitTokenCountFilterFactory.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1966">SOLR-1966</a>: QueryElevationComponent can now return just the included results in the elevation file
<br /><span class="attrib">(gsingers, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1556">SOLR-1556</a>: TermVectorComponent now supports per field overrides.  Also, it now throws an error
 if passed in fields do not exist and warnings
if fields that do not have term vector options (termVectors, offsets, positions)
 that align with the schema declaration. It also
  will now return warnings about
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1985">SOLR-1985</a>: FastVectorHighlighter: add wrapper class for Lucene's SingleFragListBuilder
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1984">SOLR-1984</a>: Add HyphenationCompoundWordTokenFilterFactory.
<br /><span class="attrib">(PB via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-397">SOLR-397</a>: Date Faceting now supports a "facet.date.include" param
for specifying when the upper &amp; lower end points of computed date
ranges should be included in the range.  Legal values are: "all",
"lower", "upper", "edge", and "outer".  For backwards compatibility
the default value is the set: [lower,upper,edge], so that all ranges
between start and end are inclusive of their endpoints, but the
"before" and "after" ranges are not.
<p/>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-945">SOLR-945</a>: JSON update handler that accepts add, delete, commit
commands in JSON format.
<br /><span class="attrib">(Ryan McKinley, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2015">SOLR-2015</a>: Add a boolean attribute autoGeneratePhraseQueries to TextField.
autoGeneratePhraseQueries="true" (the default) causes the query parser to
generate phrase queries if multiple tokens are generated from a single
non-quoted analysis string.  For example WordDelimiterFilter splitting text:pdp-11
will cause the parser to generate text:"pdp 11" rather than (text:PDP OR text:11).
Note that autoGeneratePhraseQueries="true" tends to not work well for non whitespace
delimited languages.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1925">SOLR-1925</a>: Add CSVResponseWriter (use wt=csv) that returns the list of documents
in CSV format.
<br /><span class="attrib">(Chris Mattmann, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1240">SOLR-1240</a>: "Range Faceting" has been added.  This is a generalization
of the existing "Date Faceting" logic so that it now supports any
all stock numeric field types that support range queries in addition
to dates. facet.date is now deprecated in favor of this generalized mechanism.
<br /><span class="attrib">(Gijs Kunze, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2021">SOLR-2021</a>: Add SolrEncoder plugin to Highlighter.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2030">SOLR-2030</a>: Make FastVectorHighlighter use of SolrEncoder.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2053">SOLR-2053</a>: Add support for custom comparators in Solr spellchecker, per <a href="http://issues.apache.org/jira/browse/LUCENE-2479">LUCENE-2479</a>
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2049">SOLR-2049</a>: Add hl.multiValuedSeparatorChar for FastVectorHighlighter, per <a href="http://issues.apache.org/jira/browse/LUCENE-2603">LUCENE-2603</a>.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2059">SOLR-2059</a>: Add "types" attribute to WordDelimiterFilterFactory, which
allows you to customize how WordDelimiterFilter tokenizes text with
a configuration file.
<br /><span class="attrib">(Peter Karich, rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2099">SOLR-2099</a>: Add ability to throttle rsync based replication using rsync option --bwlimit.
<br /><span class="attrib">(Brandon Evans via koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1316">SOLR-1316</a>: Create autosuggest component.
<br /><span class="attrib">(Ankul Garg, Jason Rutherglen, Shalin Shekhar Mangar, Grant Ingersoll, Robert Muir, ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1568">SOLR-1568</a>: Added "native" filtering support for PointType, GeohashField.  Added LatLonType with filtering support too.  See
	     <a href="http://wiki.apache.org/solr/SpatialSearch">http://wiki.apache.org/solr/SpatialSearch</a> and the example.  Refactored some items in Lucene spatial.
    Removed SpatialTileField as the underlying CartesianTier is broken beyond repair and is going to be moved.
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2128">SOLR-2128</a>: Full parameter substitution for function queries.
Example: q=add($v1,$v2)&amp;v1=mul(popularity,5)&amp;v2=20.0
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2133">SOLR-2133</a>: Function query parser can now parse multiple comma separated
value sources.  It also now fails if there is extra unexpected text
after parsing the functions, instead of silently ignoring it.
This allows expressions like q=dist(2,vector(1,2),$pt)&amp;pt=3,4
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2157">SOLR-2157</a>: Suggester should return alpha-sorted results when onlyMorePopular=false
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2010">SOLR-2010</a>: Added ability to verify that spell checking collations have
 actual results in the index.
<br /><span class="attrib">(James Dyer via gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2188">SOLR-2188</a>: Added "maxTokenLength" argument to the factories for ClassicTokenizer,
StandardTokenizer, and UAX29URLEmailTokenizer.
<br /><span class="attrib">(Steven Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2129">SOLR-2129</a>: Added a Solr module for dynamic metadata extraction/indexing with Apache UIMA.
See contrib/uima/README.txt for more information.
<br /><span class="attrib">(Tommaso Teofili via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2325">SOLR-2325</a>: Allow tagging and exclusion of main query for faceting.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2263">SOLR-2263</a>: Add ability for RawResponseWriter to stream binary files as well as
text files.
<br /><span class="attrib">(Eric Pugh via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-860">SOLR-860</a>: Add debug output for MoreLikeThis.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1057">SOLR-1057</a>: Add PathHierarchyTokenizerFactory.
<br /><span class="attrib">(ryan, koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1804">SOLR-1804</a>: Re-enabled clustering component on trunk, updated to latest
version of Carrot2.  No more LGPL run-time dependencies.  This release of
C2 also does not have a specific Lucene dependency.
<br /><span class="attrib">(Stanislaw Osinski, gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2282">SOLR-2282</a>: Add distributed search support for search result clustering.
<br /><span class="attrib">(Brad Giaccio, Dawid Weiss, Stanislaw Osinski, rmuir, koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2210">SOLR-2210</a>: Add icu-based tokenizer and filters to contrib/analysis-extras
<br /><span class="attrib">(rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1336">SOLR-1336</a>: Add SmartChinese (word segmentation for Simplified Chinese)
tokenizer and filters to contrib/analysis-extras
<br /><span class="attrib">(rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2211">SOLR-2211</a>,<a href="http://issues.apache.org/jira/browse/LUCENE-2763">LUCENE-2763</a>: Added UAX29URLEmailTokenizerFactory, which implements
UAX#29, a unicode algorithm with good results for most languages, as well as
URL and E-mail tokenization according to the relevant RFCs.
<br /><span class="attrib">(Tom Burton-West via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2237">SOLR-2237</a>: Added StempelPolishStemFilterFactory to contrib/analysis-extras
<br /><span class="attrib">(rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1525">SOLR-1525</a>: allow DIH to refer to core properties
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1547">SOLR-1547</a>: DIH TemplateTransformer copy objects more intelligently when the
template is a single variable
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1627">SOLR-1627</a>: DIH VariableResolver should be fetched just in time
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1583">SOLR-1583</a>: DIH Create DataSources that return InputStream
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1358">SOLR-1358</a>: Integration of Tika and DataImportHandler
<br /><span class="attrib">(Akshay Ukey, noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1654">SOLR-1654</a>: TikaEntityProcessor example added DIHExample
<br /><span class="attrib">(Akshay Ukey via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1678">SOLR-1678</a>: Move onError handling to DIH framework
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1352">SOLR-1352</a>: Multi-threaded implementation of DIH
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1721">SOLR-1721</a>: Add explicit option to run DataImportHandler in synchronous mode
<br /><span class="attrib">(Alexey Serba via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1737">SOLR-1737</a>: Added FieldStreamDataSource
<br /><span class="attrib">(noble)</span></li>
    </ol>
  </li>
  <li><a id="3.1.0.optimizations" href="javascript:toggleList('3.1.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(7)
    <ol id="3.1.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1679">SOLR-1679</a>: Don't build up string messages in SolrCore.execute unless they
are necessary for the current log level.
<br /><span class="attrib">(Fuad Efendi and hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1874">SOLR-1874</a>: Optimize PatternReplaceFilter for better performance.
<br /><span class="attrib">(rmuir, uschindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1968">SOLR-1968</a>: speed up initial filter cache population for facet.method=enum and
also big terms for multi-valued facet.method=fc.  The resulting speedup
for the first facet request is anywhere from 30% to 32x, depending on how many
terms are in the field and how many documents match per term.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2089">SOLR-2089</a>: Speed up UnInvertedField faceting (facet.method=fc for
multi-valued fields) when facet.limit is both high, and a high enough
percentage of the number of unique terms in the field.  Extreme cases
yield speedups over 3x.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2046">SOLR-2046</a>: add common functions to scripts-util.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1684">SOLR-1684</a>: Switch clustering component to use the
SolrIndexSearcher.doc(int, Set&lt;String&gt;) method b/c it can use the document
cache
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2200">SOLR-2200</a>: Improve the performance of DataImportHandler for large
delta-import updates.
<br /><span class="attrib">(Mark Waddle via rmuir)</span></li>
    </ol>
  </li>
  <li><a id="3.1.0.bug_fixes" href="javascript:toggleList('3.1.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(93)
    <ol id="3.1.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1769">SOLR-1769</a>: Solr 1.4 Replication - Repeater throwing NullPointerException
<br /><span class="attrib">(Jörgen Rydenius via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1432">SOLR-1432</a>: Make the new ValueSource.getValues(context,reader) delegate
to the original ValueSource.getValues(reader) so custom sources
will work.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1572">SOLR-1572</a>: FastLRUCache correctly implemented the LRU policy only
for the first 2B accesses.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1582">SOLR-1582</a>: copyField was ignored for BinaryField types
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1563">SOLR-1563</a>: Binary fields, including trie-based numeric fields, caused null
pointer exceptions in the luke request handler.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1577">SOLR-1577</a>: The example solrconfig.xml defaulted to a solr data dir
relative to the current working directory, even if a different solr home
was being used.  The new behavior changes the default to a zero length
string, which is treated the same as if no dataDir had been specified,
hence the "data" directory under the solr home will be used.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1584">SOLR-1584</a>: SolrJ - SolrQuery.setIncludeScore() incorrectly added
fl=score to the parameter list instead of appending score to the
existing field list.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1580">SOLR-1580</a>: Solr Configuration ignores 'mergeFactor' parameter, always
uses Lucene default.
<br /><span class="attrib">(Lance Norskog via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1593">SOLR-1593</a>: ReverseWildcardFilter didn't work for surrogate pairs
(i.e. code points outside of the BMP), resulting in incorrect
matching.  This change requires reindexing for any content with
such characters.
<br /><span class="attrib">(Robert Muir, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1596">SOLR-1596</a>: A rollback operation followed by the shutdown of Solr
or the close of a core resulted in a warning:
"SEVERE: SolrIndexWriter was not closed prior to finalize()" although
there were no other consequences.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1595">SOLR-1595</a>: StreamingUpdateSolrServer used the platform default character
set when streaming updates, rather than using UTF-8 as the HTTP headers
indicated, leading to an encoding mismatch.
<br /><span class="attrib">(hossman, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1587">SOLR-1587</a>: A distributed search request with fl=score, didn't match
the behavior of a non-distributed request since it only returned
the id,score fields instead of all fields in addition to score.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1601">SOLR-1601</a>: Schema browser does not indicate presence of charFilter.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1615">SOLR-1615</a>: Backslash escaping did not work in quoted strings
for local param arguments.
<br /><span class="attrib">(Wojtek Piaseczny, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1628">SOLR-1628</a>: log contains incorrect number of adds and deletes.
<br /><span class="attrib">(Thijs Vonk via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-343">SOLR-343</a>: Date faceting now respects facet.mincount limiting
<br /><span class="attrib">(Uri Boness, Raiko Eckstein via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1624">SOLR-1624</a>: Highlighter only highlights values from the first field  value
in a multivalued field when term positions (term vectors) are stored.
<br /><span class="attrib">(Chris Harris via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1635">SOLR-1635</a>: Fixed error message when numeric values can't be parsed by
DOMUtils - notably for plugin init params in solrconfig.xml.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1651">SOLR-1651</a>: Fixed Incorrect dataimport handler package name in SolrResourceLoader
<br /><span class="attrib">(Akshay Ukey via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1660">SOLR-1660</a>: CapitalizationFilter crashes if you use the maxWordCountOption
<br /><span class="attrib">(Robert Muir via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1667">SOLR-1667</a>: PatternTokenizer does not reset attributes such as positionIncrementGap
<br /><span class="attrib">(Robert Muir via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1711">SOLR-1711</a>: SolrJ - StreamingUpdateSolrServer had a race condition that
could halt the streaming of documents. The original patch to fix this
(never officially released) introduced another hanging bug due to
connections not being released.
<br /><span class="attrib">(Attila Babo, Erik Hetzner, Johannes Tuchscherer via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1748">SOLR-1748</a>, <a href="http://issues.apache.org/jira/browse/SOLR-1747">SOLR-1747</a>, <a href="http://issues.apache.org/jira/browse/SOLR-1746">SOLR-1746</a>, <a href="http://issues.apache.org/jira/browse/SOLR-1745">SOLR-1745</a>, <a href="http://issues.apache.org/jira/browse/SOLR-1744">SOLR-1744</a>: Streams and Readers
retrieved from ContentStreams are not closed in various places, resulting
in file descriptor leaks.
<br /><span class="attrib">(Christoff Brill, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1753">SOLR-1753</a>: StatsComponent throws NPE when getting statistics for facets in distributed search
<br /><span class="attrib">(Janne Majaranta via koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1736">SOLR-1736</a>:In the slave , If 'mov'ing file does not succeed , copy the file
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1579">SOLR-1579</a>: Fixes to XML escaping in stats.jsp
<br /><span class="attrib">(David Bowen and hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1777">SOLR-1777</a>: fieldTypes with sortMissingLast=true or sortMissingFirst=true can
result in incorrectly sorted results.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1798">SOLR-1798</a>: Small memory leak (~100 bytes) in fastLRUCache for every
commit.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1823">SOLR-1823</a>: Fixed XMLResponseWriter (via XMLWriter) so it no longer throws
a ClassCastException when a Map containing a non-String key is used.
<br /><span class="attrib">(Frank Wesemann, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1797">SOLR-1797</a>: fix ConcurrentModificationException and potential memory
leaks in ResourceLoader.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1850">SOLR-1850</a>: change KeepWordFilter so a new word set is not created for
each instance
<br /><span class="attrib">(John Wang via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1706">SOLR-1706</a>: fixed WordDelimiterFilter for certain combinations of options
where it would output incorrect tokens.
<br /><span class="attrib">(Robert Muir, Chris Male)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1936">SOLR-1936</a>: The JSON response format needed to escape unicode code point
U+2028 - 'LINE SEPARATOR'
<br /><span class="attrib">(Robert Hofstra, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1914">SOLR-1914</a>: Change the JSON response format to output float/double
values of NaN,Infinity,-Infinity as strings.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1948">SOLR-1948</a>: PatternTokenizerFactory should use parent's args
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1870">SOLR-1870</a>: Indexing documents using the 'javabin' format no longer
fails with a ClassCastException whenSolrInputDocuments contain field
values which are Collections or other classes that implement
Iterable.
<br /><span class="attrib">(noble, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1981">SOLR-1981</a>: Solr will now fail correctly if solr.xml attempts to
specify multiple cores that have the same name
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1791">SOLR-1791</a>: Fix messed up core names on admin gui
<br /><span class="attrib">(yonik via koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1995">SOLR-1995</a>: Change date format from "hour in am/pm" to "hour in day"
in CoreContainer and SnapShooter.
<br /><span class="attrib">(Hayato Ito, koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2008">SOLR-2008</a>: avoid possible RejectedExecutionException w/autoCommit
by making SolreCore close the UpdateHandler before closing the
SearchExecutor.
<br /><span class="attrib">(NarasimhaRaju, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2036">SOLR-2036</a>: Avoid expensive fieldCache ram estimation for the
admin stats page.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2047">SOLR-2047</a>: ReplicationHandler should accept bool type for enable flag.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1630">SOLR-1630</a>: Fix spell checking collation issue related to token positions
<br /><span class="attrib">(rmuir, gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2100">SOLR-2100</a>: The replication handler backup command didn't save the commit
point and hence could fail when a newer commit caused the older commit point
to be removed before it was finished being copied.  This did not affect
normal master/slave replication.
<br /><span class="attrib">(Peter Sturge via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2114">SOLR-2114</a>: Fixed parsing error in hsin function.  The function signature has changed slightly.
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2083">SOLR-2083</a>: SpellCheckComponent misreports suggestions when distributed
<br /><span class="attrib">(James Dyer via gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2111">SOLR-2111</a>: Change exception handling in distributed faceting to work more
like non-distributed faceting, change facet_counts/exception from a String
to a List&lt;String&gt; to enable listing all exceptions that happened, and
prevent an exception in one facet command from affecting another
facet command.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2110">SOLR-2110</a>: Remove the restriction on names for local params
substitution/dereferencing.  Properly encode local params in
distributed faceting.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2135">SOLR-2135</a>: Fix behavior of ConcurrentLRUCache when asking for
getLatestAccessedItems(0) or getOldestAccessedItems(0).
<br /><span class="attrib">(David Smiley via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2148">SOLR-2148</a>: Highlighter doesn't support q.alt.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2180">SOLR-2180</a>: It was possible for EmbeddedSolrServer to leave searchers
open if a request threw an exception.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2173">SOLR-2173</a>: Suggester should always rebuild Lookup data if Lookup.load fails.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2081">SOLR-2081</a>: BaseResponseWriter.isStreamingDocs causes
SingleResponseWriter.end to be called 2x
<br /><span class="attrib">(Chris A. Mattmann via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2219">SOLR-2219</a>: The init() method of every SolrRequestHandler was being
called twice.
<br /><span class="attrib">(ambikeshwar singh and hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2285">SOLR-2285</a>: duplicate SolrEventListeners no longer created
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1993">SOLR-1993</a>: fix String cast assumption in JavaBinCodec - specific
addresses "commitWithin" option on Update requests.
<br /><span class="attrib">(noble, hossman, and Maxim Valyanskiy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2261">SOLR-2261</a>: fix velocity template layout.vm that referred to an older
version of jquery.
<br /><span class="attrib">(Eric Pugh via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2307">SOLR-2307</a>: fix bug in PHPSerializedResponseWriter (wt=phps) when
dealing with SolrDocumentList objects -- ie: sharded queries.
<br /><span class="attrib">(Antonio Verni via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2127">SOLR-2127</a>: Fixed serialization of default core and indentation of solr.xml when serializing.
<br /><span class="attrib">(Ephraim Ofir, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2320">SOLR-2320</a>: Fixed ReplicationHandler detail reporting for masters
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-482">SOLR-482</a>: Provide more exception handling in CSVLoader
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1283">SOLR-1283</a>: HTMLStripCharFilter sometimes threw a "Mark Invalid" exception.
<br /><span class="attrib">(Julien Coloos, hossman, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2085">SOLR-2085</a>: Improve SolrJ behavior when FacetComponent comes before
QueryComponent
<br /><span class="attrib">(Tomas Salfischberger via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1940">SOLR-1940</a>: Fix SolrDispatchFilter behavior when Content-Type is
unknown
<br /><span class="attrib">(Lance Norskog and hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1983">SOLR-1983</a>: snappuller fails when modifiedConfFiles is not empty and
full copy of index is needed.
<br /><span class="attrib">(Alexander Kanarsky via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2156">SOLR-2156</a>: SnapPuller fails to clean Old Index Directories on Full Copy
<br /><span class="attrib">(Jayendra Patil via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-96">SOLR-96</a>: Fix XML parsing in XMLUpdateRequestHandler and
DocumentAnalysisRequestHandler to respect charset from XML file and only
use HTTP header's "Content-Type" as a "hint".
<br /><span class="attrib">(uschindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2339">SOLR-2339</a>: Fix sorting to explicitly generate an error if you
attempt to sort on a multiValued field.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2348">SOLR-2348</a>: Fix field types to explicitly generate an error if you
attempt to get a ValueSource for a multiValued field.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2380">SOLR-2380</a>: Distributed faceting could miss values when facet.sort=index
and when facet.offset was greater than 0.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1656">SOLR-1656</a>: XIncludes and other HREFs in XML files loaded by ResourceLoader
are fixed to be resolved using the URI standard (RFC 2396). The system
identifier is no longer a plain filename with path, it gets initialized
using a custom URI scheme "solrres:". This scheme is resolved using a
EntityResolver that utilizes ResourceLoader
(org.apache.solr.common.util.SystemIdResolver). This makes all relative
pathes in Solr's config files behave like expected. This change
introduces some backwards breaks in the API: Some config classes
(Config, SolrConfig, IndexSchema) were changed to take
org.xml.sax.InputSource instead of InputStream. There may also be some
backwards breaks in existing config files, it is recommended to check
your config files / XSLTs and replace all XIncludes/HREFs that were
hacked to use absolute paths to use relative ones.
<br /><span class="attrib">(uschindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-309">SOLR-309</a>: Fix FieldType so setting an analyzer on a FieldType that
doesn't expect it will generate an error.  Practically speaking this
means that Solr will now correctly generate an error on
initialization if the schema.xml contains an analyzer configuration
for a fieldType that does not use TextField.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2192">SOLR-2192</a>: StreamingUpdateSolrServer.blockUntilFinished was not
thread safe and could throw an exception.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1692">SOLR-1692</a>: Fix bug in clustering component relating to carrot.produceSummary
option
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1756">SOLR-1756</a>: The date.format setting for extraction request handler causes
ClassCastException when enabled and the config code that parses this setting
does not properly use the same iterator instance.
<br /><span class="attrib">(Christoph Brill, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1638">SOLR-1638</a>: Fixed NullPointerException during DIH import if uniqueKey is not
specified in schema
<br /><span class="attrib">(Akshay Ukey via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1639">SOLR-1639</a>: Fixed misleading error message when dataimport.properties is not
writable
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1598">SOLR-1598</a>: DIH: Reader used in PlainTextEntityProcessor is not explicitly
closed
<br /><span class="attrib">(Sascha Szott via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1759">SOLR-1759</a>: DIH: $skipDoc was not working correctly
<br /><span class="attrib">(Gian Marco Tagliani via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1762">SOLR-1762</a>: DIH: DateFormatTransformer does not work correctly with
non-default locale dates
<br /><span class="attrib">(tommy chheng via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1757">SOLR-1757</a>: DIH multithreading sometimes throws NPE
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1766">SOLR-1766</a>: DIH with threads enabled doesn't respond to the abort command
<br /><span class="attrib">(Michael Henson via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1767">SOLR-1767</a>: dataimporter.functions.escapeSql() does not escape backslash
character
<br /><span class="attrib">(Sean Timm via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1811">SOLR-1811</a>: formatDate should use the current NOW value always
<br /><span class="attrib">(Sean Timm via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1794">SOLR-1794</a>: Dataimport of CLOB fields fails when getCharacterStream() is
defined in a superclass.
<br /><span class="attrib">(Gunnar Gauslaa Bergem via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2057">SOLR-2057</a>: DataImportHandler never calls UpdateRequestProcessor.finish()
<br /><span class="attrib">(Drew Farris via koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1973">SOLR-1973</a>: Empty fields in XML update messages confuse DataImportHandler.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2221">SOLR-2221</a>: Use StrUtils.parseBool() to get values of boolean options in DIH.
true/on/yes (for TRUE) and false/off/no (for FALSE) can be used for
sub-options (debug, verbose, synchronous, commit, clean, optimize) for
full/delta-import commands.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2310">SOLR-2310</a>: DIH: getTimeElapsedSince() returns incorrect hour value when
the elapse is over 60 hours
<br /><span class="attrib">(tom liu via koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2252">SOLR-2252</a>: DIH: When a child entity in nested entities is rootEntity="true",
delta-import doesn't work.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2330">SOLR-2330</a>: solrconfig.xml files in example-DIH are broken.
<br /><span class="attrib">(Matt Parker, koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1191">SOLR-1191</a>: resolve DataImportHandler deltaQuery column against pk when pk
has a prefix (e.g. pk="book.id" deltaQuery="select id from ..."). More
useful error reporting when no match found (previously failed with a
NullPointerException in log and no clear user feedback).
<br /><span class="attrib">(gthb via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2116">SOLR-2116</a>: Fix TikaConfig classloader bug in TikaEntityProcessor
<br /><span class="attrib">(Martijn van Groningen via hossman)</span></li>
    </ol>
  </li>
  <li><a id="3.1.0.other_changes" href="javascript:toggleList('3.1.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(43)
    <ol id="3.1.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1602">SOLR-1602</a>: Refactor SOLR package structure to include o.a.solr.response
and move QueryResponseWriters in there
<br /><span class="attrib">(Chris A. Mattmann, ryan, hoss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1516">SOLR-1516</a>: Addition of an abstract BaseResponseWriter class to simplify the
development of QueryResponseWriter implementations.
<br /><span class="attrib">(Chris A. Mattmann via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1592">SOLR-1592</a>: Refactor XMLWriter startTag to allow arbitrary attributes to be written
<br /><span class="attrib">(Chris A. Mattmann via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1561">SOLR-1561</a>: Added Lucene 2.9.1 spatial contrib jar to lib.
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1570">SOLR-1570</a>: Log warnings if uniqueKey is multi-valued or not stored
<br /><span class="attrib">(hossman, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1558">SOLR-1558</a>: QueryElevationComponent only works if the uniqueKey field is
implemented using StrField.  In previous versions of Solr no warning or
error would be generated if you attempted to use QueryElevationComponent,
it would just fail in unexpected ways.  This has been changed so that it
will fail with a clear error message on initialization.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1611">SOLR-1611</a>: Added Lucene 2.9.1 collation contrib jar to lib
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1608">SOLR-1608</a>: Extract base class from TestDistributedSearch to make
it easy to write test cases for other distributed components.
<br /><span class="attrib">(shalin)</span></li>
      <li>Upgraded to Lucene 2.9-dev r888785
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1610">SOLR-1610</a>: Generify SolrCache
<br /><span class="attrib">(Jason Rutherglen via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1637">SOLR-1637</a>: Remove ALIAS command
<p/>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1662">SOLR-1662</a>: Added Javadocs in BufferedTokenStream and fixed incorrect cloning
in TestBufferedTokenStream
<br /><span class="attrib">(Robert Muir, Uwe Schindler via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1674">SOLR-1674</a>: Improve analysis tests and cut over to new TokenStream API.
<br /><span class="attrib">(Robert Muir via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1661">SOLR-1661</a>: Remove adminCore from CoreContainer . removed deprecated methods setAdminCore(), getAdminCore()
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1704">SOLR-1704</a>: Google collections moved from clustering to core
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1268">SOLR-1268</a>: Add Lucene 2.9-dev r888785 FastVectorHighlighter contrib jar to lib.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1538">SOLR-1538</a>: Reordering of object allocations in ConcurrentLRUCache to eliminate
(an extremely small) potential for deadlock.
<br /><span class="attrib">(gabriele renzi via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1588">SOLR-1588</a>: Removed some very old dead code.
<br /><span class="attrib">(Chris A. Mattmann via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1696">SOLR-1696</a> : Deprecate old &lt;highlighting&gt; syntax and move configuration to HighlightComponent
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1727">SOLR-1727</a>: SolrEventListener should extend NamedListInitializedPlugin
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1771">SOLR-1771</a>: Improved error message when StringIndex cannot be initialized
for a function query
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1695">SOLR-1695</a>: Improved error messages when adding a document that does not
contain exactly one value for the uniqueKey field
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1776">SOLR-1776</a>: DismaxQParser and ExtendedDismaxQParser now use the schema.xml
"defaultSearchField" as the default value for the "qf" param instead of failing
with an error when "qf" is not specified.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1851">SOLR-1851</a>: luceneAutoCommit no longer has any effect - it has been remove
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1865">SOLR-1865</a>: SolrResourceLoader.getLines ignores Byte Order Markers (BOMs) at the
beginning of input files, these are often created by editors such as Windows
Notepad.
<br /><span class="attrib">(rmuir, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1938">SOLR-1938</a>: ElisionFilterFactory will use a default set of French contractions
if you do not supply a custom articles file.
<br /><span class="attrib">(rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2003">SOLR-2003</a>: SolrResourceLoader will report any encoding errors, rather than
silently using replacement characters for invalid inputs
<br /><span class="attrib">(blargy via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1804">SOLR-1804</a>: Google collections updated to Google Guava (which is a superset of collections and contains bug fixes)
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2034">SOLR-2034</a>: Switch to JavaBin codec version 2. Strings are now serialized
as the number of UTF-8 bytes, followed by the bytes in UTF-8. Previously
Strings were serialized as the number of UTF-16 chars, followed by the
bytes in Modified UTF-8.
<br /><span class="attrib">(hossman, yonik, rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2013">SOLR-2013</a>: Add mapping-FoldToASCII.txt to example conf directory.
<br /><span class="attrib">(Steven Rowe via koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2213">SOLR-2213</a>: Upgrade to jQuery 1.4.3
<br /><span class="attrib">(Erick Erickson via ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1826">SOLR-1826</a>: Add unit tests for highlighting with termOffsets=true
and overlapping tokens.
<br /><span class="attrib">(Stefan Oestreicher via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2340">SOLR-2340</a>: Add version infos to message in JavaBinCodec when throwing
exception.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2350">SOLR-2350</a>: Since Solr no longer requires XML files to be in UTF-8
(see <a href="http://issues.apache.org/jira/browse/SOLR-96">SOLR-96</a>) SimplePostTool (aka: post.jar) has been improved to
work with files of any mime-type or charset.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2365">SOLR-2365</a>: Move DIH jars out of solr.war
<br /><span class="attrib">(David Smiley via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2381">SOLR-2381</a>: Include a patched version of Jetty (6.1.26 + JETTY-1340)
to fix problematic UTF-8 handling for supplementary characters.
<br /><span class="attrib">(Bernd Fehling, uschindler, yonik, rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2391">SOLR-2391</a>: The preferred Content-Type for XML was changed to
application/xml. XMLResponseWriter now only delivers using this
type; updating documents and analyzing documents is still supported
using text/xml as Content-Type, too. If you have clients that are
hardcoded on text/xml as Content-Type, you have to change them.
<br /><span class="attrib">(uschindler, rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2414">SOLR-2414</a>: All ResponseWriters now use only ServletOutputStreams
and wrap their own Writer around it when serializing. This fixes
the bug in PHPSerializedResponseWriter that produced wrong string
length if the servlet container had a broken UTF-8 encoding that was
in fact CESU-8 (see <a href="http://issues.apache.org/jira/browse/SOLR-1091">SOLR-1091</a>). The system property to enable the
CESU-8 byte counting in PHPSerializesResponseWriters for broken
servlet containers was therefore removed and is now ignored if set.
Output is always UTF-8.
<br /><span class="attrib">(uschindler, yonik, rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-141">SOLR-141</a>: Errors and Exceptions are formated by ResponseWriter.
<br /><span class="attrib">(Mike Sokolov, Rich Cariens, Daniel Naber, ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1902">SOLR-1902</a>: Upgraded to Tika 0.8 and changed deprecated parse call
<p/>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1813">SOLR-1813</a>: Add ICU4j to contrib/extraction libs and add tests for Arabic
extraction
<br /><span class="attrib">(Robert Muir via gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1821">SOLR-1821</a>: Fix TimeZone-dependent test failure in TestEvaluatorBag.
<br /><span class="attrib">(Chris Male via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2367">SOLR-2367</a>: Reduced noise in test output by ensuring the properties file
can be written.
<br /><span class="attrib">(Gunnlaugur Thor Briem via rmuir)</span></li>
    </ol>
  </li>
  <li><a id="3.1.0.build" href="javascript:toggleList('3.1.0.build')">Build</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="3.1.0.build.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1522">SOLR-1522</a>: Automated release signing process.
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1891">SOLR-1891</a>: Make lucene-jars-to-solr fail if copying any of the jars fails, and
update clean to remove the jars in that directory
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-2466">LUCENE-2466</a>: Commons-Codec was upgraded from 1.3 to 1.4.
<br /><span class="attrib">(rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2042">SOLR-2042</a>: Fixed some Maven deps
<br /><span class="attrib">(Drew Farris via gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-2657">LUCENE-2657</a>: Switch from using Maven POM templates to full POMs when
generating Maven artifacts
<br /><span class="attrib">(Steven Rowe)</span></li>
    </ol>
  </li>
  <li><a id="3.1.0.documentation" href="javascript:toggleList('3.1.0.documentation')">Documentation</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="3.1.0.documentation.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1590">SOLR-1590</a>: Javadoc for XMLWriter#startTag
<br /><span class="attrib">(Chris A. Mattmann via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1792">SOLR-1792</a>: Documented peculiar behavior of TestHarness.LocalRequestFactory
<br /><span class="attrib">(hossman)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="1.4.0" href="javascript:toggleList('1.4.0')">Release 1.4.0  [2009-11-10]</a></h3>
<ul id="1.4.0.list">
      <li>Release Date:  See <a href="http://lucene.apache.org/solr">http://lucene.apache.org/solr</a> for the official release date.
</li>
  </li>
  <li><a id="1.4.0.upgrading_from_solr_1.3" href="javascript:toggleList('1.4.0.upgrading_from_solr_1.3')">Upgrading from Solr 1.3</a>&nbsp;&nbsp;&nbsp;(12)
    <ol id="1.4.0.upgrading_from_solr_1.3.list">
      <li>There is a new default faceting algorithm for multiVaued fields that should be
faster for most cases.  One can revert to the previous algorithm (which has
also been improved somewhat) by adding facet.method=enum to the request.
</li>
      <li>Searching and sorting is now done on a per-segment basis, meaning that
the FieldCache entries used for sorting and for function queries are
created and used per-segment and can be reused for segments that don't
change between index updates.  While generally beneficial, this can lead
to increased memory usage over 1.3 in certain scenarios:
  1) A single valued field that was used for both sorting and faceting
in 1.3 would have used the same top level FieldCache entry.  In 1.4,
sorting will use entries at the segment level while faceting will still
use entries at the top reader level, leading to increased memory usage.
  2) Certain function queries such as ord() and rord() require a top level
FieldCache instance and can thus lead to increased memory usage.  Consider
replacing ord() and rord() with alternatives, such as function queries
based on ms() for date boosting.
</li>
      <li>If you use custom Tokenizer or TokenFilter components in a chain specified in
schema.xml, they must support reusability.  If your Tokenizer or TokenFilter
maintains state, it should implement reset().  If your TokenFilteFactory does
not return a subclass of TokenFilter, then it should implement reset() and call
reset() on it's input TokenStream.  TokenizerFactory implementations must
now return a Tokenizer rather than a TokenStream.
</li>
      <li>New users of Solr 1.4 will have omitTermFreqAndPositions enabled for non-text
indexed fields by default, which avoids indexing term frequency, positions, and
payloads, making the index smaller and faster.  If you are upgrading from an
earlier Solr release and want to enable omitTermFreqAndPositions by default,
change the schema version from 1.1 to 1.2 in schema.xml.  Remove any existing
index and restart Solr to ensure that omitTermFreqAndPositions completely takes
affect.
</li>
      <li>The default QParserPlugin used by the QueryComponent for parsing the "q" param
has been changed, to remove support for the deprecated use of ";" as a separator
between the query string and the sort options when no "sort" param was used.
Users who wish to continue using the semi-colon based method of specifying the
sort options should explicitly set the defType param to "lucenePlusSort" on all
requests. (The simplest way to do this is by specifying it as a default param
for your request handlers in solrconfig.xml, see the example solrconfig.xml for
sample syntax.)
</li>
      <li>If spellcheck.extendedResults=true, the response format for suggestions
has changed, see <a href="http://issues.apache.org/jira/browse/SOLR-1071">SOLR-1071</a>.
</li>
      <li>Use of the "charset" option when configuring the following Analysis
Factories has been deprecated and will cause a warning to be logged.
In future versions of Solr attempting to use this option will cause an
error.  See <a href="http://issues.apache.org/jira/browse/SOLR-1410">SOLR-1410</a> for more information.
<ul class="bulleted-list">
<li class="bulleted-list">
GreekLowerCaseFilterFactory
</li>
<li class="bulleted-list">
RussianStemFilterFactory
</li>
<li class="bulleted-list">
RussianLowerCaseFilterFactory
</li>
<li class="bulleted-list">
RussianLetterTokenizerFactory
</li>
</ul>
</li>
      <li>DIH: Evaluator API has been changed in a non back-compatible way. Users who
have developed custom Evaluators will need to change their code according to
the new API for it to work. See <a href="http://issues.apache.org/jira/browse/SOLR-996">SOLR-996</a> for details.
</li>
      <li>DIH: The formatDate evaluator's syntax has been changed. The new syntax is
formatDate(&lt;variable&gt;, '&lt;format_string&gt;'). For example,
formatDate(x.date, 'yyyy-MM-dd'). In the old syntax, the date string was
written without a single-quotes. The old syntax has been deprecated and will
be removed in 1.5, until then, using the old syntax will log a warning.
</li>
      <li>DIH: The Context API has been changed in a non back-compatible way. In
particular, the Context.currentProcess() method now returns a String
describing the type of the current import process instead of an int.
Similarily, the public constants in Context viz. FULL_DUMP, DELTA_DUMP and
FIND_DELTA are changed to a String type. See <a href="http://issues.apache.org/jira/browse/SOLR-969">SOLR-969</a> for details.
</li>
      <li>DIH: The EntityProcessor API has been simplified by moving logic for applying
transformers and handling multi-row outputs from Transformers into an
EntityProcessorWrapper class. The EntityProcessor#destroy is now called once
per parent-row at the end of row (end of data). A new method
EntityProcessor#close is added which is called at the end of import.
</li>
      <li>DIH: In Solr 1.3, if the last_index_time was not available (first import) and
a delta-import was requested, a full-import was run instead. This is no longer
the case. In Solr 1.4 delta import is run with last_index_time as the epoch
date (January 1, 1970, 00:00:00 GMT) if last_index_time is not available.
</li>
    </ol>
  </li>
  <li><a id="1.4.0.versions_of_major_components" href="javascript:toggleList('1.4.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(3)
    <ol id="1.4.0.versions_of_major_components.list">
      <li>Apache Lucene 2.9.1
<br /><span class="attrib">(r832363  on 2.9 branch)</span></li>
      <li>Apache Tika 0.4
</li>
      <li>Carrot2 3.1.0
</li>
    </ol>
  </li>
  <li><a id="1.4.0.lucene_information" href="javascript:toggleList('1.4.0.lucene_information')">Lucene Information</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="1.4.0.lucene_information.list">
      <li>Since Solr is built on top of Lucene, many people add customizations to Solr
that are dependent on Lucene.  Please see <a href="http://lucene.apache.org/java/2_9_0/,">http://lucene.apache.org/java/2_9_0/,</a>
especially <a href="http://lucene.apache.org/java/2_9_0/changes/Changes.html">http://lucene.apache.org/java/2_9_0/changes/Changes.html</a> for more
information on the version of Lucene used in Solr.
</li>
    </ol>
  </li>
  <h4>Detailed Change List</h4>
  <li><a id="1.4.0.new_features" href="javascript:toggleList('1.4.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(124)
    <ol id="1.4.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-560">SOLR-560</a>: Use SLF4J logging API rather then JDK logging.  The packaged .war file is
shipped with a JDK logging implementation, so logging configuration for the .war should
be identical to solr 1.3.  However, if you are using the .jar file, you can select
which logging implementation to use by dropping a different binding.
See: <a href="http://www.slf4j.org/">http://www.slf4j.org/</a>
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-617">SOLR-617</a>: Allow configurable index deletion policy and provide a default implementation which
allows deletion of commit points on various criteria such as number of commits, age of commit
point and optimized status.
See <a href="http://lucene.apache.org/java/2_3_2/api/org/apache/lucene/index/IndexDeletionPolicy.html">http://lucene.apache.org/java/2_3_2/api/org/apache/lucene/index/IndexDeletionPolicy.html</a>
<br /><span class="attrib">(yonik, Noble Paul, Akshay Ukey via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-658">SOLR-658</a>: Allow Solr to load index from arbitrary directory in dataDir
<br /><span class="attrib">(Noble Paul, Akshay Ukey via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-793">SOLR-793</a>: Add 'commitWithin' argument to the update add command.  This behaves
similar to the global autoCommit maxTime argument except that it is set for
each request.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-670">SOLR-670</a>: Add support for rollbacks in UpdateHandler. This allows user to rollback all changes
since the last commit.
<br /><span class="attrib">(Noble Paul, koji via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-813">SOLR-813</a>: Adding DoubleMetaphone Filter and Factory.  Similar to the PhoneticFilter,
but this uses DoubleMetaphone specific calls (including alternate encoding)
<br /><span class="attrib">(Todd Feak via ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-680">SOLR-680</a>: Add StatsComponent. This gets simple statistics on matched numeric fields,
including: min, max, mean, median, stddev.
<br /><span class="attrib">(koji, ryan)</span>
<ul class="bulleted-list">
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-1380">SOLR-1380</a>: Added support for multi-valued fields
<br /><span class="attrib">(Harish Agarwal via gsingers)</span></li>
</ul>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-561">SOLR-561</a>: Added Replication implemented in Java as a request handler. Supports index replication
as well as configuration replication and exposes detailed statistics and progress information
on the Admin page. Works on all platforms.
<br /><span class="attrib">(Noble Paul, yonik, Akshay Ukey, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-746">SOLR-746</a>: Added "omitHeader" request parameter to omit the header from the response.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-651">SOLR-651</a>: Added TermVectorComponent for serving up term vector information, plus IDF.
See <a href="http://wiki.apache.org/solr/TermVectorComponent">http://wiki.apache.org/solr/TermVectorComponent</a>
<br /><span class="attrib">(gsingers, Vaijanath N. Rao, Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-795">SOLR-795</a>: SpellCheckComponent supports building indices on optimize if configured in solrconfig.xml
<br /><span class="attrib">(Jason Rennie, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-667">SOLR-667</a>: A LRU cache implementation based upon ConcurrentHashMap and other techniques to reduce
contention and synchronization overhead, to utilize multiple CPU cores more effectively.
<br /><span class="attrib">(Fuad Efendi, Noble Paul, yonik via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-465">SOLR-465</a>: Add configurable DirectoryProvider so that alternate Directory
implementations can be specified via solrconfig.xml.  The default
DirectoryProvider will use NIOFSDirectory for better concurrency
on non Windows platforms.
<br /><span class="attrib">(Mark Miller, TJ Laurenzo via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-822">SOLR-822</a>: Add CharFilter so that characters can be filtered (e.g. character normalization)
before Tokenizer/TokenFilters.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-829">SOLR-829</a>: Allow slaves to request compressed files from master during replication
<br /><span class="attrib">(Simon Collins, Noble Paul, Akshay Ukey via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-877">SOLR-877</a>: Added TermsComponent for accessing Lucene's TermEnum capabilities.
Useful for auto suggest and possibly distributed search.  Not distributed search compliant.
<br /><span class="attrib">(gsingers)</span>
<ul class="bulleted-list">
<li class="bulleted-list">
Added mincount and maxcount options
<br /><span class="attrib">(Khee Chin via gsingers)</span></li>
</ul>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-538">SOLR-538</a>: Add maxChars attribute for copyField function so that the length limit for destination
can be specified.
<br /><span class="attrib">(Georgios Stamatis, Lars Kotthoff, Chris Harris via koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-284">SOLR-284</a>: Added support for extracting content from binary documents like MS Word and PDF using Apache Tika.  See also contrib/extraction/CHANGES.txt
<br /><span class="attrib">(Eric Pugh, Chris Harris, yonik, gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-819">SOLR-819</a>: Added factories for Arabic support
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-781">SOLR-781</a>: Distributed search ability to sort field.facet values
lexicographically.  facet.sort values "true" and "false" are
also deprecated and replaced with "count" and "lex".
<br /><span class="attrib">(Lars Kotthoff via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-821">SOLR-821</a>: Add support for replication to copy conf file to slave with a different name. This allows replication
of solrconfig.xml
<br /><span class="attrib">(Noble Paul, Akshay Ukey via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-911">SOLR-911</a>: Add support for multi-select faceting by allowing filters to be
tagged and facet commands to exclude certain filters.  This patch also
added the ability to change the output key for facets in the response, and
optimized distributed faceting refinement by lowering parsing overhead and
by making requests and responses smaller.
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-876">SOLR-876</a>: WordDelimiterFilter now supports a splitOnNumerics
option, as well as a list of protected terms.
<br /><span class="attrib">(Dan Rosher via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-928">SOLR-928</a>: SolrDocument and SolrInputDocument now implement the Map&lt;String,?&gt;
interface.  This should make plugging into other standard tools easier.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-847">SOLR-847</a>: Enhance the snappull command in ReplicationHandler to accept masterUrl.
<br /><span class="attrib">(Noble Paul, Preetam Rao via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-540">SOLR-540</a>: Add support for globbing in field names to highlight.
For example, hl.fl=*_text will highlight all fieldnames ending with
_text.
<br /><span class="attrib">(Lars Kotthoff via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-906">SOLR-906</a>: Adding a StreamingUpdateSolrServer that writes update commands to
an open HTTP connection.  If you are using solrj for bulk update requests
you should consider switching to this implementaion.  However, note that
the error handling is not immediate as it is with the standard SolrServer.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-865">SOLR-865</a>: Adding support for document updates in binary format and corresponding support in Solrj client.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-763">SOLR-763</a>: Add support for Lucene's PositionFilter
<br /><span class="attrib">(Mck SembWever via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-966">SOLR-966</a>: Enhance the map() function query to take in an optional default value
<br /><span class="attrib">(Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-820">SOLR-820</a>: Support replication on startup of master with new index.
<br /><span class="attrib">(Noble Paul, Akshay Ukey via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-943">SOLR-943</a>: Make it possible to specify dataDir in solr.xml and accept the dataDir as a request parameter for
the CoreAdmin create command.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-850">SOLR-850</a>: Addition of timeouts for distributed searching. Configurable through 'shard-socket-timeout' and
'shard-connection-timeout' parameters in SearchHandler.
<br /><span class="attrib">(Patrick O'Leary via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-799">SOLR-799</a>: Add support for hash based exact/near duplicate document
handling.
<br /><span class="attrib">(Mark Miller, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1026">SOLR-1026</a>: Add protected words support to SnowballPorterFilterFactory
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-739">SOLR-739</a>: Add support for OmitTf
<br /><span class="attrib">(Mark Miller via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1046">SOLR-1046</a>: Nested query support for the function query parser
and lucene query parser (the latter existed as an undocumented
feature in 1.3)
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-940">SOLR-940</a>: Add support for Lucene's Trie Range Queries by providing new FieldTypes in
schema for int, float, long, double and date.  Single-valued Trie based
fields with a precisionStep will index multiple precisions and enable
faster range queries.
<br /><span class="attrib">(Uwe Schindler, yonik, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1038">SOLR-1038</a>: Enhance CommonsHttpSolrServer to add docs in batch using an iterator API
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-844">SOLR-844</a>: A SolrServer implementation to front-end multiple solr servers and provides load balancing and failover
support
<br /><span class="attrib">(Noble Paul, Mark Miller, hossman via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-939">SOLR-939</a>: ValueSourceRangeFilter/Query - filter based on values in a FieldCache entry or on any arbitrary function of field values.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1095">SOLR-1095</a>: Fixed performance problem in the StopFilterFactory and simplified code.  Added tests as well.
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1096">SOLR-1096</a>: Introduced httpConnTimeout and httpReadTimeout in replication slave configuration to avoid stalled
replication.
<br /><span class="attrib">(Jeff Newburn, Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1115">SOLR-1115</a>: &lt;bool&gt;on&lt;/bool&gt; and &lt;bool&gt;yes&lt;/bool&gt; work as expected in solrconfig.xml.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1099">SOLR-1099</a>:  A FieldAnalysisRequestHandler which provides the analysis functionality of the web admin page as
a service. The AnalysisRequestHandler is renamed to DocumentAnalysisRequestHandler which is enhanced with
query analysis and showMatch support. AnalysisRequestHandler is now deprecated. Support for both
FieldAnalysisRequestHandler and DocumentAnalysisRequestHandler is also provided in the Solrj client.
<br /><span class="attrib">(Uri Boness, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1106">SOLR-1106</a>: Made CoreAdminHandler Actions pluggable so that additional actions may be plugged in or the existing
ones can be overridden if needed.
<br /><span class="attrib">(Kay Kay, Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1124">SOLR-1124</a>: Add a top() function query that causes it's argument to
have it's values derived from the top level IndexReader, even when
invoked from a sub-reader.  top() is implicitly used for the
ord() and rord() functions.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1110">SOLR-1110</a>: Support sorting on trie fields with Distributed Search.
<br /><span class="attrib">(Mark Miller, Uwe Schindler via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1121">SOLR-1121</a>: CoreAdminhandler should not need a core  . This makes it possible to start a Solr server w/o a core .
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-769">SOLR-769</a>: Added support for clustering in contrib/clustering.  See <a href="http://wiki.apache.org/solr/ClusteringComponent">http://wiki.apache.org/solr/ClusteringComponent</a> for more info.
<br /><span class="attrib">(gsingers, Stanislaw Osinski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1175">SOLR-1175</a>: disable/enable replication on master side. added two commands 'enableReplication' and 'disableReplication'
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1179">SOLR-1179</a>: DocSets can now be used as Lucene Filters via
DocSet.getTopFilter()
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1116">SOLR-1116</a>: Add a Binary FieldType
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1051">SOLR-1051</a>: Support the merge of multiple indexes as a CoreAdmin and an update command
<br /><span class="attrib">(Ning Li via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1152">SOLR-1152</a>: Snapshoot on ReplicationHandler should accept location as a request parameter
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1204">SOLR-1204</a>: Enhance SpellingQueryConverter to handle UTF-8 instead of ASCII only.
Use the NMTOKEN syntax for matching field names.
<br /><span class="attrib">(Michael Ludwig, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1189">SOLR-1189</a>: Support providing username and password for basic HTTP authentication in Java replication
<br /><span class="attrib">(Matthew Gregg, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-243">SOLR-243</a>: Add configurable IndexReaderFactory so that alternate IndexReader implementations
can be specified via solrconfig.xml. Note that using a custom IndexReader may be incompatible
with ReplicationHandler (see comments in <a href="http://issues.apache.org/jira/browse/SOLR-1366">SOLR-1366</a>). This should be treated as an experimental feature.
<br /><span class="attrib">(Andrzej Bialecki, hossman, Mark Miller, John Wang)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1214">SOLR-1214</a>: differentiate between solr home and instanceDir .deprecates the method SolrResourceLoader#locateInstanceDir()
and it is renamed to locateSolrHome
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1216">SOLR-1216</a> :  disambiguate the replication command names. 'snappull' becomes 'fetchindex' 'abortsnappull' becomes 'abortfetch'
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1145">SOLR-1145</a>: Add capability to specify an infoStream log file for the underlying Lucene IndexWriter in solrconfig.xml.
This is an advanced debug log file that can be used to aid developers in fixing IndexWriter bugs. See the commented
out example in the example solrconfig.xml under the indexDefaults section.
<br /><span class="attrib">(Chris Harris, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1256">SOLR-1256</a>: Show the output of CharFilters in analysis.jsp.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1266">SOLR-1266</a>: Added stemEnglishPossessive option (default=true) to WordDelimiterFilter
that allows disabling of english possessive stemming (removal of trailing 's from tokens)
<br /><span class="attrib">(Robert Muir via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1237">SOLR-1237</a>: firstSearcher and newSearcher can now be identified via the CommonParams.EVENT (evt) parameter
in a request.  This allows a RequestHandler or SearchComponent to know when a newSearcher or firstSearcher
event happened.  QuerySenderListender is the only implementation in Solr that implements this, but outside
implementations may wish to.  See the AbstractSolrEventListener for a helper method.
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1343">SOLR-1343</a>: Added HTMLStripCharFilter and marked HTMLStripReader, HTMLStripWhitespaceTokenizerFactory and
HTMLStripStandardTokenizerFactory deprecated. To strip HTML tags, HTMLStripCharFilter can be used
with an arbitrary Tokenizer.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1275">SOLR-1275</a>: Add expungeDeletes to DirectUpdateHandler2
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1372">SOLR-1372</a>: Enhance FieldAnalysisRequestHandler to accept field value from content stream
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1370">SOLR-1370</a>: Show the output of CharFilters in FieldAnalysisRequestHandler
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1373">SOLR-1373</a>: Add Filter query to admin/form.jsp
<br /><span class="attrib">(Jason Rutherglen via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1368">SOLR-1368</a>: Add ms() function query for getting milliseconds from dates and for
high precision date subtraction, add sub() for subtracting other arguments.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1156">SOLR-1156</a>: Sort TermsComponent results by frequency
<br /><span class="attrib">(Matt Weber via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1335">SOLR-1335</a> : load core properties from a properties file
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1385">SOLR-1385</a> : Add an 'enable' attribute to all plugins
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1414">SOLR-1414</a> : implicit core properties are not set for single core
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-659">SOLR-659</a> : Adds shards.start and shards.rows to distributed search
to allow more efficient bulk queries (those that retrieve many or all
documents).
<br /><span class="attrib">(Brian Whitman via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1321">SOLR-1321</a>: Add better support for efficient wildcard handling
<br /><span class="attrib">(Andrzej Bialecki, Robert Muir, gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1326">SOLR-1326</a> : New interface PluginInfoInitialized for all types of plugin
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1447">SOLR-1447</a> : Simple property injection. &lt;mergePolicy&gt; &amp; &lt;mergeScheduler&gt; syntaxes are now deprecated
<br /><span class="attrib">(Jason Rutherglen, noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-908">SOLR-908</a> : CommonGramsFilterFactory/CommonGramsQueryFilterFactory for
speeding up phrase queries containing common words by indexing
n-grams and using them at query time.
<br /><span class="attrib">(Tom Burton-West, Jason Rutherglen via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1292">SOLR-1292</a>: Add FieldCache introspection to stats.jsp and JMX Monitoring via
a new SolrFieldCacheMBean.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1167">SOLR-1167</a>: Solr Config now supports XInclude for XML engines that can support it.
<br /><span class="attrib">(Bryan Talbot via gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1478">SOLR-1478</a>: Enable sort by Lucene docid.
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1449">SOLR-1449</a>: Add &lt;lib&gt; elements to solrconfig.xml to specifying additional
classpath directories and regular expressions.
<br /><span class="attrib">(hossman via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1128">SOLR-1128</a>: Added metadata output to extraction request handler "extract
only" option.
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1274">SOLR-1274</a>: Added text serialization output for extractOnly
<br /><span class="attrib">(Peter Wolanin, gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-768">SOLR-768</a>: DIH: Set last_index_time variable in full-import command.
<br /><span class="attrib">(Wojtek Piaseczny, Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-811">SOLR-811</a>: Allow a "deltaImportQuery" attribute in SqlEntityProcessor
which is used for delta imports instead of DataImportHandler manipulating
the SQL itself.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-842">SOLR-842</a>:  Better error handling in DataImportHandler with options to
abort, skip and continue imports.
<br /><span class="attrib">(Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-833">SOLR-833</a>: DIH: A DataSource to read data from a field as a reader. This
can be used, for example, to read XMLs residing as CLOBs or BLOBs in
databases.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-887">SOLR-887</a>: A DIH Transformer to strip HTML tags.
<br /><span class="attrib">(Ahmed Hammad via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-886">SOLR-886</a>: DataImportHandler should rollback when an import fails or it is
aborted
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-891">SOLR-891</a>: A DIH Transformer to read strings from Clob type.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-812">SOLR-812</a>: Configurable JDBC settings in JdbcDataSource including optimized
defaults for read only mode.
<br /><span class="attrib">(David Smiley, Glen Newton, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-910">SOLR-910</a>: Add a few utility commands to the DIH admin page such as full
import, delta import, status, reload config.
<br /><span class="attrib">(Ahmed Hammad via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-938">SOLR-938</a>: Add event listener API for DIH import start and end.
<br /><span class="attrib">(Kay Kay, Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-801">SOLR-801</a>: DIH: Add support for configurable pre-import and post-import
delete query per root-entity.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-988">SOLR-988</a>: Add a new scope for session data stored in Context to store
objects across imports.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-980">SOLR-980</a>: A PlainTextEntityProcessor which can read from any
DataSource&lt;Reader&gt; and output a String.
<br /><span class="attrib">(Nathan Adams, Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1003">SOLR-1003</a>: XPathEntityprocessor must allow slurping all text from a given
xml node and its children.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1001">SOLR-1001</a>: Allow variables in various attributes of RegexTransformer,
HTMLStripTransformer and NumberFormatTransformer.
<br /><span class="attrib">(Fergus McMenemie, Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-989">SOLR-989</a>: DIH: Expose running statistics from the Context API.
<br /><span class="attrib">(Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-996">SOLR-996</a>: DIH: Expose Context to Evaluators.
<br /><span class="attrib">(Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-783">SOLR-783</a>: DIH: Enhance delta-imports by maintaining separate
last_index_time for each entity.
<br /><span class="attrib">(Jon Baer, Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1033">SOLR-1033</a>: Current entity's namespace is made available to all DIH
Transformers. This allows one to use an output field of TemplateTransformer
in other transformers, among other things.
<br /><span class="attrib">(Fergus McMenemie, Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1066">SOLR-1066</a>: New methods in DIH Context to expose Script details.
ScriptTransformer changed to read scripts through the new API methods.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1062">SOLR-1062</a>: A DIH LogTransformer which can log data in a given template
format.
<br /><span class="attrib">(Jon Baer, Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1065">SOLR-1065</a>: A DIH ContentStreamDataSource which can accept HTTP POST data
in a content stream. This can be used to push data to Solr instead of
just pulling it from DB/Files/URLs.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1061">SOLR-1061</a>: Improve DIH RegexTransformer to create multiple columns from
regex groups.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1059">SOLR-1059</a>: Special DIH flags introduced for deleting documents by query or
id, skipping rows and stopping further transforms. Use $deleteDocById,
$deleteDocByQuery for deleting by id and query respectively.  Use $skipRow
to skip the current row but continue with the document. Use $stopTransform
to stop further transformers. New methods are introduced in Context for
deleting by id and query.
<br /><span class="attrib">(Noble Paul, Fergus McMenemie, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1076">SOLR-1076</a>: JdbcDataSource should resolve DIH variables in all its
configuration parameters.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1055">SOLR-1055</a>: Make DIH JdbcDataSource easily extensible by making the
createConnectionFactory method protected and return a
Callable&lt;Connection&gt; object.
<br /><span class="attrib">(Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1058">SOLR-1058</a>: DIH: JdbcDataSource can lookup javax.sql.DataSource using JNDI.
Use a jndiName attribute to specify the location of the data source.
<br /><span class="attrib">(Jason Shepherd, Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1083">SOLR-1083</a>: A DIH Evaluator for escaping query characters.
<br /><span class="attrib">(Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-934">SOLR-934</a>: A MailEntityProcessor to enable indexing mails from
POP/IMAP sources into a solr index.
<br /><span class="attrib">(Preetam Rao, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1060">SOLR-1060</a>: A DIH LineEntityProcessor which can stream lines of text from a
given file to be indexed directly or for processing with transformers and
child entities.
<br /><span class="attrib">(Fergus McMenemie, Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1127">SOLR-1127</a>: Add support for DIH field name to be templatized.
<br /><span class="attrib">(Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1092">SOLR-1092</a>: Added a new DIH command named 'import' which does not
automatically clean the index. This is useful and more appropriate when one
needs to import only some of the entities.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1153">SOLR-1153</a>: DIH 'deltaImportQuery' is honored on child entities as well
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1230">SOLR-1230</a>: Enhanced dataimport.jsp to work with all DataImportHandler
request handler configurations, rather than just a hardcoded /dataimport
handler.
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1235">SOLR-1235</a>: disallow period (.) in DIH entity names
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1234">SOLR-1234</a>: Multiple DIH does not work because all of them write to
dataimport.properties. Use the handler name as the properties file name
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1348">SOLR-1348</a>: Support binary field type in convertType logic in DIH
JdbcDataSource
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1406">SOLR-1406</a>: DIH: Make FileDataSource and FileListEntityProcessor to be more
extensible
<br /><span class="attrib">(Luke Forehand, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1437">SOLR-1437</a>: DIH: XPathEntityProcessor can deal with xpath syntaxes such as
//tagname , /root//tagname
<br /><span class="attrib">(Fergus McMenemie via noble)</span></li>
    </ol>
  </li>
  <li><a id="1.4.0.optimizations" href="javascript:toggleList('1.4.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(22)
    <ol id="1.4.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-374">SOLR-374</a>: Use IndexReader.reopen to save resources by re-using parts of the
index that haven't changed.
<br /><span class="attrib">(Mark Miller via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-808">SOLR-808</a>: Write string keys in Maps as extern strings in the javabin format.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-475">SOLR-475</a>: New faceting method with better performance and smaller memory usage for
multi-valued fields with many unique values but relatively few values per document.
Controllable via the facet.method parameter - "fc" is the new default method and "enum"
is the original method.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-970">SOLR-970</a>: Use an ArrayList in SolrPluginUtils.parseQueryStrings
since we know exactly how long the List will be in advance.
<br /><span class="attrib">(Kay Kay via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1002">SOLR-1002</a>: Change SolrIndexSearcher to use insertWithOverflow
with reusable priority queue entries to reduce the amount of
generated garbage during searching.
<br /><span class="attrib">(Mark Miller via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-971">SOLR-971</a>: Replace StringBuffer with StringBuilder for instances that do not require thread-safety.
<br /><span class="attrib">(Kay Kay via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-921">SOLR-921</a>: SolrResourceLoader must cache short class name vs fully qualified classname
<br /><span class="attrib">(Noble Paul, hossman via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-973">SOLR-973</a>: CommonsHttpSolrServer writes the xml directly to the server.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1108">SOLR-1108</a>: Remove un-needed synchronization in SolrCore constructor.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1166">SOLR-1166</a>: Speed up docset/filter generation by avoiding top-level
score() call and iterating over leaf readers with TermDocs.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1169">SOLR-1169</a>: SortedIntDocSet - a new small set implementation
that saves memory over HashDocSet, is faster to construct,
is ordered for easier implementation of skipTo, and is faster
in the general case.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1165">SOLR-1165</a>: Use Lucene Filters and pass them down to the Lucene
search methods to filter earlier and improve performance.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1111">SOLR-1111</a>: Use per-segment sorting to share fieldcache elements
across unchanged segments.  This saves memory and reduces
commit times for incremental updates to the index.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1188">SOLR-1188</a>: Minor efficiency improvement in TermVectorComponent related to ignoring positions or offsets
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1150">SOLR-1150</a>: Load Documents for Highlighting one at a time rather than
all at once to avoid OOM with many large Documents.
<br /><span class="attrib">(Siddharth Gargate via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1353">SOLR-1353</a>: Implement and use reusable token streams for analysis.
<br /><span class="attrib">(Robert Muir, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1296">SOLR-1296</a>: Enables setting IndexReader's termInfosIndexDivisor via a new attribute to StandardIndexReaderFactory.  Enables
setting termIndexInterval to IndexWriter via SolrIndexConfig.
<br /><span class="attrib">(Jason Rutherglen, hossman, gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-846">SOLR-846</a>: DIH: Reduce memory consumption during delta import by removing
keys when used
<br /><span class="attrib">(Ricky Leung, Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-974">SOLR-974</a>: DataImportHandler skips commit if no data has been updated.
<br /><span class="attrib">(Wojtek Piaseczny, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1004">SOLR-1004</a>: DIH: Check for abort more frequently during delta-imports.
<br /><span class="attrib">(Marc Sturlese, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1098">SOLR-1098</a>: DIH DateFormatTransformer can cache the format objects.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1465">SOLR-1465</a>: Replaced string concatenations with StringBuilder append
calls in DIH XPathRecordReader.
<br /><span class="attrib">(Mark Miller, shalin)</span></li>
    </ol>
  </li>
  <li><a id="1.4.0.bug_fixes" href="javascript:toggleList('1.4.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(105)
    <ol id="1.4.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-774">SOLR-774</a>: Fixed logging level display
<br /><span class="attrib">(Sean Timm via Otis Gospodnetic)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-771">SOLR-771</a>: CoreAdminHandler STATUS should display 'normalized' paths
<br /><span class="attrib">(koji, hossman, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-532">SOLR-532</a>: WordDelimiterFilter now respects payloads and other attributes of the original Token by
using Token.clone()
<br /><span class="attrib">(Tricia Williams, gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-805">SOLR-805</a>: DisMax queries are not being cached in QueryResultCache
<br /><span class="attrib">(Todd Feak via koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-751">SOLR-751</a>: WordDelimiterFilter didn't adjust the start offset of single
tokens that started with delimiters, leading to incorrect highlighting.
<br /><span class="attrib">(Stefan Oestreicher via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-843">SOLR-843</a>: SynonymFilterFactory cannot handle multiple synonym files correctly
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-840">SOLR-840</a>: BinaryResponseWriter does not handle incompatible data in fields
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-803">SOLR-803</a>: CoreAdminRequest.createCore fails because name parameter isn't set
<br /><span class="attrib">(Sean Colombo via ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-869">SOLR-869</a>: Fix file descriptor leak in SolrResourceLoader#getLines
<br /><span class="attrib">(Mark Miller, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-872">SOLR-872</a>: Better error message for incorrect copyField destination
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-879">SOLR-879</a>: Enable position increments in the query parser and fix the
example schema to enable position increments for the stop filter in
both the index and query analyzers to fix the bug with phrase queries
with stopwords.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-836">SOLR-836</a>: Add missing "a" to the example stopwords.txt
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-892">SOLR-892</a>: Fix serialization of booleans for PHPSerializedResponseWriter
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-898">SOLR-898</a>: Fix null pointer exception for the JSON response writer
based formats when nl.json=arrarr with null keys.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-901">SOLR-901</a>: FastOutputStream ignores write(byte[]) call.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-807">SOLR-807</a>: BinaryResponseWriter writes fieldType.toExternal if it is not a supported type,
otherwise it writes fieldType.toObject. This fixes the bug with encoding/decoding UUIDField.
<br /><span class="attrib">(koji, Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-863">SOLR-863</a>: SolrCore.initIndex should close the directory it gets for clearing the lock and
use the DirectoryFactory.
<br /><span class="attrib">(Mark Miller via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-802">SOLR-802</a>: Fix a potential null pointer error in the distributed FacetComponent
<br /><span class="attrib">(David Bowen via ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-346">SOLR-346</a>: Use perl regex to improve accuracy of finding latest snapshot in snapinstaller
<br /><span class="attrib">(billa)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-830">SOLR-830</a>: Use perl regex to improve accuracy of finding latest snapshot in snappuller
<br /><span class="attrib">(billa)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-897">SOLR-897</a>: Fixed Argument list too long error when there are lots of snapshots/backups
<br /><span class="attrib">(Dan Rosher via billa)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-925">SOLR-925</a>: Fixed highlighting on fields with multiValued="true" and termOffsets="true"
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-902">SOLR-902</a>: FastInputStream#read(byte b[], int off, int len) gives incorrect results when amount left to read is less
than buffer size
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-978">SOLR-978</a>: Old files are not removed from slaves after replication
<br /><span class="attrib">(Jaco, Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-883">SOLR-883</a>: Implicit properties are not set for Cores created through CoreAdmin
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-991">SOLR-991</a>: Better error message when parsing solrconfig.xml fails due to malformed XML. Error message notes the name
of the file being parsed.
<br /><span class="attrib">(Michael Henson via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1008">SOLR-1008</a>: Fix stats.jsp XML encoding for &lt;stat&gt; item entries with ampersands in their names.
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-976">SOLR-976</a>: deleteByQuery is ignored when deleteById is placed prior to deleteByQuery in a &lt;delete&gt;.
Now both delete by id and delete by query can be specified at the same time as follows.
  &lt;delete&gt;
    &lt;id&gt;05991&lt;/id&gt;&lt;id&gt;06000&lt;/id&gt;
    &lt;query&gt;office:Bridgewater&lt;/query&gt;&lt;query&gt;office:Osaka&lt;/query&gt;
  &lt;/delete&gt;
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1016">SOLR-1016</a>: HTTP 503 error changes 500 in SolrCore
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1015">SOLR-1015</a>: Incomplete information in replication admin page and http command response when server
is both master and slave i.e. when server is a repeater
<br /><span class="attrib">(Akshay Ukey via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1018">SOLR-1018</a>: Slave is unable to replicate when server acts as repeater (as both master and slave)
<br /><span class="attrib">(Akshay Ukey, Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1031">SOLR-1031</a>: Fix XSS vulnerability in schema.jsp
<br /><span class="attrib">(Paul Lovvik via ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1064">SOLR-1064</a>: registry.jsp incorrectly displaying info for last core initialized
regardless of what the current core is.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1072">SOLR-1072</a>: absolute paths used in sharedLib attribute were
incorrectly treated as relative paths.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1104">SOLR-1104</a>: Fix some rounding errors in LukeRequestHandler's histogram
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1125">SOLR-1125</a>: Use query analyzer rather than index analyzer for queryFieldType in QueryElevationComponent
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1126">SOLR-1126</a>: Replicated files have incorrect timestamp
<br /><span class="attrib">(Jian Han Guo, Jeff Newburn, Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1094">SOLR-1094</a>: Incorrect value of correctlySpelled attribute in some cases
<br /><span class="attrib">(David Smiley, Mark Miller via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-965">SOLR-965</a>: Better error message when &lt;pingQuery&gt; is not configured.
<br /><span class="attrib">(Mark Miller via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1135">SOLR-1135</a>: Java replication creates Snapshot in the directory where Solr was launched
<br /><span class="attrib">(Jianhan Guo via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1138">SOLR-1138</a>: Query Elevation Component now gracefully handles missing queries.
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-929">SOLR-929</a>: LukeRequestHandler should return "dynamicBase" only if the field is dynamic.
<br /><span class="attrib">(Peter Wolanin, koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1141">SOLR-1141</a>: NullPointerException during snapshoot command in java based replication
<br /><span class="attrib">(Jian Han Guo, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1078">SOLR-1078</a>: Fixes to WordDelimiterFilter to avoid splitting or dropping
international non-letter characters such as non spacing marks.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-825">SOLR-825</a>, <a href="http://issues.apache.org/jira/browse/SOLR-1221">SOLR-1221</a>: Enables highlighting for range/wildcard/fuzzy/prefix queries if using hl.usePhraseHighlighter=true
and hl.highlightMultiTerm=true. Also make both options default to true.
<br /><span class="attrib">(Mark Miller, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1174">SOLR-1174</a>: Fix Logging admin form submit url for multicore.
<br /><span class="attrib">(Jacob Singh via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1182">SOLR-1182</a>: Fix bug in OrdFieldSource#equals which could cause a bug with OrdFieldSource caching
           on OrdFieldSource#hashcode collisions.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1207">SOLR-1207</a>: equals method should compare this and other of DocList in DocSetBase
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1242">SOLR-1242</a>: Human readable JVM info from system handler does integer cutoff rounding, even when dealing
           with GB. Fixed to round to one decimal place.
<br /><span class="attrib">(Jay Hill, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1243">SOLR-1243</a>: Admin RequestHandlers should not be cached over HTTP.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1260">SOLR-1260</a>: Fix implementations of set operations for DocList subclasses
and fix a bug in HashDocSet construction when offset != 0.  These bugs
never manifested in normal Solr use and only potentially affect
custom code.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1171">SOLR-1171</a>: Fix LukeRequestHandler so it doesn't rely on SolrQueryParser
and report incorrect stats when field names contain characters
SolrQueryParser considers special.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1317">SOLR-1317</a>: Fix CapitalizationFilterFactory to work when keep parameter is not specified.
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1342">SOLR-1342</a>: CapitalizationFilterFactory uses incorrect term length calculations.
<br /><span class="attrib">(Robert Muir via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1359">SOLR-1359</a>: DoubleMetaphoneFilter didn't index original tokens if there was no
alternative, and could incorrectly skip or reorder tokens.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1360">SOLR-1360</a>: Prevent PhoneticFilter from producing duplicate tokens.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1371">SOLR-1371</a>: LukeRequestHandler/schema.jsp errored if schema had no
uniqueKey field.  The new test for this also (hopefully) adds some
future proofing against similar bugs in the future.  As a side
effect QueryElevationComponentTest was refactored, and a bug in
that test was found.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-914">SOLR-914</a>: General finalize() improvements.  No finalizer delegates
to the respective close/destroy method w/o first checking if it's
already been closed/destroyed; if it hasn't a, SEVERE error is
logged first.
<br /><span class="attrib">(noble, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1362">SOLR-1362</a>: WordDelimiterFilter had inconsistent behavior when setting
the position increment of tokens following a token consisting of all
delimiters, and could additionally lose big position increments.
<br /><span class="attrib">(Robert Muir, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1091">SOLR-1091</a>: Jetty's use of CESU-8 for code points outside the BMP
resulted in invalid output from the serialized PHP writer.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1103">SOLR-1103</a>: LukeRequestHandler (and schema.jsp) have been fixed to
include the "1" (ie: 2**0) bucket in the term histogram data.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1398">SOLR-1398</a>: Add offset corrections in PatternTokenizerFactory.
<br /><span class="attrib">(Anders Melchiorsen, koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1400">SOLR-1400</a>: Properly handle zero-length tokens in TrimFilter.  This
was not a bug in any released version.
<br /><span class="attrib">(Peter Wolanin, gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1071">SOLR-1071</a>: spellcheck.extendedResults returns an invalid JSON response
when count &gt; 1.  To fix, the extendedResults format was changed.
<br /><span class="attrib">(Uri Boness, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1381">SOLR-1381</a>: Fixed improper handling of fields that have only term positions and not term offsets during Highlighting
<br /><span class="attrib">(Thorsten Fischer, gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1427">SOLR-1427</a>: Fixed registry.jsp issue with MBeans
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1468">SOLR-1468</a>: SolrJ's XML response parsing threw an exception for null
 names, such as those produced when facet.missing=true
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1471">SOLR-1471</a>: Fixed issue with calculating missing values for facets in single valued cases in Stats Component.
  This is not correctly calculated for the multivalued case.
<br /><span class="attrib">(James Miller, gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1481">SOLR-1481</a>: Fixed omitHeader parameter for PHP ResponseWriter.
<br /><span class="attrib">(Jun Ohtani via billa)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1448">SOLR-1448</a>: Add weblogic.xml to solr webapp to enable correct operation in
WebLogic.
<br /><span class="attrib">(Ilan Rabinovitch via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1504">SOLR-1504</a>: empty char mapping can cause ArrayIndexOutOfBoundsException in analysis.jsp and co.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1394">SOLR-1394</a>: HTMLStripCharFilter split tokens that contained entities and
often calculated offsets incorrectly for entities.
<br /><span class="attrib">(Anders Melchiorsen via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1517">SOLR-1517</a>: Admin pages could stall waiting for localhost name resolution
if reverse DNS wasn't configured; this was changed so the DNS resolution
is attempted only once the first time an admin page is loaded.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1529">SOLR-1529</a>: More than 8 deleteByQuery commands in a single request
caused an error to be returned, although the deletes were
still executed.
<br /><span class="attrib">(asmodean via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-800">SOLR-800</a>: Deep copy collections to avoid ConcurrentModificationException
in XPathEntityprocessor while streaming
<br /><span class="attrib">(Kyle Morrison, Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-823">SOLR-823</a>: Request parameter variables ${dataimporter.request.xxx} are not
resolved in DIH
<br /><span class="attrib">(Mck SembWever, Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-728">SOLR-728</a>: Add synchronization to avoid race condition of multiple DIH
imports working concurrently
<br /><span class="attrib">(Walter Ferrara, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-742">SOLR-742</a>: Add ability to create dynamic fields with custom
DataImportHandler transformers
<br /><span class="attrib">(Wojtek Piaseczny, Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-832">SOLR-832</a>: Rows parameter is not honored in DIH non-debug mode and can
abort a running import in debug mode.
<br /><span class="attrib">(Akshay Ukey, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-838">SOLR-838</a>: The DIH VariableResolver obtained from a DataSource's context
does not have current data.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-864">SOLR-864</a>: DataImportHandler does not catch and log Errors
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-873">SOLR-873</a>: Fix case-sensitive field names and columns
<br /><span class="attrib">(Jon Baer, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-893">SOLR-893</a>: Unable to delete documents via SQL and deletedPkQuery with
deltaimport
<br /><span class="attrib">(Dan Rosher via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-888">SOLR-888</a>: DIH DateFormatTransformer cannot convert non-string type
<br /><span class="attrib">(Amit Nithian via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-841">SOLR-841</a>: DataImportHandler should throw exception if a field does not
have column attribute
<br /><span class="attrib">(Michael Henson, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-884">SOLR-884</a>: CachedSqlEntityProcessor should check if the cache key is
present in the query results
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-985">SOLR-985</a>: Fix thread-safety issue with DIH TemplateString for concurrent
imports with multiple cores.
<br /><span class="attrib">(Ryuuichi Kumai via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-999">SOLR-999</a>: DIH XPathRecordReader fails on XMLs with nodes mixed with
CDATA content.
<br /><span class="attrib">(Fergus McMenemie, Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1000">SOLR-1000</a>: DIH FileListEntityProcessor should not apply fileName filter to
directory names.
<br /><span class="attrib">(Fergus McMenemie via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1009">SOLR-1009</a>: Repeated column names result in duplicate values.
<br /><span class="attrib">(Fergus McMenemie, Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1017">SOLR-1017</a>: Fix DIH thread-safety issue with last_index_time for concurrent
imports in multiple cores due to unsafe usage of SimpleDateFormat by
multiple threads.
<br /><span class="attrib">(Ryuuichi Kumai via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1024">SOLR-1024</a>: Calling abort on DataImportHandler import commits data instead
of calling rollback.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1037">SOLR-1037</a>: DIH should not add null values in a row returned by
EntityProcessor to documents.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1040">SOLR-1040</a>: DIH XPathEntityProcessor fails with an xpath like
/feed/entry/link[@type='text/html']/@href
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1042">SOLR-1042</a>: Fix memory leak in DIH by making TemplateString non-static
member in VariableResolverImpl
<br /><span class="attrib">(Ryuuichi Kumai via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1053">SOLR-1053</a>: IndexOutOfBoundsException in DIH SolrWriter.getResourceAsString
when size of data-config.xml is a multiple of 1024 bytes.
<br /><span class="attrib">(Herb Jiang via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1077">SOLR-1077</a>: IndexOutOfBoundsException with useSolrAddSchema in DIH
XPathEntityProcessor.
<br /><span class="attrib">(Sam Keen, Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1080">SOLR-1080</a>: DIH RegexTransformer should not replace if regex is not matched.
<br /><span class="attrib">(Noble Paul, Fergus McMenemie via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1090">SOLR-1090</a>: DataImportHandler should load the data-config.xml using UTF-8
encoding.
<br /><span class="attrib">(Rui Pereira, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1146">SOLR-1146</a>: ConcurrentModificationException in DataImporter.getStatusMessages
<br /><span class="attrib">(Walter Ferrara, Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1229">SOLR-1229</a>: Fixes for DIH deletedPkQuery, particularly when using
transformed Solr unique id's
<br /><span class="attrib">(Lance Norskog, Noble Paul via ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1286">SOLR-1286</a>: Fix the IH commit parameter always defaulting to "true" even
if "false" is explicitly passed in.
<br /><span class="attrib">(Jay Hill, Noble Paul via ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1323">SOLR-1323</a>: Reset XPathEntityProcessor's $hasMore/$nextUrl when fetching
next URL
<br /><span class="attrib">(noble, ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1450">SOLR-1450</a>: DIH: Jdbc connection properties such as batchSize are not
applied if the driver jar is placed in solr_home/lib.
<br /><span class="attrib">(Steve Sun via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1474">SOLR-1474</a>: DIH Delta-import should run even if last_index_time is not set.
<br /><span class="attrib">(shalin)</span></li>
    </ol>
  </li>
  <li><a id="1.4.0.other_changes" href="javascript:toggleList('1.4.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(64)
    <ol id="1.4.0.other_changes.list">
      <li>Upgraded to Lucene 2.4.0
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-805">SOLR-805</a>: Upgraded to Lucene 2.9-dev (r707499)
<br /><span class="attrib">(koji)</span></li>
      <li>DumpRequestHandler (/debug/dump): changed 'fieldName' to 'sourceInfo'.
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-852">SOLR-852</a>: Refactored common code in CSVRequestHandler and XMLUpdateRequestHandler
<br /><span class="attrib">(gsingers, ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-871">SOLR-871</a>: Removed dependency on stax-utils.jar.  If you using solr.jar and running
java 6, you can also remove woodstox and geronimo.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-465">SOLR-465</a>: Upgraded to Lucene 2.9-dev (r719351)
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-889">SOLR-889</a>: Upgraded to commons-io-1.4.jar and commons-fileupload-1.2.1.jar
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-875">SOLR-875</a>: Upgraded to Lucene 2.9-dev (r723985) and consolidated the BitSet implementations
<br /><span class="attrib">(Michael Busch, gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-819">SOLR-819</a>: Upgraded to Lucene 2.9-dev (r724059) to get access to Arabic public constructors
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-900">SOLR-900</a>: Moved solrj into /src/solrj.  The contents of solr-common.jar is now included
in the solr-solrj.jar.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-924">SOLR-924</a>: Code cleanup: make all existing finalize() methods call
super.finalize() in a finally block.  All current instances extend
Object, so this doesn't fix any bugs, but helps protect against
future changes.
<br /><span class="attrib">(Kay Kay via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-885">SOLR-885</a>: NamedListCodec is renamed to JavaBinCodec and returns Object instead of NamedList.
<br /><span class="attrib">(Noble Paul, yonik via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-84">SOLR-84</a>: Use new Solr logo in admin
<br /><span class="attrib">(Michiel via koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-981">SOLR-981</a>: groupId for Woodstox dependency in maven solrj changed to org.codehaus.woodstox
<br /><span class="attrib">(Tim Taranov via shalin)</span></li>
      <li>Upgraded to Lucene 2.9-dev r738218
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-959">SOLR-959</a>: Refactored TestReplicationHandler to remove hardcoded port numbers
<br /><span class="attrib">(hossman, Akshay Ukey via shalin)</span></li>
      <li>Upgraded to Lucene 2.9-dev r742220
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1022">SOLR-1022</a>: Better "ignored" field in example schema.xml
<br /><span class="attrib">(Peter Wolanin via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-967">SOLR-967</a>: New type-safe constructor for NamedList
<br /><span class="attrib">(Kay Kay via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1036">SOLR-1036</a>: Change default QParser from "lucenePlusSort" to "lucene" to
reduce confusion of semicolon splitting behavior when no sort param is
specified
<br /><span class="attrib">(hossman)</span></li>
      <li>Upgraded to Lucene 2.9-dev r752164
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1068">SOLR-1068</a>: Use fsync on replicated index and configuration files
<br /><span class="attrib">(yonik, Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-952">SOLR-952</a>: Cleanup duplicated code in deprecated HighlightingUtils
<br /><span class="attrib">(hossman)</span></li>
      <li>Upgraded to Lucene 2.9-dev r764281
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1079">SOLR-1079</a>:  Rename omitTf to omitTermFreqAndPositions
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-804">SOLR-804</a>: Added Lucene's misc contrib JAR (rev 764281).
<br /><span class="attrib">(gsingers)</span></li>
      <li>Upgraded to Lucene 2.9-dev r768228
<br /><span class="attrib">(shalin)</span></li>
      <li>Upgraded to Lucene 2.9-dev r768336
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-997">SOLR-997</a>: Wait for a longer time for slave to complete replication in TestReplicationHandler
<br /><span class="attrib">(Mark Miller via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-748">SOLR-748</a>: FacetComponent helper classes are made public as an experimental API.
<br /><span class="attrib">(Wojtek Piaseczny via shalin)</span></li>
      <li>Upgraded to Lucene 2.9-dev 773862
<br /><span class="attrib">(Mark Miller)</span></li>
      <li>Upgraded to Lucene 2.9-dev r776177
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1149">SOLR-1149</a>: Made QParserPlugin and related classes extendible as an experimental API.
<br /><span class="attrib">(Kaktu Chakarabati via shalin)</span></li>
      <li>Upgraded to Lucene 2.9-dev r779312
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-786">SOLR-786</a>: Refactor DisMaxQParser to allow overriding certain features of DisMaxQParser
<br /><span class="attrib">(Wojciech Biela via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-458">SOLR-458</a>: Add equals and hashCode methods to NamedList
<br /><span class="attrib">(Stefan Rinner, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1184">SOLR-1184</a>: Add option in solrconfig to open a new IndexReader rather than
using reopen. Done mainly as a fail-safe in the case that a user runs into
a reopen bug/issue.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1215">SOLR-1215</a> use double quotes to enclose attributes in solr.xml
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1151">SOLR-1151</a>: add dynamic copy field and maxChars example to example schema.xml.
<br /><span class="attrib">(Peter Wolanin, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1233">SOLR-1233</a>: remove /select?qt=/whatever restriction on /-prefixed request handlers.
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1257">SOLR-1257</a>: logging.jsp has been removed and now passes through to the
hierarchical log level tool added in Solr 1.3.  Users still
hitting "/admin/logging.jsp" should switch to "/admin/logging".
<br /><span class="attrib">(hossman)</span></li>
      <li>Upgraded to Lucene 2.9-dev r794238. Other changes include:
<ul class="bulleted-list">
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/LUCENE-1614">LUCENE-1614</a> - Use Lucene's DocIdSetIterator.NO_MORE_DOCS as the sentinel value.
</li>
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/LUCENE-1630">LUCENE-1630</a> - Add acceptsDocsOutOfOrder method to Collector implementations.
</li>
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/LUCENE-1673">LUCENE-1673</a>, <a href="http://issues.apache.org/jira/browse/LUCENE-1701">LUCENE-1701</a> - Trie has moved to Lucene core and renamed to NumericRangeQuery.
</li>
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/LUCENE-1662">LUCENE-1662</a>, <a href="http://issues.apache.org/jira/browse/LUCENE-1687">LUCENE-1687</a> - Replace usage of ExtendedFieldCache by FieldCache.
</li>
</ul><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1241">SOLR-1241</a>: Solr's CharFilter has been moved to Lucene. Remove CharFilter and related classes
from Solr and use Lucene's corresponding code
<br /><span class="attrib">(koji via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1261">SOLR-1261</a>: Lucene trunk renamed RangeQuery &amp; Co to TermRangeQuery
<br /><span class="attrib">(Uwe Schindler via shalin)</span></li>
      <li>Upgraded to Lucene 2.9-dev r801856
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1276">SOLR-1276</a>: Added StatsComponentTest
<br /><span class="attrib">(Rafał Kuć, gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1377">SOLR-1377</a>:  The TokenizerFactory API has changed to explicitly return a Tokenizer
rather then a TokenStream (that may be or may not be a Tokenizer).  This change
is required to take advantage of the Token reuse improvements in lucene 2.9.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1410">SOLR-1410</a>: Log a warning if the deprecated charset option is used
on GreekLowerCaseFilterFactory, RussianStemFilterFactory,
RussianLowerCaseFilterFactory or RussianLetterTokenizerFactory.
<br /><span class="attrib">(Robert Muir via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1423">SOLR-1423</a>: Due to <a href="http://issues.apache.org/jira/browse/LUCENE-1906">LUCENE-1906</a>, Solr's tokenizer should use Tokenizer.correctOffset() instead of CharStream.correctOffset().
<br /><span class="attrib">(Uwe Schindler via koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1319">SOLR-1319</a>, <a href="http://issues.apache.org/jira/browse/SOLR-1345">SOLR-1345</a>: Upgrade Solr Highlighter classes to new Lucene Highlighter API. This upgrade has
resulted in a back compat break in the DefaultSolrHighlighter class - getQueryScorer is no longer
protected. If you happened to be overriding that method in custom code, overide getHighlighter instead.
Also, HighlightingUtils#getQueryScorer has been removed as it was deprecated and backcompat has been
broken with it anyway.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1357">SOLR-1357</a> SolrInputDocument cannot process dynamic fields
<br /><span class="attrib">(Lars Grote via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1075">SOLR-1075</a>: Upgrade to Tika 0.3.  See <a href="http://www.apache.org/dist/lucene/tika/CHANGES-0.3.txt">http://www.apache.org/dist/lucene/tika/CHANGES-0.3.txt</a>
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1310">SOLR-1310</a>: Upgrade to Tika 0.4. Note there are some differences in
detecting Languages now in extracting request handler.
See <a href="http://www.lucidimagination.com/search/document/d6f1899a85b2a45c/vote_apache_tika_0_4_release_candidate_2#d6f1899a85b2a45c">http://www.lucidimagination.com/search/document/d6f1899a85b2a45c/vote_apache_tika_0_4_release_candidate_2#d6f1899a85b2a45c</a>
for discussion on language detection.
See <a href="http://www.apache.org/dist/lucene/tika/CHANGES-0.4.txt.">http://www.apache.org/dist/lucene/tika/CHANGES-0.4.txt.</a>
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-782">SOLR-782</a>: DIH: Refactored SolrWriter to make it a concrete class and
removed wrappers over SolrInputDocument.  Refactored to load Evaluators
lazily. Removed multiple document nodes in the configuration xml. Removed
support for 'default' variables, they are automatically available as
request parameters.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-964">SOLR-964</a>: DIH: XPathEntityProcessor now ignores DTD validations
<br /><span class="attrib">(Fergus McMenemie, Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1029">SOLR-1029</a>: DIH: Standardize Evaluator parameter parsing and added helper
functions for parsing all evaluator parameters in a standard way.
<br /><span class="attrib">(Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1081">SOLR-1081</a>: Change DIH EventListener to be an interface so that components
such as an EntityProcessor or a Transformer can act as an event listener.
<br /><span class="attrib">(Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1027">SOLR-1027</a>: DIH: Alias the 'dataimporter' namespace to a shorter name 'dih'.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1084">SOLR-1084</a>: Better error reporting when DIH entity name is a reserved word
and data-config.xml root node is not &lt;dataConfig&gt;.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1087">SOLR-1087</a>: Deprecate 'where' attribute in CachedSqlEntityProcessor in
favor of cacheKey and cacheLookup.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-969">SOLR-969</a>: Change the FULL_DUMP, DELTA_DUMP, FIND_DELTA constants in DIH
Context to String.  Change Context.currentProcess() to return a string
instead of an integer.
<br /><span class="attrib">(Kay Kay, Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1120">SOLR-1120</a>: Simplified DIH EntityProcessor API by moving logic for applying
transformers and handling multi-row outputs from Transformers into an
EntityProcessorWrapper class. The behavior of the method
EntityProcessor#destroy has been modified to be called once per parent-row
at the end of row. A new method EntityProcessor#close is added which is
called at the end of import. A new method
Context#getResolvedEntityAttribute is added which returns the resolved
value of an entity's attribute. Introduced a DocWrapper which takes care
of maintaining document level session variables.
<br /><span class="attrib">(Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1265">SOLR-1265</a>: Add DIH variable resolving for URLDataSource properties like
baseUrl.
<br /><span class="attrib">(Chris Eldredge via ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1269">SOLR-1269</a>: Better error messages from DIH JdbcDataSource when JDBC Driver
name or SQL is incorrect.
<br /><span class="attrib">(ehatcher, shalin)</span></li>
    </ol>
  </li>
  <li><a id="1.4.0.build" href="javascript:toggleList('1.4.0.build')">Build</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="1.4.0.build.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-776">SOLR-776</a>: Added in ability to sign artifacts via Ant for releases
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-854">SOLR-854</a>: Added run-example target
<br /><span class="attrib">(Mark Miller via ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1054">SOLR-1054</a>:Fix dist-src target for DataImportHandler
<br /><span class="attrib">(Ryuuichi Kumai via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1219">SOLR-1219</a>: Added proxy.setup target
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1386">SOLR-1386</a>: In build.xml, use longfile="gnu" in tar task to avoid warnings about long file names
<br /><span class="attrib">(Mark Miller via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1441">SOLR-1441</a>: Make it possible to run all tests in a package
<br /><span class="attrib">(shalin)</span></li>
    </ol>
  </li>
  <li><a id="1.4.0.documentation" href="javascript:toggleList('1.4.0.documentation')">Documentation</a>&nbsp;&nbsp;&nbsp;(4)
    <ol id="1.4.0.documentation.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-789">SOLR-789</a>: The javadoc of RandomSortField is not readable
<br /><span class="attrib">(Nicolas Lalevée via koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-962">SOLR-962</a>: Note about null handling in ModifiableSolrParams.add javadoc
<br /><span class="attrib">(Kay Kay via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1409">SOLR-1409</a>: Added Solr Powered By Logos
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1369">SOLR-1369</a>: Add HSQLDB Jar to example-DIH, unzip database and update
instructions.
</li>
    </ol>
  </li>
</ul>
<h3><a id="1.3.0" href="javascript:toggleList('1.3.0')">Release 1.3.0  [2008-09-16]</a></h3>
<ul id="1.3.0.list">
  <li><a id="1.3.0.upgrading_from_solr_1.2" href="javascript:toggleList('1.3.0.upgrading_from_solr_1.2')">Upgrading from Solr 1.2</a>&nbsp;&nbsp;&nbsp;(8)
    <ol id="1.3.0.upgrading_from_solr_1.2.list">
      <li>IMPORTANT UPGRADE NOTE: In a master/slave configuration, all searchers/slaves
should be upgraded before the master!  If the master were to be updated
first, the older searchers would not be able to read the new index format.
</li>
      <li>The Porter snowball based stemmers in Lucene were updated (<a href="http://issues.apache.org/jira/browse/LUCENE-1142">LUCENE-1142</a>),
and are not guaranteed to be backward compatible at the index level
(the stem of certain words may have changed).  Re-indexing is recommended.
</li>
      <li>Older Apache Solr installations can be upgraded by replacing
the relevant war file with the new version.  No changes to configuration
files should be needed.
</li>
      <li>This version of Solr contains a new version of Lucene implementing
an updated index format.  This version of Solr/Lucene can still read
and update indexes in the older formats, and will convert them to the new
format on the first index change.  Be sure to backup your index before
upgrading in case you need to downgrade.
</li>
      <li>Solr now recognizes HTTP Request headers related to HTTP Caching (see
RFC 2616 sec13) and will by default respond with "304 Not Modified"
when appropriate.  This should only affect users who access Solr via
an HTTP Cache, or via a Web-browser that has an internal cache, but if
you wish to suppress this behavior an '&lt;httpCaching never304="true"/&gt;'
option can be added to your solrconfig.xml.  See the wiki (or the
example solrconfig.xml) for more details...
   <a href="http://wiki.apache.org/solr/SolrConfigXml#HTTPCaching">http://wiki.apache.org/solr/SolrConfigXml#HTTPCaching</a>
</li>
      <li>In Solr 1.2, DateField did not enforce the canonical representation of
the ISO 8601 format when parsing incoming data, and did not generation
the canonical format when generating dates from "Date Math" strings
(particularly as it pertains to milliseconds ending in trailing zeros).
As a result equivalent dates could not always be compared properly.
This problem is corrected in Solr 1.3, but DateField users that might
have been affected by indexing inconsistent formats of equivilent
dates (ie: 1995-12-31T23:59:59Z vs 1995-12-31T23:59:59.000Z) may want
to consider reindexing to correct these inconsistencies.  Users who
depend on some of the the "broken" behavior of DateField in Solr 1.2
(specificly: accepting any input that ends in a 'Z') should consider
using the LegacyDateField class as a possible alternative.  Users that
desire 100% backwards compatibility should consider using the Solr 1.2
version of DateField.
</li>
      <li>Due to some changes in the lifecycle of TokenFilterFactories, users of
Solr 1.2 who have written Java code which constructs new instances of
StopFilterFactory, SynonymFilterFactory, or EnglishProterFilterFactory
will need to modify their code by adding a line like the following
prior to using the factory object...
  factory.inform(SolrCore.getSolrCore().getSolrConfig().getResourceLoader());
These lifecycle changes do not affect people who use Solr "out of the
box" or who have developed their own TokenFilterFactory plugins. More
info can be found in <a href="http://issues.apache.org/jira/browse/SOLR-594">SOLR-594</a>.
</li>
      <li>The python client that used to ship with Solr is no longer included in
the distribution (see client/python/README.txt).
</li>
    </ol>
  </li>
  <h4>Detailed Change List</h4>
  <li><a id="1.3.0.new_features" href="javascript:toggleList('1.3.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(73)
    <ol id="1.3.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-69">SOLR-69</a>: Adding MoreLikeThisHandler to search for similar documents using
lucene contrib/queries MoreLikeThis.  MoreLikeThis is also available from
the StandardRequestHandler using ?mlt=true.
<br /><span class="attrib">(bdelacretaz, ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-253">SOLR-253</a>: Adding KeepWordFilter and KeepWordFilterFactory.  A TokenFilter
that keeps tokens with text in the registered keeplist.  This behaves like
the inverse of StopFilter.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-257">SOLR-257</a>: WordDelimiterFilter has a new parameter splitOnCaseChange,
which can be set to 0 to disable splitting "PowerShot" =&gt; "Power" "Shot".
<br /><span class="attrib">(klaas)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-193">SOLR-193</a>: Adding SolrDocument and SolrInputDocument to represent documents
outside of the lucene Document infrastructure.  This class will be used
by clients and for processing documents.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-244">SOLR-244</a>: Added ModifiableSolrParams - a SolrParams implementation that
help you change values after initialization.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-20">SOLR-20</a>: Added a java client interface with two implementations.  One
implementation uses commons httpclient to connect to solr via HTTP.  The
other connects to solr directly.  Check client/java/solrj.  This addition
also includes tests that start jetty and test a connection using the full
HTTP request cycle.
<br /><span class="attrib">(Darren Erik Vengroff, Will Johnson, ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-133">SOLR-133</a>: Added StaxUpdateRequestHandler that uses StAX for XML parsing.
This implementation has much better error checking and lets you configure
a custom UpdateRequestProcessor that can selectively process update
requests depending on the request attributes.  This class will likely
replace XmlUpdateRequestHandler.
<br /><span class="attrib">(Thorsten Scherler, ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-264">SOLR-264</a>: Added RandomSortField, a utility field with a random sort order.
The seed is based on a hash of the field name, so a dynamic field
of this type is useful for generating different random sequences.
This field type should only be used for sorting or as a value source
in a FunctionQuery
<br /><span class="attrib">(ryan, hossman, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-266">SOLR-266</a>: Adding show=schema to LukeRequestHandler to show the parsed
schema fields and field types.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-133">SOLR-133</a>: The UpdateRequestHandler now accepts multiple delete options
within a single request.  For example, sending:
 &lt;delete&gt;&lt;id&gt;1&lt;/id&gt;&lt;id&gt;2&lt;/id&gt;&lt;/delete&gt; will delete both 1 and 2.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-269">SOLR-269</a>: Added UpdateRequestProcessor plugin framework.  This provides
a reasonable place to process documents after they are parsed and
before they are committed to the index.  This is a good place for custom
document manipulation or document based authorization.
<br /><span class="attrib">(yonik, ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-260">SOLR-260</a>: Converting to a standard PluginLoader framework.  This reworks
RequestHandlers, FieldTypes, and QueryResponseWriters to share the same
base code for loading and initializing plugins.  This adds a new
configuration option to define the default RequestHandler and
QueryResponseWriter in XML using default="true".
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-225">SOLR-225</a>: Enable pluggable highlighting classes.  Allow configurable
highlighting formatters and Fragmenters.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-273">SOLR-273</a>/376/452/516: Added hl.maxAnalyzedChars highlighting parameter, defaulting
to 50k, hl.alternateField, which allows the specification of a backup
field to use as summary if no keywords are matched, and hl.mergeContiguous,
which combines fragments if they are adjacent in the source document.
<br /><span class="attrib">(klaas, Grant Ingersoll, Koji Sekiguchi via klaas)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-291">SOLR-291</a>: Control maximum number of documents to cache for any entry
in the queryResultCache via queryResultMaxDocsCached solrconfig.xml
entry.
<br /><span class="attrib">(Koji Sekiguchi via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-240">SOLR-240</a>: New &lt;lockType&gt; configuration setting in &lt;mainIndex&gt; and
&lt;indexDefaults&gt; blocks supports all Lucene builtin LockFactories.
'single' is recommended setting, but 'simple' is default for total
backwards compatibility.
<br /><span class="attrib">(Will Johnson via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-248">SOLR-248</a>: Added CapitalizationFilterFactory that creates tokens with
normalized capitalization.  This filter is useful for facet display,
but will not work with a prefix query.  (ryan)
<a href="http://issues.apache.org/jira/browse/SOLR-468">SOLR-468</a>: Change to the semantics to keep the original token, not the
token in the Map.  Also switched to use Lucene's new reusable token
capabilities.
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-307">SOLR-307</a>: Added NGramFilterFactory and EdgeNGramFilterFactory.
<br /><span class="attrib">(Thomas Peuss via Otis Gospodnetic)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-305">SOLR-305</a>: analysis.jsp can be given a fieldtype instead of a field
name.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-102">SOLR-102</a>: Added RegexFragmenter, which splits text for highlighting
based on a given pattern.
<br /><span class="attrib">(klaas)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-258">SOLR-258</a>: Date Faceting added to SimpleFacets.  Facet counts
computed for ranges of size facet.date.gap (a DateMath expression)
between facet.date.start and facet.date.end.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-196">SOLR-196</a>: A PHP serialized "phps" response writer that returns a
serialized array that can be used with the PHP function unserialize,
and a PHP response writer "php" that may be used by eval.
<br /><span class="attrib">(Nick Jenkin, Paul Borgermans, Pieter Berkel via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-308">SOLR-308</a>: A new UUIDField class which accepts UUID string values,
as well as the special value of "NEW" which triggers generation of
a new random UUID.
<br /><span class="attrib">(Thomas Peuss via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-349">SOLR-349</a>: New FunctionQuery functions: sum, product, div, pow, log,
sqrt, abs, scale, map.  Constants may now be used as a value source.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-359">SOLR-359</a>: Add field type className to Luke response, and enabled access
to the detailed field information from the solrj client API.
<br /><span class="attrib">(Grant Ingersoll via ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-334">SOLR-334</a>: Pluggable query parsers.  Allows specification of query
type and arguments as a prefix on a query string.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-351">SOLR-351</a>: External Value Source.  An external file may be used
 to specify the values of a field, currently usable as
 a ValueSource in a FunctionQuery.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-395">SOLR-395</a>: Many new features for the spell checker implementation, including
an extended response mode with much richer output, multi-word spell checking,
and a bevy of new and renamed options (see the wiki).
<br /><span class="attrib">(Mike Krimerman, Scott Taber via klaas)</span>.
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-408">SOLR-408</a>: Added PingRequestHandler and deprecated SolrCore.getPingQueryRequest().
Ping requests should be configured using standard RequestHandler syntax in
solrconfig.xml rather then using the &lt;pingQuery&gt;&lt;/pingQuery&gt; syntax.
<br /><span class="attrib">(Karsten Sperling via ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-281">SOLR-281</a>: Added a 'Search Component' interface and converted StandardRequestHandler
and DisMaxRequestHandler to use this framework.
<br /><span class="attrib">(Sharad Agarwal, Henri Biestro, yonik, ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-176">SOLR-176</a>: Add detailed timing data to query response output.  The SearchHandler
interface now returns how long each section takes.
<br /><span class="attrib">(klaas)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-414">SOLR-414</a>: Plugin initialization now supports SolrCore and ResourceLoader "Aware"
plugins.  Plugins that implement SolrCoreAware or ResourceLoaderAware are
informed about the SolrCore/ResourceLoader.
<br /><span class="attrib">(Henri Biestro, ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-350">SOLR-350</a>: Support multiple SolrCores running in the same solr instance and allows
runtime runtime management for any running SolrCore.  If a solr.xml file exists
in solr.home, this file is used to instanciate multiple cores and enables runtime
core manipulation.  For more informaion see:  <a href="http://wiki.apache.org/solr/CoreAdmin">http://wiki.apache.org/solr/CoreAdmin</a>
<br /><span class="attrib">(Henri Biestro, ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-447">SOLR-447</a>: Added an single request handler that will automatically register all
standard admin request handlers.  This replaces the need to register (and maintain)
the set of admin request handlers.  Assuming solrconfig.xml includes:
 &lt;requestHandler name="/admin/" class="org.apache.solr.handler.admin.AdminHandlers" /&gt;
This will register: Luke/SystemInfo/PluginInfo/ThreadDump/PropertiesRequestHandler.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-142">SOLR-142</a>: Added RawResponseWriter and ShowFileRequestHandler.  This returns config
files directly.  If AdminHandlers are configured, this will be added automatically.
The jsp files /admin/get-file.jsp and /admin/raw-schema.jsp have been deprecated.
The deprecated &lt;admin&gt;&lt;gettableFiles&gt; will be automatically registered with
a ShowFileRequestHandler instance for backwards compatibility.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-446">SOLR-446</a>: TextResponseWriter can write SolrDocuments and SolrDocumentLists the
same way it writes Document and DocList.
<br /><span class="attrib">(yonik, ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-418">SOLR-418</a>: Adding a query elevation component.  This is an optional component to
elevate some documents to the top positions (or exclude them) for a given query.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-478">SOLR-478</a>: Added ability to get back unique key information from the LukeRequestHandler.
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-127">SOLR-127</a>: HTTP Caching awareness.  Solr now recognizes HTTP Request
headers related to HTTP Caching (see RFC 2616 sec13) and will respond
with "304 Not Modified" when appropriate.  New options have been added
to solrconfig.xml to influence this behavior.
<br /><span class="attrib">(Thomas Peuss via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-303">SOLR-303</a>: Distributed Search over HTTP.  Specification of shards
argument causes Solr to query those shards and merge the results
into a single response.  Querying, field faceting (sorted only),
query faceting, highlighting, and debug information are supported
in distributed mode.
<br /><span class="attrib">(Sharad Agarwal, Patrick O'Leary, Sabyasachi Dalal, Stu Hood,
 Jayson Minard, Lars Kotthoff, ryan, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-356">SOLR-356</a>: Pluggable functions (value sources) that allow
registration of new functions via solrconfig.xml
<br /><span class="attrib">(Doug Daniels via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-494">SOLR-494</a>: Added cool admin Ajaxed schema explorer.
<br /><span class="attrib">(Greg Ludington via ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-497">SOLR-497</a>: Added date faceting to the QueryResponse in SolrJ
and QueryResponseTest
<br /><span class="attrib">(Shalin Shekhar Mangar via gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-486">SOLR-486</a>: Binary response format, faster and smaller
than XML and JSON response formats (use wt=javabin).
BinaryResponseParser for utilizing the binary format via SolrJ
and is now the default.
<br /><span class="attrib">(Noble Paul, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-521">SOLR-521</a>: StopFilterFactory support for "enablePositionIncrements"
<br /><span class="attrib">(Walter Ferrara via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-557">SOLR-557</a>: Added SolrCore.getSearchComponents() to return an unmodifiable Map.
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-516">SOLR-516</a>: Added hl.maxAlternateFieldLength parameter, to set max length for hl.alternateField
<br /><span class="attrib">(Koji Sekiguchi via klaas)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-319">SOLR-319</a>: Changed SynonymFilterFactory to "tokenize" synonyms file.
To use a tokenizer, specify "tokenizerFactory" attribute in &lt;filter&gt;.
For example:
&lt;tokenizer class="solr.CJKTokenizerFactory"/&gt;
&lt;filter class="solr.SynonymFilterFactory" synonyms="synonyms.txt" expand="true"
  ignoreCase="true" tokenizerFactory="solr.CJKTokenizerFactory"/&gt;
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-515">SOLR-515</a>: Added SimilarityFactory capability to schema.xml,
making config file parameters usable in the construction of
the global Lucene Similarity implementation.
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-536">SOLR-536</a>: Add a DocumentObjectBinder to solrj that converts Objects to and
from SolrDocuments.
<br /><span class="attrib">(Noble Paul via ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-595">SOLR-595</a>: Add support for Field level boosting in the MoreLikeThis Handler.
<br /><span class="attrib">(Tom Morton, gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-572">SOLR-572</a>: Added SpellCheckComponent and org.apache.solr.spelling package to support more spell
checking functionality.  Also includes ability to add your own SolrSpellChecker implementation that
plugs in.  See <a href="http://wiki.apache.org/solr/SpellCheckComponent">http://wiki.apache.org/solr/SpellCheckComponent</a> for more details
<br /><span class="attrib">(Shalin Shekhar Mangar, Bojan Smid, gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-679">SOLR-679</a>: Added accessor methods to Lucene based spell checkers
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-423">SOLR-423</a>: Added Request Handler close hook notification so that RequestHandlers can be notified
when a core is closing.
<br /><span class="attrib">(gsingers, ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-603">SOLR-603</a>: Added ability to partially optimize.
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-483">SOLR-483</a>: Add byte/short sorting support
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14">SOLR-14</a>: Add preserveOriginal flag to WordDelimiterFilter
<br /><span class="attrib">(Geoffrey Young, Trey Hyde, Ankur Madnani, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-502">SOLR-502</a>: Add search timeout support.
<br /><span class="attrib">(Sean Timm via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-605">SOLR-605</a>: Add the ability to register callbacks programatically
<br /><span class="attrib">(ryan, Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-610">SOLR-610</a>: hl.maxAnalyzedChars can be -1 to highlight everything
<br /><span class="attrib">(Lars Kotthoff via klaas)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-522">SOLR-522</a>: Make analysis.jsp show payloads.
<br /><span class="attrib">(Tricia Williams via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-611">SOLR-611</a>: Expose sort_values returned by QueryComponent in SolrJ's QueryResponse
<br /><span class="attrib">(Dan Rosher via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-256">SOLR-256</a>: Support exposing Solr statistics through JMX
<br /><span class="attrib">(Sharad Agrawal, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-666">SOLR-666</a>: Expose warmup time in statistics for SolrIndexSearcher and LRUCache
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-663">SOLR-663</a>: Allow multiple files for stopwords, keepwords, protwords and synonyms
<br /><span class="attrib">(Otis Gospodnetic, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-469">SOLR-469</a>: Added DataImportHandler as a contrib project which makes indexing data from Databases,
XML files and HTTP data sources into Solr quick and easy. Includes API and implementations for
supporting multiple data sources, processors and transformers for importing data. Supports full
data imports as well as incremental (delta) indexing. See <a href="http://wiki.apache.org/solr/DataImportHandler">http://wiki.apache.org/solr/DataImportHandler</a>
for more details.
<br /><span class="attrib">(Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-622">SOLR-622</a>: SpellCheckComponent supports auto-loading indices on startup and optionally, (re)builds
indices on newSearcher event, if configured in solrconfig.xml
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-554">SOLR-554</a>: Hierarchical JDK log level selector for SOLR Admin replaces logging.jsp
<br /><span class="attrib">(Sean Timm via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-506">SOLR-506</a>: Emitting HTTP Cache headers can be enabled or disabled through configuration on a
per-handler basis
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-716">SOLR-716</a>: Added support for properties in configuration files. Properties can be specified in
solr.xml and can be used in solrconfig.xml and schema.xml
<br /><span class="attrib">(Henri Biestro, hossman, ryan, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1129">SOLR-1129</a> : Support binding dynamic fields to beans in SolrJ
<br /><span class="attrib">(Avlesh Singh , noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-920">SOLR-920</a> : Cache and reuse IndexSchema . A new attribute added in solr.xml called 'shareSchema'
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-700">SOLR-700</a>: DIH: Allow configurable locales through a locale attribute in
fields for NumberFormatTransformer.
<br /><span class="attrib">(Stefan Oestreicher, shalin)</span></li>
    </ol>
  </li>
  <li><a id="1.3.0.changes_in_runtime_behavior" href="javascript:toggleList('1.3.0.changes_in_runtime_behavior')">Changes in runtime behavior</a>&nbsp;&nbsp;&nbsp;(4)
    <ol id="1.3.0.changes_in_runtime_behavior.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-559">SOLR-559</a>: use Lucene updateDocument, deleteDocuments methods.  This
removes the maxBufferedDeletes parameter added by <a href="http://issues.apache.org/jira/browse/SOLR-310">SOLR-310</a> as Lucene
now manages the deletes.  This provides slightly better indexing
performance and makes overwrites atomic, eliminating the possibility of
a crash causing duplicates.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-689">SOLR-689</a> / <a href="http://issues.apache.org/jira/browse/SOLR-695">SOLR-695</a>: If you have used "MultiCore" functionality in an unreleased
version of 1.3-dev, many classes and configs have been renamed for the official
1.3 release.  Speciffically, solr.xml has replaced multicore.xml, and uses a slightly
different syntax.  The solrj classes: MultiCore{Request/Response/Params} have been
renamed:  CoreAdmin{Request/Response/Params}
<br /><span class="attrib">(hossman, ryan, Henri Biestro)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-647">SOLR-647</a>: reference count the SolrCore uses to prevent a premature
close while a core is still in use.
<br /><span class="attrib">(Henri Biestro, Noble Paul, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-737">SOLR-737</a>: SolrQueryParser now uses a ConstantScoreQuery for wildcard
queries that prevent an exception from being thrown when the number
of matching terms exceeds the BooleanQuery clause limit.
<br /><span class="attrib">(yonik)</span></li>
    </ol>
  </li>
  <li><a id="1.3.0.optimizations" href="javascript:toggleList('1.3.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(10)
    <ol id="1.3.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-276">SOLR-276</a>: improve JSON writer speed.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-310">SOLR-310</a>: bound and reduce memory usage by providing &lt;maxBufferedDeletes&gt; parameter,
which flushes deleted without forcing the user to use &lt;commit/&gt; for this purpose.
<br /><span class="attrib">(klaas)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-348">SOLR-348</a>: short-circuit faceting if less than mincount docs match.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-354">SOLR-354</a>: Optimize removing all documents.  Now when a delete by query
of *:* is issued, the current index is removed.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-377">SOLR-377</a>: Speed up response writers.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-342">SOLR-342</a>:  Added support into the SolrIndexWriter for using several new features of the new
LuceneIndexWriter, including: setRAMBufferSizeMB(), setMergePolicy(), setMergeScheduler.
Also, added support to specify Lucene's autoCommit functionality (not to be confused with Solr's
similarily named autoCommit functionality) via the &lt;luceneAutoCommit&gt; config. item.  See the test
and example solrconfig.xml &lt;indexDefaults&gt; section for usage.  Performance during indexing should
be significantly increased by moving up to 2.3 due to Lucene's new indexing capabilities.
Furthermore, the setRAMBufferSizeMB makes it more logical to decide on tuning factors related to
indexing.  For best performance, leave the mergePolicy and mergeScheduler as the defaults and set
ramBufferSizeMB instead of maxBufferedDocs.  The best value for this depends on the types of
documents in use.  32 should be a good starting point, but reports have shown up to 48 MB provides
good results. Note, it is acceptable to set both ramBufferSizeMB and maxBufferedDocs, and Lucene
will flush based on whichever limit is reached first.
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-330">SOLR-330</a>: Converted TokenStreams to use Lucene's new char array based
capabilities.
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-624">SOLR-624</a>: Only take snapshots if there are differences to the index
<br /><span class="attrib">(Richard Trey Hyde via gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-587">SOLR-587</a>: Delete by Query performance greatly improved by using
new underlying Lucene IndexWriter implementation.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-730">SOLR-730</a>: Use read-only IndexReaders that don't synchronize
isDeleted().  This will speed up function queries and *:* queries
as well as improve their scalability on multi-CPU systems.
<br /><span class="attrib">(Mark Miller via yonik)</span></li>
    </ol>
  </li>
  <li><a id="1.3.0.bug_fixes" href="javascript:toggleList('1.3.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(53)
    <ol id="1.3.0.bug_fixes.list">
      <li>Make TextField respect sortMissingFirst and sortMissingLast fields.
<br /><span class="attrib">(J.J. Larrea via yonik)</span></li>
      <li>autoCommit/maxDocs was not working properly when large autoCommit/maxTime
was specified
<br /><span class="attrib">(klaas)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-283">SOLR-283</a>: autoCommit was not working after delete.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-286">SOLR-286</a>: ContentStreamBase was not using default encoding for getBytes()
<br /><span class="attrib">(Toru Matsuzawa via ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-292">SOLR-292</a>: Fix MoreLikeThis facet counting.
<br /><span class="attrib">(Pieter Berkel via ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-297">SOLR-297</a>: Fix bug in RequiredSolrParams where requiring a field
specific param would fail if a general default value had been supplied.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-331">SOLR-331</a>: Fix WordDelimiterFilter handling of offsets for synonyms or
other injected tokens that can break highlighting.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-282">SOLR-282</a>: Snapshooter does not work on Solaris and OS X since the cp command
there does not have the -l option.  Also updated commit/optimize related
scripts to handle both old and new response format.
<br /><span class="attrib">(bill)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-294">SOLR-294</a>: Logging of elapsed time broken on Solaris because the date command
there does not support the %s output format.
<br /><span class="attrib">(bill)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-136">SOLR-136</a>: Snappuller - "date -d" and locales don't mix.
<br /><span class="attrib">(Jürgen Hermann via bill)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-333">SOLR-333</a>: Changed distributiondump.jsp to use Solr HOME instead of CWD to set path.
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-393">SOLR-393</a>: Removed duplicate contentType from raw-schema.jsp.
<br /><span class="attrib">(bill)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-413">SOLR-413</a>: Requesting a large numbers of documents to be returned (limit)
can result in an out-of-memory exception, even for a small index.
<br /><span class="attrib">(yonik)</span></li>
      <li>The CSV loader incorrectly threw an exception when given
header=true (the default).
<br /><span class="attrib">(ryan, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-449">SOLR-449</a>: the python and ruby response writers are now able to correctly
output NaN and Infinity in their respective languages.
<br /><span class="attrib">(klaas)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-42">SOLR-42</a>: HTMLStripReader tokenizers now preserve correct source
offsets for highlighting.
<br /><span class="attrib">(Grant Ingersoll via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-481">SOLR-481</a>: Handle UnknownHostException in _info.jsp
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-324">SOLR-324</a>: Add proper support for Long and Doubles in sorting, etc.
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-496">SOLR-496</a>: Cache-Control max-age changed to Long so Expires
calculation won't cause overflow.
<br /><span class="attrib">(Thomas Peuss via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-535">SOLR-535</a>: Fixed typo (Tokenzied -&gt; Tokenized) in schema.jsp
<br /><span class="attrib">(Thomas Peuss via billa)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-529">SOLR-529</a>: Better error messages from SolrQueryParser when field isn't
specified and there is no defaultSearchField in schema.xml
<br /><span class="attrib">(Lars Kotthoff via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-530">SOLR-530</a>: Better error messages/warnings when parsing schema.xml:
field using bogus fieldtype and multiple copyFields to a non-multiValue
field.
<br /><span class="attrib">(Shalin Shekhar Mangar via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-528">SOLR-528</a>: Better error message when defaultSearchField is bogus or not
indexed.
<br /><span class="attrib">(Lars Kotthoff via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-533">SOLR-533</a>: Fixed tests so they don't use hardcoded port numbers.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-400">SOLR-400</a>: SolrExceptionTest should now handle using OpenDNS as a DNS provider
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-541">SOLR-541</a>: Legacy XML update support (provided by SolrUpdateServlet
when no RequestHandler is mapped to "/update") now logs error correctly.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-267">SOLR-267</a>: Changed logging to report number of hits, and also provide a mechanism to add log
messages to be output by the SolrCore via a NamedList toLog member variable.
<br /><span class="attrib">(Will Johnson, yseeley, gsingers)</span>
<ul class="bulleted-list">
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-267">SOLR-267</a>: Removed adding values to the HTTP headers in SolrDispatchFilter
<br /><span class="attrib">(gsingers)</span></li>
</ul>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-509">SOLR-509</a>: Moved firstSearcher event notification to the end of the SolrCore constructor
<br /><span class="attrib">(Koji Sekiguchi via gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-470">SOLR-470</a>, <a href="http://issues.apache.org/jira/browse/SOLR-552">SOLR-552</a>, <a href="http://issues.apache.org/jira/browse/SOLR-544">SOLR-544</a>, <a href="http://issues.apache.org/jira/browse/SOLR-701">SOLR-701</a>: Multiple fixes to DateField
regarding lenient parsing of optional milliseconds, and correct
formating using the canonical representation.  LegacyDateField has
been added for people who have come to depend on the existing
broken behavior.
<br /><span class="attrib">(hossman, Stefan Oestreicher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-539">SOLR-539</a>: Fix for non-atomic long counters and a cast fix to avoid divide
by zero.
<br /><span class="attrib">(Sean Timm via Otis Gospodnetic)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-514">SOLR-514</a>: Added explicit media-type with UTF* charset to *.xsl files that
don't already have one.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-505">SOLR-505</a>: Give RequestHandlers the possiblity to suppress the generation
of HTTP caching headers.
<br /><span class="attrib">(Thomas Peuss via Otis Gospodnetic)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-553">SOLR-553</a>: Handle highlighting of phrase terms better when
hl.usePhraseHighligher=true URL param is used.
<br /><span class="attrib">(Bojan Smid via Otis Gospodnetic)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-590">SOLR-590</a>: Limitation in pgrep on Linux platform breaks script-utils fixUser.
<br /><span class="attrib">(Hannes Schmidt via billa)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-597">SOLR-597</a>: SolrServlet no longer "caches" SolrCore.  This was causing
problems in Resin, and could potentially cause problems for customized
usages of SolrServlet.
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-585">SOLR-585</a>: Now sets the QParser on the ResponseBuilder
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-604">SOLR-604</a>: If the spellchecking path is relative, make it relative to the Solr Data Directory.
<br /><span class="attrib">(Shalin Shekhar Mangar via gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-584">SOLR-584</a>: Make stats.jsp and stats.xsl more robust.
<br /><span class="attrib">(Yousef Ourabi and hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-443">SOLR-443</a>: SolrJ: Declare UTF-8 charset on POSTed parameters
to avoid problems with servlet containers that default to latin-1
and allow switching of the exact POST mechanism for parameters
via useMultiPartPost in CommonsHttpSolrServer.
<br /><span class="attrib">(Lars Kotthoff, Andrew Schurman, ryan, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-556">SOLR-556</a>: multi-valued fields always highlighted in disparate snippets
<br /><span class="attrib">(Lars Kotthoff via klaas)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-501">SOLR-501</a>: Fix admin/analysis.jsp UTF-8 input for some other servlet
containers such as Tomcat.
<br /><span class="attrib">(Hiroaki Kawai, Lars Kotthoff via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-616">SOLR-616</a>: SpellChecker accuracy configuration is not applied for FileBasedSpellChecker.
Apply it for FileBasedSpellChecker and IndexBasedSpellChecker both.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-648">SOLR-648</a>: SpellCheckComponent throws NullPointerException on using spellcheck.q request
parameter after restarting Solr, if reload is called but build is not called.
<br /><span class="attrib">(Jonathan Lee, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-598">SOLR-598</a>: DebugComponent now always occurs last in the SearchHandler list unless the
components are explicitly declared.
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-676">SOLR-676</a>: DataImportHandler should use UpdateRequestProcessor API instead of directly
using UpdateHandler.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-696">SOLR-696</a>: Fixed bug in NamedListCodec in regards to serializing Iterable objects.
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-669">SOLR-669</a>: snappuler fix for FreeBSD/Darwin (Richard "Trey" Hyde via Otis Gospodnetic)
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-606">SOLR-606</a>: Fixed spell check collation offset issue.
<br /><span class="attrib">(Stefan Oestreicher , Geoffrey Young, gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-589">SOLR-589</a>: Improved handling of badly formated query strings
<br /><span class="attrib">(Sean Timm via Otis Gospodnetic)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-749">SOLR-749</a>: Allow QParser and ValueSourceParsers to be extended with same name
<br /><span class="attrib">(hossman, gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-704">SOLR-704</a>: DIH NumberFormatTransformer can silently ignore part of the
string while parsing. Now it tries to use the complete string for parsing.
Failure to do so will result in an exception.
<br /><span class="attrib">(Stefan Oestreicher via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-729">SOLR-729</a>: DIH Context.getDataSource(String) gives current entity's
DataSource instance regardless of argument.
<br /><span class="attrib">(Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-726">SOLR-726</a>: DIH: Jdbc Drivers and DataSources fail to load if placed in
multicore sharedLib or core's lib directory.
<br /><span class="attrib">(Walter Ferrara, Noble Paul, shalin)</span></li>
    </ol>
  </li>
  <li><a id="1.3.0.other_changes" href="javascript:toggleList('1.3.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(27)
    <ol id="1.3.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-135">SOLR-135</a>: Moved common classes to org.apache.solr.common and altered the
build scripts to make two jars: apache-solr-1.3.jar and
apache-solr-1.3-common.jar.  This common.jar can be used in client code;
It does not have lucene or junit dependencies.  The original classes
have been replaced with a @Deprecated extended class and are scheduled
to be removed in a later release.  While this change does not affect API
compatibility, it is recommended to update references to these
deprecated classes.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-268">SOLR-268</a>: Tweaks to post.jar so it prints the error message from Solr.
<br /><span class="attrib">(Brian Whitman via hossman)</span></li>
      <li>Upgraded to Lucene 2.2.0; June 18, 2007.
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-215">SOLR-215</a>: Static access to SolrCore.getSolrCore() and SolrConfig.config
have been deprecated in order to support multiple loaded cores.
<br /><span class="attrib">(Henri Biestro via ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-367">SOLR-367</a>: The create method in all TokenFilter and Tokenizer Factories
provided by Solr now declare their specific return types instead of just
using "TokenStream"
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-396">SOLR-396</a>: Hooks add to build system for automatic generation of (stub)
Tokenizer and TokenFilter Factories.
Also: new Factories for all Tokenizers and TokenFilters provided by the
lucene-analyzers-2.2.0.jar -- includes support for German, Chinese,
Russan, Dutch, Greek, Brazilian, Thai, and French.
<br /><span class="attrib">(hossman)</span></li>
      <li>Upgraded to commons-CSV r609327, which fixes escaping bugs and
introduces new escaping and whitespace handling options to
increase compatibility with different formats.
<br /><span class="attrib">(yonik)</span></li>
      <li>Upgraded to Lucene 2.3.0; Jan 23, 2008.
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-451">SOLR-451</a>: Changed analysis.jsp to use POST instead of GET, also made the input area a
bit bigger
<br /><span class="attrib">(gsingers)</span></li>
      <li>Upgrade to Lucene 2.3.1
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-531">SOLR-531</a>: Different exit code for rsyncd-start and snappuller if disabled
<br /><span class="attrib">(Thomas Peuss via billa)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-550">SOLR-550</a>: Clarified DocumentBuilder addField javadocs
<br /><span class="attrib">(gsingers)</span></li>
      <li>Upgrade to Lucene 2.3.2
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-518">SOLR-518</a>: Changed luke.xsl to use divs w/css for generating histograms
instead of SVG
<br /><span class="attrib">(Thomas Peuss via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-592">SOLR-592</a>: Added ShardParams interface and changed several string literals
to references to constants in CommonParams.
<br /><span class="attrib">(Lars Kotthoff via Otis Gospodnetic)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-520">SOLR-520</a>: Deprecated unused LengthFilter since already core in
Lucene-Java
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-645">SOLR-645</a>: Refactored SimpleFacetsTest
<br /><span class="attrib">(Lars Kotthoff via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-591">SOLR-591</a>: Changed Solrj default value for facet.sort to true
<br /><span class="attrib">(Lars Kotthoff via Shalin)</span></li>
      <li>Upgraded to Lucene 2.4-dev (r669476) to support <a href="http://issues.apache.org/jira/browse/SOLR-572">SOLR-572</a>
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-636">SOLR-636</a>: Improve/simplify example configs; and make index.jsp
links more resilient to configs loaded via an InputStream
<br /><span class="attrib">(Lars Kotthoff, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-682">SOLR-682</a>: Scripts now support FreeBSD
<br /><span class="attrib">(Richard Trey Hyde via gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-489">SOLR-489</a>: Added in deprecation comments.
<br /><span class="attrib">(Sean Timm, Lars Kothoff via gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-692">SOLR-692</a>: Migrated to stable released builds of StAX API 1.0.1 and StAX 1.2.0
<br /><span class="attrib">(shalin)</span></li>
      <li>Upgraded to Lucene 2.4-dev (r686801)
<br /><span class="attrib">(yonik)</span></li>
      <li>Upgraded to Lucene 2.4-dev (r688745) 27-Aug-2008
<br /><span class="attrib">(yonik)</span></li>
      <li>Upgraded to Lucene 2.4-dev (r691741) 03-Sep-2008
<br /><span class="attrib">(yonik)</span></li>
      <li>Replaced the StAX reference implementation with the geronimo
StAX API jar, and the Woodstox StAX implementation.
<br /><span class="attrib">(yonik)</span></li>
    </ol>
  </li>
  <li><a id="1.3.0.build" href="javascript:toggleList('1.3.0.build')">Build</a>&nbsp;&nbsp;&nbsp;(7)
    <ol id="1.3.0.build.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-411">SOLR-411</a>.  Changed the names of the Solr JARs to use the defacto standard JAR names based on
project-name-version.jar.  This yields, for example:
  apache-solr-common-1.3-dev.jar
  apache-solr-solrj-1.3-dev.jar
  apache-solr-1.3-dev.jar
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-479">SOLR-479</a>: Added clover code coverage targets for committers and the nightly build.  Requires
the Clover library, as licensed to Apache and only available privately.  To run:
     ant -Drun.clover=true clean clover test generate-clover-reports
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-510">SOLR-510</a>: Nightly release includes client sources.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-563">SOLR-563</a>: Modified the build process to build contrib projects
<br /><span class="attrib">(Shalin Shekhar Mangar via Otis Gospodnetic)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-673">SOLR-673</a>: Modify build file to create javadocs for core, solrj, contrib and "all inclusive"
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-672">SOLR-672</a>: Nightly release includes contrib sources.
<br /><span class="attrib">(Jeremy Hinegardner, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-586">SOLR-586</a>: Added ant target and POM files for building maven artifacts of the Solr core, common,
          client and contrib. The target can publish artifacts with source and javadocs.
<br /><span class="attrib">(Spencer Crissman, Craig McClanahan, shalin)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="1.2" href="javascript:toggleList('1.2')">Release 1.2  [2007-06-06]</a></h3>
<ul id="1.2.list">
  <li><a id="1.2.upgrading_from_solr_1.1" href="javascript:toggleList('1.2.upgrading_from_solr_1.1')">Upgrading from Solr 1.1</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="1.2.upgrading_from_solr_1.1.list">
      <li>IMPORTANT UPGRADE NOTE: In a master/slave configuration, all searchers/slaves
should be upgraded before the master!  If the master were to be updated
first, the older searchers would not be able to read the new index format.
</li>
      <li>Older Apache Solr installations can be upgraded by replacing
the relevant war file with the new version.  No changes to configuration
files should be needed.
</li>
      <li>This version of Solr contains a new version of Lucene implementing
an updated index format.  This version of Solr/Lucene can still read
and update indexes in the older formats, and will convert them to the new
format on the first index change.  One change in the new index format
is that all "norms" are kept in a single file, greatly reducing the number
of files per segment. Users of compound file indexes will want to consider
converting to the non-compound format for faster indexing and slightly better
search concurrency.
</li>
      <li>The JSON response format for facets has changed to make it easier for
clients to retain sorted order.  Use json.nl=map explicitly in clients
to get the old behavior, or add it as a default to the request handler
in solrconfig.xml
</li>
      <li>The Lucene based Solr query syntax is slightly more strict.
A ':' in a field value must be escaped or the whole value must be quoted.
</li>
      <li>The Solr "Request Handler" framework has been updated in two key ways:
First, if a Request Handler is registered in solrconfig.xml with a name
starting with "/" then it can be accessed using path-based URL, instead of
using the legacy "/select?qt=name" URL structure.  Second, the Request
Handler framework has been extended making it possible to write Request
Handlers that process streams of data for doing updates, and there is a
new-style Request Handler for XML updates given the name of "/update" in
the example solrconfig.xml.  Existing installations without this "/update"
handler will continue to use the old update servlet and should see no
changes in behavior.  For new-style update handlers, errors are now
reflected in the HTTP status code, Content-type checking is more strict,
and the response format has changed and is controllable via the wt
parameter.
</li>
    </ol>
  </li>
  <h4>Detailed Change List</h4>
  <li><a id="1.2.new_features" href="javascript:toggleList('1.2.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(36)
    <ol id="1.2.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-82">SOLR-82</a>: Default field values can be specified in the schema.xml.
<br /><span class="attrib">(Ryan McKinley via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-89">SOLR-89</a>: Two new TokenFilters with corresponding Factories...
* TrimFilter - Trims leading and trailing whitespace from Tokens
* PatternReplaceFilter - applies a Pattern to each token in the
  stream, replacing match occurances with a specified replacement.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-91">SOLR-91</a>: allow configuration of a limit of the number of searchers
that can be warming in the background.  This can be used to avoid
out-of-memory errors, or contention caused by more and more searchers
warming in the background.  An error is thrown if the limit specified
by maxWarmingSearchers in solrconfig.xml is exceeded.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-106">SOLR-106</a>: New faceting parameters that allow specification of a
minimum count for returned facets (facet.mincount), paging through facets
(facet.offset, facet.limit), and explicit sorting (facet.sort).
facet.zeros is now deprecated.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-80">SOLR-80</a>: Negative queries are now allowed everywhere.  Negative queries
are generated and cached as their positive counterpart, speeding
generation and generally resulting in smaller sets to cache.
Set intersections in SolrIndexSearcher are more efficient,
starting with the smallest positive set, subtracting all negative
sets, then intersecting with all other positive sets.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-117">SOLR-117</a>: Limit a field faceting to constraints with a prefix specified
by facet.prefix or f.&lt;field&gt;.facet.prefix.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-107">SOLR-107</a>: JAVA API: Change NamedList to use Java5 generics
and implement Iterable&lt;Map.Entry&gt;
<br /><span class="attrib">(Ryan McKinley via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-104">SOLR-104</a>: Support for "Update Plugins" -- RequestHandlers that want
access to streams of data for doing updates.  ContentStreams can come
from the raw POST body, multi-part form data, or remote URLs.
Included in this change is a new SolrDispatchFilter that allows
RequestHandlers registered with names that begin with a "/" to be
accessed using a URL structure based on that name.
<br /><span class="attrib">(Ryan McKinley via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-126">SOLR-126</a>: DirectUpdateHandler2 supports autocommitting after a specified time
(in ms), using &lt;autoCommit&gt;&lt;maxTime&gt;10000&lt;/maxTime&gt;&lt;/autoCommit&gt;.
<br /><span class="attrib">(Ryan McKinley via klaas)</span>.
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-116">SOLR-116</a>: IndexInfoRequestHandler added.
<br /><span class="attrib">(Erik Hatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-79">SOLR-79</a>: Add system property ${&lt;sys.prop&gt;[:&lt;default&gt;]} substitution for
configuration files loaded, including schema.xml and solrconfig.xml.
<br /><span class="attrib">(Erik Hatcher with inspiration from Andrew Saar)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-149">SOLR-149</a>: Changes to make Solr more easily embeddable, in addition
to logging which request handler handled each request.
<br /><span class="attrib">(Ryan McKinley via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-86">SOLR-86</a>: Added standalone Java-based command-line updater.
<br /><span class="attrib">(Erik Hatcher via Bertrand Delecretaz)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-152">SOLR-152</a>: DisMaxRequestHandler now supports configurable alternate
behavior when q is not specified.  A "q.alt" param can be specified
using SolrQueryParser syntax as a mechanism for specifying what query
the dismax handler should execute if the main user query (q) is blank.
<br /><span class="attrib">(Ryan McKinley via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-158">SOLR-158</a>: new "qs" (Query Slop) param for DisMaxRequestHandler
allows for specifying the amount of default slop to use when parsing
explicit phrase queries from the user.
<br /><span class="attrib">(Adam Hiatt via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-81">SOLR-81</a>: SpellCheckerRequestHandler that uses the SpellChecker from
the Lucene contrib.
<br /><span class="attrib">(Otis Gospodnetic and Adam Hiatt)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-182">SOLR-182</a>: allow lazy loading of request handlers on first request.
<br /><span class="attrib">(Ryan McKinley via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-81">SOLR-81</a>: More SpellCheckerRequestHandler enhancements, inlcluding
support for relative or absolute directory path configurations, as
well as RAM based directory.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-197">SOLR-197</a>: New parameters for input: stream.contentType for specifying
or overriding the content type of input, and stream.file for reading
local files.
<br /><span class="attrib">(Ryan McKinley via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-66">SOLR-66</a>: CSV data format for document additions and updates.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-184">SOLR-184</a>: add echoHandler=true to responseHeader, support echoParams=all
<br /><span class="attrib">(Ryan McKinley via ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-211">SOLR-211</a>: Added a regex PatternTokenizerFactory.  This extracts tokens
from the input string using a regex Pattern.
<br /><span class="attrib">(Ryan McKinley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-162">SOLR-162</a>: Added a "Luke" request handler and other admin helpers.
This exposes the system status through the standard requestHandler
framework.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-212">SOLR-212</a>: Added a DirectSolrConnection class.  This lets you access
solr using the standard request/response formats, but does not require
an HTTP connection.  It is designed for embedded applications.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-204">SOLR-204</a>: The request dispatcher (added in <a href="http://issues.apache.org/jira/browse/SOLR-104">SOLR-104</a>) can handle
calls to /select.  This offers uniform error handling for /update and
/select.  To enable this behavior, you must add:
  &lt;requestDispatcher handleSelect="true" &gt; to your solrconfig.xml
See the example solrconfig.xml for details.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-170">SOLR-170</a>: StandardRequestHandler now supports a "sort" parameter.
Using the ';' syntax is still supported, but it is recommended to
transition to the new syntax.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-181">SOLR-181</a>: The index schema now supports "required" fields.  Attempts
to add a document without a required field will fail, returning a
descriptive error message.  By default, the uniqueKey field is
a required field.  This can be disabled by setting required=false
in schema.xml.
<br /><span class="attrib">(Greg Ludington via ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-217">SOLR-217</a>: Fields configured in the schema to be neither indexed or
stored will now be quietly ignored by Solr when Documents are added.
The example schema has a comment explaining how this can be used to
ignore any "unknown" fields.
<br /><span class="attrib">(Will Johnson via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-227">SOLR-227</a>: If schema.xml defines multiple fieldTypes, fields, or
dynamicFields with the same name, a severe error will be logged rather
then quietly continuing. Depending on the &lt;abortOnConfigurationError&gt;
settings, this may halt the server.  Likewise, if solrconfig.xml
defines multiple RequestHandlers with the same name it will also add
an error.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-226">SOLR-226</a>: Added support for dynamic field as the destination of a
copyField using glob (*) replacement.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-224">SOLR-224</a>: Adding a PhoneticFilterFactory that uses apache commons codec
language encoders to build phonetically similar tokens.  This currently
supports: DoubleMetaphone, Metaphone, Soundex, and RefinedSoundex
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-199">SOLR-199</a>: new n-gram tokenizers available via NGramTokenizerFactory
and EdgeNGramTokenizerFactory.
<br /><span class="attrib">(Adam Hiatt via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-234">SOLR-234</a>: TrimFilter can update the Token's startOffset and endOffset
if updateOffsets="true".  By default the Token offsets are unchanged.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-208">SOLR-208</a>: new example_rss.xsl and example_atom.xsl to provide more
examples for people about the Solr XML response format and how they
can transform it to suit different needs.
<br /><span class="attrib">(Brian Whitman via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-249">SOLR-249</a>: Deprecated SolrException( int, ... ) constructors in favor
of constructors that takes an ErrorCode enum.  This will ensure that
all SolrExceptions use a valid HTTP status code.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-386">SOLR-386</a>: Abstracted SolrHighlighter and moved existing implementation
to DefaultSolrHighlighter.  Adjusted SolrCore and solrconfig.xml so
that highlighter is configurable via a class attribute.  Allows users
to use their own highlighter implementation.
<br /><span class="attrib">(Tricia Williams via klaas)</span></li>
    </ol>
  </li>
  <li><a id="1.2.changes_in_runtime_behavior" href="javascript:toggleList('1.2.changes_in_runtime_behavior')">Changes in runtime behavior</a>&nbsp;&nbsp;&nbsp;(12)
    <ol id="1.2.changes_in_runtime_behavior.list">
      <li>Highlighting using DisMax will only pick up terms from the main
user query, not boost or filter queries
<br /><span class="attrib">(klaas)</span>.
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-125">SOLR-125</a>: Change default of json.nl to flat, change so that
json.nl only affects items where order matters (facet constraint
listings).  Fix JSON output bug for null values.  Internal JAVA API:
change most uses of NamedList to SimpleOrderedMap.
<br /><span class="attrib">(yonik)</span></li>
      <li>A new method "getSolrQueryParser" has been added to the IndexSchema
class for retrieving a new SolrQueryParser instance with all options
specified in the schema.xml's &lt;solrQueryParser&gt; block set.  The
documentation for the SolrQueryParser constructor and it's use of
IndexSchema have also been clarified.
<br /><span class="attrib">(Erik Hatcher and hossman)</span></li>
      <li>DisMaxRequestHandler's bq, bf, qf, and pf parameters can now accept
multiple values
<br /><span class="attrib">(klaas)</span>.
</li>
      <li>Query are re-written before highlighting is performed.  This enables
proper highlighting of prefix and wildcard queries
<br /><span class="attrib">(klaas)</span>.
</li>
      <li>A meaningful exception is raised when attempting to add a doc missing
a unique id if it is declared in the schema and allowDups=false.
<br /><span class="attrib">(ryan via klaas)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-183">SOLR-183</a>: Exceptions with error code 400 are raised when
numeric argument parsing fails.  RequiredSolrParams class added
to facilitate checking for parameters that must be present.
<br /><span class="attrib">(Ryan McKinley, J.J. Larrea via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-179">SOLR-179</a>: By default, solr will abort after any severe initalization
errors.  This behavior can be disabled by setting:
&lt;abortOnConfigurationError&gt;false&lt;/abortOnConfigurationError&gt;
in solrconfig.xml
<br /><span class="attrib">(ryan)</span></li>
      <li>The example solrconfig.xml maps /update to XmlUpdateRequestHandler using
the new request dispatcher (<a href="http://issues.apache.org/jira/browse/SOLR-104">SOLR-104</a>).  This requires posted content to
have a valid contentType: curl -H 'Content-type:text/xml; charset=utf-8'
The response format matches that of /select and returns standard error
codes.  To enable solr1.1 style /update, do not map "/update" to any
handler in solrconfig.xml
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-231">SOLR-231</a>: If a charset is not specified in the contentType,
ContentStream.getReader() will use UTF-8 encoding.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-230">SOLR-230</a>: More options for post.jar to support stdin, xml on the
commandline, and defering commits.  Tutorial modified to take
advantage of these options so there is no need for curl.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-128">SOLR-128</a>: Upgraded Jetty to the latest stable release 6.1.3
<br /><span class="attrib">(ryan)</span></li>
    </ol>
  </li>
  <li><a id="1.2.optimizations" href="javascript:toggleList('1.2.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(4)
    <ol id="1.2.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-114">SOLR-114</a>: HashDocSet specific implementations of union() and andNot()
for a 20x performance improvement for those set operations, and a new
hash algorithm speeds up exists() by 10% and intersectionSize() by 8%.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-115">SOLR-115</a>: Solr now uses BooleanQuery.clauses() instead of
BooleanQuery.getClauses() in any situation where there is no risk of
modifying the original query.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-221">SOLR-221</a>: Speed up sorted faceting on multivalued fields by ~60%
when the base set consists of a relatively large portion of the
index.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-221">SOLR-221</a>: Added a facet.enum.cache.minDf parameter which avoids
using the filterCache for terms that match few documents, trading
decreased memory usage for increased query time.
<br /><span class="attrib">(yonik)</span></li>
    </ol>
  </li>
  <li><a id="1.2.bug_fixes" href="javascript:toggleList('1.2.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(15)
    <ol id="1.2.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-87">SOLR-87</a>: Parsing of synonym files did not correctly handle escaped
whitespace such as \r\n\t\b\f.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-92">SOLR-92</a>: DOMUtils.getText (used when parsing config files) did not
work properly with many DOM implementations when dealing with
"Attributes".
<br /><span class="attrib">(Ryan McKinley via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9">SOLR-9</a>,<a href="http://issues.apache.org/jira/browse/SOLR-99">SOLR-99</a>: Tighten up sort specification error checking, throw
exceptions for missing sort specifications or a sort on a non-indexed
field.
<br /><span class="attrib">(Ryan McKinley via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-145">SOLR-145</a>: Fix for bug introduced in <a href="http://issues.apache.org/jira/browse/SOLR-104">SOLR-104</a> where some Exceptions
were being ignored by all "out of the box" RequestHandlers.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-166">SOLR-166</a>: JNDI solr.home code refactoring.  <a href="http://issues.apache.org/jira/browse/SOLR-104">SOLR-104</a> moved
some JNDI related code to the init method of a Servlet Filter -
according to the Servlet Spec, all Filter's should be initialized
prior to initializing any Servlets, but this is not the case in at
least one Servlet Container (Resin).  This "bug fix" refactors
this JNDI code so that it should be executed the first time any
attempt is made to use the solr.home dir.
<br /><span class="attrib">(Ryan McKinley via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-173">SOLR-173</a>: Bug fix to SolrDispatchFilter to reduce "too many open
files" problem was that SolrDispatchFilter was not closing requests
when finished.  Also modified ResponseWriters to only fetch a Searcher
reference if necessary for writing out DocLists.
<br /><span class="attrib">(Ryan McKinley via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-168">SOLR-168</a>: Fix display positioning of multiple tokens at the same
position in analysis.jsp
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-167">SOLR-167</a>: The SynonymFilter sometimes generated incorrect offsets when
multi token synonyms were mached in the source text.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-188">SOLR-188</a>: bin scripts do not support non-default webapp names.  Added "-U"
option to specify a full path to the update url, overriding the
"-h" (hostname), "-p" (port) and "-w" (webapp name) parameters.
<br /><span class="attrib">(Jeff Rodenburg via billa)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-198">SOLR-198</a>: RunExecutableListener always waited for the process to
finish, even when wait="false" was set.
<br /><span class="attrib">(Koji Sekiguchi via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-207">SOLR-207</a>: Changed distribution scripts to remove recursive find
and avoid use of "find -maxdepth" on platforms where it is not
supported.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-222">SOLR-222</a>: Changing writeLockTimeout in solrconfig.xml did not
change the effective timeout.
<br /><span class="attrib">(Koji Sekiguchi via yonik)</span></li>
      <li>Changed the <a href="http://issues.apache.org/jira/browse/SOLR-104">SOLR-104</a> RequestDispatcher so that /select?qt=xxx can not
access handlers that start with "/".  This makes path based authentication
possible for path based request handlers.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-214">SOLR-214</a>: Some servlet containers (including Tomcat and Resin) do not
obey the specified charset.  Rather then letting the the container handle
it solr now uses the charset from the header contentType to decode posted
content.  Using the contentType: "text/xml; charset=utf-8" will force
utf-8 encoding.  If you do not specify a contentType, it will use the
platform default.
<br /><span class="attrib">(Koji Sekiguchi via ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-241">SOLR-241</a>: Undefined system properties used in configuration files now
cause a clear message to be logged rather than an obscure exception thrown.
<br /><span class="attrib">(Koji Sekiguchi via ehatcher)</span></li>
    </ol>
  </li>
  <li><a id="1.2.other_changes" href="javascript:toggleList('1.2.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="1.2.other_changes.list">
      <li>Updated to Lucene 2.1
</li>
      <li>Updated to <a href="http://issues.apache.org/jira/browse/LUCENE-2007">Lucene 2007</a>-05-20_00-04-53
</li>
    </ol>
  </li>
</ul>
<h3><a id="1.1.0" href="javascript:toggleList('1.1.0')">Release 1.1.0  [2006-12-22]</a></h3>
<ul id="1.1.0.list">
  <li><a id="1.1.0.status" href="javascript:toggleList('1.1.0.status')">Status</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="1.1.0.status.list">
      <li>This is the first release since Solr joined the Incubator, and brings many
new features and performance optimizations including highlighting,
faceted browsing, and JSON/Python/Ruby response formats.
</li>
    </ol>
  </li>
  <li><a id="1.1.0.upgrading_from_previous_solr_versions" href="javascript:toggleList('1.1.0.upgrading_from_previous_solr_versions')">Upgrading from previous Solr versions</a>&nbsp;&nbsp;&nbsp;(4)
    <ol id="1.1.0.upgrading_from_previous_solr_versions.list">
      <li>Older Apache Solr installations can be upgraded by replacing
the relevant war file with the new version.  No changes to configuration
files are needed and the index format has not changed.
</li>
      <li>The default version of the Solr XML response syntax has been changed to 2.2.
Behavior can be preserved for those clients not explicitly specifying a
version by adding a default to the request handler in solrconfig.xml
</li>
      <li>By default, Solr will no longer use a searcher that has not fully warmed,
and requests will block in the meantime.  To change back to the previous
behavior of using a cold searcher in the event there is no other
warm searcher, see the useColdSearcher config item in solrconfig.xml
</li>
      <li>The XML response format when adding multiple documents to the collection
in a single &lt;add&gt; command has changed to return a single &lt;result&gt;.
</li>
    </ol>
  </li>
  <h4>Detailed Change List</h4>
  <li><a id="1.1.0.new_features" href="javascript:toggleList('1.1.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(33)
    <ol id="1.1.0.new_features.list">
      <li>added support for setting Lucene's positionIncrementGap
</li>
      <li>Admin: new statistics for SolrIndexSearcher
</li>
      <li>Admin: caches now show config params on stats page
</li>
      <li>max() function added to FunctionQuery suite
</li>
      <li>postOptimize hook, mirroring the functionallity of the postCommit hook,
but only called on an index optimize.
</li>
      <li>Ability to HTTP POST query requests to /select in addition to HTTP-GET
</li>
      <li>The default search field may now be overridden by requests to the
standard request handler using the df query parameter.
<br /><span class="attrib">(Erik Hatcher)</span></li>
      <li>Added DisMaxRequestHandler and SolrPluginUtils.
<br /><span class="attrib">(Chris Hostetter)</span></li>
      <li>Support for customizing the QueryResponseWriter per request
<br /><span class="attrib">(Mike Baranczak / <a href="http://issues.apache.org/jira/browse/SOLR-16">SOLR-16</a> / hossman)</span></li>
      <li>Added KeywordTokenizerFactory
<br /><span class="attrib">(hossman)</span></li>
      <li>copyField accepts dynamicfield-like names as the source.
<br /><span class="attrib">(Darren Erik Vengroff via yonik, <a href="http://issues.apache.org/jira/browse/SOLR-21">SOLR-21</a>)</span></li>
      <li>new DocSet.andNot(), DocSet.andNotSize()
<br /><span class="attrib">(yonik)</span></li>
      <li>Ability to store term vectors for fields.
<br /><span class="attrib">(Mike Klaas via yonik, <a href="http://issues.apache.org/jira/browse/SOLR-23">SOLR-23</a>)</span></li>
      <li>New abstract BufferedTokenStream for people who want to write
Tokenizers or TokenFilters that require arbitrary buffering of the
stream.
<br /><span class="attrib">(<a href="http://issues.apache.org/jira/browse/SOLR-11">SOLR-11</a> / yonik, hossman)</span></li>
      <li>New RemoveDuplicatesToken - useful in situations where
synonyms, stemming, or word-deliminater-ing produce identical tokens at
the same position.
<br /><span class="attrib">(<a href="http://issues.apache.org/jira/browse/SOLR-11">SOLR-11</a> / yonik, hossman)</span></li>
      <li>Added highlighting to SolrPluginUtils and implemented in StandardRequestHandler
and DisMaxRequestHandler
<br /><span class="attrib">(<a href="http://issues.apache.org/jira/browse/SOLR-24">SOLR-24</a> / Mike Klaas via hossman,yonik)</span></li>
      <li>SnowballPorterFilterFactory language is configurable via the "language"
attribute, with the default being "English".
<br /><span class="attrib">(Bertrand Delacretaz via yonik, <a href="http://issues.apache.org/jira/browse/SOLR-27">SOLR-27</a>)</span></li>
      <li>ISOLatin1AccentFilterFactory, instantiates ISOLatin1AccentFilter to remove accents.
<br /><span class="attrib">(Bertrand Delacretaz via yonik, <a href="http://issues.apache.org/jira/browse/SOLR-28">SOLR-28</a>)</span></li>
      <li>JSON, Python, Ruby QueryResponseWriters: use wt="json", "python" or "ruby"
<br /><span class="attrib">(yonik, <a href="http://issues.apache.org/jira/browse/SOLR-31">SOLR-31</a>)</span></li>
      <li>Make web admin pages return UTF-8, change Content-type declaration to include a
space between the mime-type and charset
<br /><span class="attrib">(Philip Jacob, <a href="http://issues.apache.org/jira/browse/SOLR-35">SOLR-35</a>)</span></li>
      <li>Made query parser default operator configurable via schema.xml:
     &lt;solrQueryParser defaultOperator="AND|OR"/&gt;
The default operator remains "OR".
</li>
      <li>JAVA API: new version of SolrIndexSearcher.getDocListAndSet() which takes
flags
<br /><span class="attrib">(Greg Ludington via yonik, <a href="http://issues.apache.org/jira/browse/SOLR-39">SOLR-39</a>)</span></li>
      <li>A HyphenatedWordsFilter, a text analysis filter used during indexing to rejoin
words that were hyphenated and split by a newline.
<br /><span class="attrib">(Boris Vitez via yonik, <a href="http://issues.apache.org/jira/browse/SOLR-41">SOLR-41</a>)</span></li>
      <li>Added a CompressableField base class which allows fields of derived types to
be compressed using the compress=true setting.  The field type also gains the
ability to specify a size threshold at which field data is compressed.
<br /><span class="attrib">(klaas, <a href="http://issues.apache.org/jira/browse/SOLR-45">SOLR-45</a>)</span></li>
      <li>Simple faceted search support for fields (enumerating terms)
and arbitrary queries added to both StandardRequestHandler and
DisMaxRequestHandler.
<br /><span class="attrib">(hossman, <a href="http://issues.apache.org/jira/browse/SOLR-44">SOLR-44</a>)</span></li>
      <li>In addition to specifying default RequestHandler params in the
solrconfig.xml, support has been added for configuring values to be
appended to the multi-val request params, as well as for configuring
invariant params that can not overridden in the query.
<br /><span class="attrib">(hossman, <a href="http://issues.apache.org/jira/browse/SOLR-46">SOLR-46</a>)</span></li>
      <li>Default operator for query parsing can now be specified with q.op=AND|OR
from the client request, overriding the schema value.
<br /><span class="attrib">(ehatcher)</span></li>
      <li>New XSLTResponseWriter does server side XSLT processing of XML Response.
In the process, an init(NamedList) method was added to QueryResponseWriter
which works the same way as SolrRequestHandler.
<br /><span class="attrib">(Bertrand Delacretaz / <a href="http://issues.apache.org/jira/browse/SOLR-49">SOLR-49</a> / hossman)</span></li>
      <li>json.wrf parameter adds a wrapper-function around the JSON response,
useful in AJAX with dynamic script tags for specifying a JavaScript
callback function.
<br /><span class="attrib">(Bertrand Delacretaz via yonik, <a href="http://issues.apache.org/jira/browse/SOLR-56">SOLR-56</a>)</span></li>
      <li>autoCommit can be specified every so many documents added
<br /><span class="attrib">(klaas, <a href="http://issues.apache.org/jira/browse/SOLR-65">SOLR-65</a>)</span></li>
      <li>${solr.home}/lib directory can now be used for specifying "plugin" jars
<br /><span class="attrib">(hossman, <a href="http://issues.apache.org/jira/browse/SOLR-68">SOLR-68</a>)</span></li>
      <li>Support for "Date Math" relative "NOW" when specifying values of a
DateField in a query -- or when adding a document.
<br /><span class="attrib">(hossman, <a href="http://issues.apache.org/jira/browse/SOLR-71">SOLR-71</a>)</span></li>
      <li>useColdSearcher control in solrconfig.xml prevents the first searcher
from being used before it's done warming.  This can help prevent
thrashing on startup when multiple requests hit a cold searcher.
The default is "false", preventing use before warm.
<br /><span class="attrib">(yonik, <a href="http://issues.apache.org/jira/browse/SOLR-77">SOLR-77</a>)</span></li>
    </ol>
  </li>
  <li><a id="1.1.0.changes_in_runtime_behavior" href="javascript:toggleList('1.1.0.changes_in_runtime_behavior')">Changes in runtime behavior</a>&nbsp;&nbsp;&nbsp;(11)
    <ol id="1.1.0.changes_in_runtime_behavior.list">
      <li>classes reorganized into different packages, package names changed to Apache
</li>
      <li>force read of document stored fields in QuerySenderListener
</li>
      <li>Solr now looks in ./solr/conf for config, ./solr/data for data
configurable via solr.solr.home system property
</li>
      <li>Highlighter params changed to be prefixed with "hl."; allow fragmentsize
customization and per-field overrides on many options
<br /><span class="attrib">(Andrew May via klaas, <a href="http://issues.apache.org/jira/browse/SOLR-37">SOLR-37</a>)</span></li>
      <li>Default param values for DisMaxRequestHandler should now be specified
using a '&lt;lst name="defaults"&gt;...&lt;/lst&gt;' init param, for backwards
compatability all init prams will be used as defaults if an init param
with that name does not exist.
<br /><span class="attrib">(hossman, <a href="http://issues.apache.org/jira/browse/SOLR-43">SOLR-43</a>)</span></li>
      <li>The DisMaxRequestHandler now supports multiple occurances of the "fq"
param.
<br /><span class="attrib">(hossman, <a href="http://issues.apache.org/jira/browse/SOLR-44">SOLR-44</a>)</span></li>
      <li>FunctionQuery.explain now uses ComplexExplanation to provide more
accurate score explanations when composed in a BooleanQuery.
<br /><span class="attrib">(hossman, <a href="http://issues.apache.org/jira/browse/SOLR-25">SOLR-25</a>)</span></li>
      <li>Document update handling locking is much sparser, allowing performance gains
through multiple threads.  Large commits also might be faster
<br /><span class="attrib">(klaas, <a href="http://issues.apache.org/jira/browse/SOLR-65">SOLR-65</a>)</span></li>
      <li>Lazy field loading can be enabled via a solrconfig directive.  This will be faster when
not all stored fields are needed from a document
<br /><span class="attrib">(klaas, <a href="http://issues.apache.org/jira/browse/SOLR-52">SOLR-52</a>)</span></li>
      <li>Made admin JSPs return XML and transform them with new XSL stylesheets
<br /><span class="attrib">(Otis Gospodnetic, <a href="http://issues.apache.org/jira/browse/SOLR-58">SOLR-58</a>)</span></li>
      <li>If the "echoParams=explicit" request parameter is set, request parameters are copied
to the output. In an XML output, they appear in new &lt;lst name="params"&gt; list inside
the new &lt;lst name="responseHeader"&gt; element, which replaces the old &lt;responseHeader&gt;.
Adding a version=2.1 parameter to the request produces the old format, for backwards
compatibility
<br /><span class="attrib">(bdelacretaz and yonik, <a href="http://issues.apache.org/jira/browse/SOLR-59">SOLR-59</a>)</span>.
</li>
    </ol>
  </li>
  <li><a id="1.1.0.optimizations" href="javascript:toggleList('1.1.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="1.1.0.optimizations.list">
      <li>getDocListAndSet can now generate both a DocList and a DocSet from a
single lucene query.
</li>
      <li>BitDocSet.intersectionSize(HashDocSet) no longer generates an intermediate
set
</li>
      <li>OpenBitSet completed, replaces BitSet as the implementation for BitDocSet.
Iteration is faster, and BitDocSet.intersectionSize(BitDocSet) and unionSize
is between 3 and 4 times faster.
<br /><span class="attrib">(yonik, <a href="http://issues.apache.org/jira/browse/SOLR-15">SOLR-15</a>)</span></li>
      <li>much faster unionSize when one of the sets is a HashDocSet: O
<br /><span class="attrib">(smaller_set_size)</span></li>
      <li>Optimized getDocSet() for term queries resulting in a 36% speedup of facet.field
queries where DocSets aren't cached (for example, if the number of terms in the field
is larger than the filter cache.)
<br /><span class="attrib">(yonik)</span></li>
      <li>Optimized facet.field faceting by as much as 500 times when the field has
a single token per document (not multiValued &amp; not tokenized) by using the
Lucene FieldCache entry for that field to tally term counts.  The first request
utilizing the FieldCache will take longer than subsequent ones.
</li>
    </ol>
  </li>
  <li><a id="1.1.0.bug_fixes" href="javascript:toggleList('1.1.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(13)
    <ol id="1.1.0.bug_fixes.list">
      <li>Fixed delete-by-id for field types who's indexed form is different
from the printable form (mainly sortable numeric types).
</li>
      <li>Added escaping of attribute values in the XML response
<br /><span class="attrib">(Erik Hatcher)</span></li>
      <li>Added empty extractTerms() to FunctionQuery to enable use in
a MultiSearcher
<br /><span class="attrib">(Yonik)</span></li>
      <li>WordDelimiterFilter sometimes lost token positionIncrement information
</li>
      <li>Fix reverse sorting for fields were sortMissingFirst=true
<br /><span class="attrib">(Rob Staveley, yonik)</span></li>
      <li>Worked around a Jetty bug that caused invalid XML responses for fields
containing non ASCII chars.
<br /><span class="attrib">(Bertrand Delacretaz via yonik, <a href="http://issues.apache.org/jira/browse/SOLR-32">SOLR-32</a>)</span></li>
      <li>WordDelimiterFilter can throw exceptions if configured with both
generate and catenate off.
<br /><span class="attrib">(Mike Klaas via yonik, <a href="http://issues.apache.org/jira/browse/SOLR-34">SOLR-34</a>)</span></li>
      <li>Escape '&gt;' in XML output
<br /><span class="attrib">(because ]]&gt; is illegal in CharData)</span></li>
      <li>field boosts weren't being applied and doc boosts were being applied to fields
<br /><span class="attrib">(klaas)</span></li>
      <li>Multiple-doc update generates well-formed xml
<br /><span class="attrib">(klaas, <a href="http://issues.apache.org/jira/browse/SOLR-65">SOLR-65</a>)</span></li>
      <li>Better parsing of pingQuery from solrconfig.xml
<br /><span class="attrib">(hossman, <a href="http://issues.apache.org/jira/browse/SOLR-70">SOLR-70</a>)</span></li>
      <li>Fixed bug with "Distribution" page introduced when Versions were
added to "Info" page
<br /><span class="attrib">(hossman)</span></li>
      <li>Fixed HTML escaping issues with user input to analysis.jsp and action.jsp
<br /><span class="attrib">(hossman, <a href="http://issues.apache.org/jira/browse/SOLR-74">SOLR-74</a>)</span></li>
    </ol>
  </li>
  <li><a id="1.1.0.other_changes" href="javascript:toggleList('1.1.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(15)
    <ol id="1.1.0.other_changes.list">
      <li>Upgrade to Lucene 2.0 nightly build 2006-06-22, lucene SVN revision 416224,
<a href="http://svn.apache.org/viewvc/lucene/java/trunk/CHANGES.txt?view=markup&amp;pathrev=416224">http://svn.apache.org/viewvc/lucene/java/trunk/CHANGES.txt?view=markup&amp;pathrev=416224</a>
</li>
      <li>Modified admin styles to improve display in Internet Explorer
<br /><span class="attrib">(Greg Ludington via billa, <a href="http://issues.apache.org/jira/browse/SOLR-6">SOLR-6</a>)</span></li>
      <li>Upgrade to Lucene 2.0 nightly build 2006-07-15, lucene SVN revision 422302,
</li>
      <li>Included unique key field name/value (if available) in log message of add
<br /><span class="attrib">(billa, <a href="http://issues.apache.org/jira/browse/SOLR-18">SOLR-18</a>)</span></li>
      <li>Updated to Lucene 2.0 nightly build 2006-09-07, SVN revision 462111
</li>
      <li>Added javascript to catch empty query in admin query forms (Tomislav Nakic-Alfirevic via billa, <a href="http://issues.apache.org/jira/browse/SOLR-48">SOLR-48</a>
</li>
      <li>blackslash escape * in ssh command used in snappuller for zsh compatibility, <a href="http://issues.apache.org/jira/browse/SOLR-63">SOLR-63</a>
</li>
      <li>check solr return code in admin scripts, <a href="http://issues.apache.org/jira/browse/SOLR-62">SOLR-62</a>
</li>
      <li>Updated to Lucene 2.0 nightly build 2006-11-15, SVN revision 475069
</li>
      <li>Removed src/apps containing the legacy "SolrTest" app
<br /><span class="attrib">(hossman, <a href="http://issues.apache.org/jira/browse/SOLR-3">SOLR-3</a>)</span></li>
      <li>Simplified index.jsp and form.jsp, primarily by removing/hiding XML
specific params, and adding an option to pick the output type.
<br /><span class="attrib">(hossman)</span></li>
      <li>Added new numeric build property "specversion" to allow clean
MANIFEST.MF files
<br /><span class="attrib">(hossman)</span></li>
      <li>Added Solr/Lucene versions to "Info" page
<br /><span class="attrib">(hossman)</span></li>
      <li>Explicitly set mime-type of .xsl files in web.xml to
application/xslt+xml
<br /><span class="attrib">(hossman)</span></li>
      <li>Config parsing should now work useing DOM Level 2 parsers -- Solr
previously relied on getTextContent which is a DOM Level 3 addition
<br /><span class="attrib">(Alexander Saar via hossman, <a href="http://issues.apache.org/jira/browse/SOLR-78">SOLR-78</a>)</span></li>
    </ol>
  </li>
</ul>
<h3>2006/01/17 Solr open sourced, moves to Apache Incubator
 </h3>
</ul>
</body>
</html>
